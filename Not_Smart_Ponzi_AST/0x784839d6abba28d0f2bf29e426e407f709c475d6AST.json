{"type": "SourceUnit", "children": [{"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "MathUint", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "mul", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "b", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "c", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "c"}, "right": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "Identifier", "name": "b"}}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "/", "left": {"type": "Identifier", "name": "c"}, "right": {"type": "Identifier", "name": "a"}}, "right": {"type": "Identifier", "name": "b"}}}, {"type": "StringLiteral", "value": "MUL_OVERFLOW"}], "names": []}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "sub", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "b", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "b"}, "right": {"type": "Identifier", "name": "a"}}, {"type": "StringLiteral", "value": "SUB_UNDERFLOW"}], "names": []}}, {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "Identifier", "name": "b"}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "add", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "b", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "c", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "c"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "Identifier", "name": "b"}}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "Identifier", "name": "c"}, "right": {"type": "Identifier", "name": "a"}}, {"type": "StringLiteral", "value": "ADD_OVERFLOW"}], "names": []}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "decodeFloat", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "f", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numBitsMantissa", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "23", "subdenomination": null}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exponent", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": ">>", "left": {"type": "Identifier", "name": "f"}, "right": {"type": "Identifier", "name": "numBitsMantissa"}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "mantissa", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "&", "left": {"type": "Identifier", "name": "f"}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "<<", "left": {"type": "NumberLiteral", "number": "1", "subdenomination": null}, "right": {"type": "Identifier", "name": "numBitsMantissa"}}], "isArray": false}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}], "isArray": false}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "value"}, "right": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "mantissa"}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "Identifier", "name": "exponent"}}], "isArray": false}}}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "IAddressWhitelist", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "isWhitelisted", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "user", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "permission", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "Poseidon", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "hash_t5f6p52", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "t0", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "t1", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "t2", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "t3", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "t4", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "q", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "21888242871839275222246405745257275088548364400416034343698204186575808495617", "subdenomination": null}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "t0"}, "right": {"type": "Identifier", "name": "q"}}, {"type": "StringLiteral", "value": "INVALID_INPUT"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "t1"}, "right": {"type": "Identifier", "name": "q"}}, {"type": "StringLiteral", "value": "INVALID_INPUT"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "t2"}, "right": {"type": "Identifier", "name": "q"}}, {"type": "StringLiteral", "value": "INVALID_INPUT"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "t3"}, "right": {"type": "Identifier", "name": "q"}}, {"type": "StringLiteral", "value": "INVALID_INPUT"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "t4"}, "right": {"type": "Identifier", "name": "q"}}, {"type": "StringLiteral", "value": "INVALID_INPUT"}], "names": []}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyFunctionDefinition", "name": "mix", "arguments": [{"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "Identifier", "name": "t4"}, {"type": "Identifier", "name": "q"}], "returnArguments": [{"type": "Identifier", "name": "nt0"}, {"type": "Identifier", "name": "nt1"}, {"type": "Identifier", "name": "nt2"}, {"type": "Identifier", "name": "nt3"}, {"type": "Identifier", "name": "nt4"}], "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt0"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "DecimalNumber", "value": "4977258759536702998522229302103997878600602264560359702680165243908162277980"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt0"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "DecimalNumber", "value": "19167410339349846567561662441069598364702008768579734801591448511131028229281"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt0"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "DecimalNumber", "value": "14183033936038168803360723133013092560869148726790180682363054735190196956789"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt0"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "DecimalNumber", "value": "9067734253445064890734144122526450279189023719890032859456830213166173619761"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt0"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "DecimalNumber", "value": "16378664841697311562845443097199265623838619398287411428110917414833007677155"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt1"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "DecimalNumber", "value": "107933704346764130067829474107909495889716688591997879426350582457782826785"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt1"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "DecimalNumber", "value": "17034139127218860091985397764514160131253018178110701196935786874261236172431"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt1"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "DecimalNumber", "value": "2799255644797227968811798608332314218966179365168250111693473252876996230317"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt1"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "DecimalNumber", "value": "2482058150180648511543788012634934806465808146786082148795902594096349483974"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt1"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "DecimalNumber", "value": "16563522740626180338295201738437974404892092704059676533096069531044355099628"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt2"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "DecimalNumber", "value": "13596762909635538739079656925495736900379091964739248298531655823337482778123"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt2"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "DecimalNumber", "value": "18985203040268814769637347880759846911264240088034262814847924884273017355969"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt2"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "DecimalNumber", "value": "8652975463545710606098548415650457376967119951977109072274595329619335974180"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt2"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "DecimalNumber", "value": "970943815872417895015626519859542525373809485973005165410533315057253476903"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt2"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "DecimalNumber", "value": "19406667490568134101658669326517700199745817783746545889094238643063688871948"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt3"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "DecimalNumber", "value": "2953507793609469112222895633455544691298656192015062835263784675891831794974"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt3"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "DecimalNumber", "value": "19025623051770008118343718096455821045904242602531062247152770448380880817517"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt3"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "DecimalNumber", "value": "9077319817220936628089890431129759976815127354480867310384708941479362824016"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt3"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "DecimalNumber", "value": "4770370314098695913091200576539533727214143013236894216582648993741910829490"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt3"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "DecimalNumber", "value": "4298564056297802123194408918029088169104276109138370115401819933600955259473"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt4"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "DecimalNumber", "value": "8336710468787894148066071988103915091676109272951895469087957569358494947747"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt4"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "DecimalNumber", "value": "16205238342129310687768799056463408647672389183328001070715567975181364448609"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt4"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "DecimalNumber", "value": "8303849270045876854140023508764676765932043944545416856530551331270859502246"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt4"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "DecimalNumber", "value": "20218246699596954048529384569730026273241102596326201163062133863539137060414"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt4"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "DecimalNumber", "value": "1712845821388089905746651754894206522004527237615042226559791118162382909269"}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}]}}, {"type": "AssemblyFunctionDefinition", "name": "ark", "arguments": [{"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "Identifier", "name": "t4"}, {"type": "Identifier", "name": "q"}, {"type": "Identifier", "name": "c"}], "returnArguments": [{"type": "Identifier", "name": "nt0"}, {"type": "Identifier", "name": "nt1"}, {"type": "Identifier", "name": "nt2"}, {"type": "Identifier", "name": "nt3"}, {"type": "Identifier", "name": "nt4"}], "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt0"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "c", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt1"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "c", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt2"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "c", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt3"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "c", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt4"}], "expression": {"type": "AssemblyExpression", "functionName": "addmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "c", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}]}}, {"type": "AssemblyFunctionDefinition", "name": "sbox_full", "arguments": [{"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "Identifier", "name": "t4"}, {"type": "Identifier", "name": "q"}], "returnArguments": [{"type": "Identifier", "name": "nt0"}, {"type": "Identifier", "name": "nt1"}, {"type": "Identifier", "name": "nt2"}, {"type": "Identifier", "name": "nt3"}, {"type": "Identifier", "name": "nt4"}], "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt0"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt0"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "nt0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt0"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "nt0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt1"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt1"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "nt1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt1"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "nt1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt2"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt2"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "nt2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt2"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "nt2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt3"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt3"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "nt3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt3"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "nt3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt4"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt4"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "nt4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt4"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "nt4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}]}}, {"type": "AssemblyFunctionDefinition", "name": "sbox_partial", "arguments": [{"type": "Identifier", "name": "t"}, {"type": "Identifier", "name": "q"}], "returnArguments": [{"type": "Identifier", "name": "nt"}], "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "nt", "arguments": []}, {"type": "AssemblyExpression", "functionName": "nt", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "nt"}], "expression": {"type": "AssemblyExpression", "functionName": "mulmod", "arguments": [{"type": "AssemblyExpression", "functionName": "t", "arguments": []}, {"type": "AssemblyExpression", "functionName": "nt", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "14397397413755236225575615486459253198602422701513067526754101844196324375522"}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_full", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "10405129301473404666785234951972711717481302463898292859783056520670200613128"}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_full", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "5179144822360023508491245509308555580251733042407187134628755730783052214509"}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_full", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "9132640374240188374542843306219594180154739721841249568925550236430986592615"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "20360807315276763881209958738450444293273549928693737723235350358403012458514"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "17933600965499023212689924809448543050840131883187652471064418452962948061619"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "3636213416533737411392076250708419981662897009810345015164671602334517041153"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "2008540005368330234524962342006691994500273283000229509835662097352946198608"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "16018407964853379535338740313053768402596521780991140819786560130595652651567"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "20653139667070586705378398435856186172195806027708437373983929336015162186471"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "17887713874711369695406927657694993484804203950786446055999405564652412116765"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "4852706232225925756777361208698488277369799648067343227630786518486608711772"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "8969172011633935669771678412400911310465619639756845342775631896478908389850"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "20570199545627577691240476121888846460936245025392381957866134167601058684375"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "16442329894745639881165035015179028112772410105963688121820543219662832524136"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "20060625627350485876280451423010593928172611031611836167979515653463693899374"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "16637282689940520290130302519163090147511023430395200895953984829546679599107"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "15599196921909732993082127725908821049411366914683565306060493533569088698214"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "16894591341213863947423904025624185991098788054337051624251730868231322135455"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "1197934381747032348421303489683932612752526046745577259575778515005162320212"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "6172482022646932735745595886795230725225293469762393889050804649558459236626"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "21004037394166516054140386756510609698837211370585899203851827276330669555417"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "15262034989144652068456967541137853724140836132717012646544737680069032573006"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "15017690682054366744270630371095785995296470601172793770224691982518041139766"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "15159744167842240513848638419303545693472533086570469712794583342699782519832"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "11178069035565459212220861899558526502477231302924961773582350246646450941231"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "21154888769130549957415912997229564077486639529994598560737238811887296922114"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "20162517328110570500010831422938033120419484532231241180224283481905744633719"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "2777362604871784250419758188173029886707024739806641263170345377816177052018"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "15732290486829619144634131656503993123618032247178179298922551820261215487562"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "6024433414579583476444635447152826813568595303270846875177844482142230009826"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "17677827682004946431939402157761289497221048154630238117709539216286149983245"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "10716307389353583413755237303156291454109852751296156900963208377067748518748"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "14925386988604173087143546225719076187055229908444910452781922028996524347508"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "8940878636401797005293482068100797531020505636124892198091491586778667442523"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "18911747154199663060505302806894425160044925686870165583944475880789706164410"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "8821532432394939099312235292271438180996556457308429936910969094255825456935"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "20632576502437623790366878538516326728436616723089049415538037018093616927643"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "71447649211767888770311304010816315780740050029903404046389165015534756512"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "2781996465394730190470582631099299305677291329609718650018200531245670229393"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "12441376330954323535872906380510501637773629931719508864016287320488688345525"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "2558302139544901035700544058046419714227464650146159803703499681139469546006"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "10087036781939179132584550273563255199577525914374285705149349445480649057058"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "4267692623754666261749551533667592242661271409704769363166965280715887854739"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "4945579503584457514844595640661884835097077318604083061152997449742124905548"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "17742335354489274412669987990603079185096280484072783973732137326144230832311"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "6266270088302506215402996795500854910256503071464802875821837403486057988208"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "2716062168542520412498610856550519519760063668165561277991771577403400784706"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "19118392018538203167410421493487769944462015419023083813301166096764262134232"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "9386595745626044000666050847309903206827901310677406022353307960932745699524"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "9121640807890366356465620448383131419933298563527245687958865317869840082266"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "3078975275808111706229899605611544294904276390490742680006005661017864583210"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "7157404299437167354719786626667769956233708887934477609633504801472827442743"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "14056248655941725362944552761799461694550787028230120190862133165195793034373"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "14124396743304355958915937804966111851843703158171757752158388556919187839849"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t0"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_partial", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "11851254356749068692552943732920045260402277343008629727465773766468466181076"}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_full", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "9799099446406796696742256539758943483211846559715874347178722060519817626047"}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_full", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "ark", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}, {"type": "DecimalNumber", "value": "10156146186214948683880719664738535455146137901666656566575307300522957959544"}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "sbox_full", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}, {"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "t4"}], "expression": {"type": "AssemblyExpression", "functionName": "mix", "arguments": [{"type": "AssemblyExpression", "functionName": "t0", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t1", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t2", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t3", "arguments": []}, {"type": "AssemblyExpression", "functionName": "t4", "arguments": []}, {"type": "AssemblyExpression", "functionName": "q", "arguments": []}]}}]}}, {"type": "Identifier", "name": "t0"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ExchangeBalances", "baseContracts": [], "subNodes": [{"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "libraryName": "MathUint"}, {"type": "FunctionDefinition", "name": "verifyAccountBalance", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "merkleRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "balance", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "tradeHistoryRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "30", "subdenomination": null}}, "name": "accountMerkleProof", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "12", "subdenomination": null}}, "name": "balanceMerkleProof", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isCorrect", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "isAccountBalanceCorrect"}, "arguments": [{"type": "Identifier", "name": "merkleRoot"}, {"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "tokenID"}, {"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}, {"type": "Identifier", "name": "nonce"}, {"type": "Identifier", "name": "balance"}, {"type": "Identifier", "name": "tradeHistoryRoot"}, {"type": "Identifier", "name": "accountMerkleProof"}, {"type": "Identifier", "name": "balanceMerkleProof"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "Identifier", "name": "isCorrect"}, {"type": "StringLiteral", "value": "INVALID_MERKLE_TREE_DATA"}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "isAccountBalanceCorrect", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "merkleRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "balance", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "tradeHistoryRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "30", "subdenomination": null}}, "name": "accountMerkleProof", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "12", "subdenomination": null}}, "name": "balanceMerkleProof", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isCorrect", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "calculatedRoot", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getBalancesRoot"}, "arguments": [{"type": "Identifier", "name": "tokenID"}, {"type": "Identifier", "name": "balance"}, {"type": "Identifier", "name": "tradeHistoryRoot"}, {"type": "Identifier", "name": "balanceMerkleProof"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "calculatedRoot"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getAccountInternalsRoot"}, "arguments": [{"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}, {"type": "Identifier", "name": "nonce"}, {"type": "Identifier", "name": "calculatedRoot"}, {"type": "Identifier", "name": "accountMerkleProof"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "isCorrect"}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "calculatedRoot"}, "right": {"type": "Identifier", "name": "merkleRoot"}}], "isArray": false}}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "getBalancesRoot", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "balance", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "tradeHistoryRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "12", "subdenomination": null}}, "name": "balanceMerkleProof", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "balanceItem", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "hashImpl"}, "arguments": [{"type": "Identifier", "name": "balance"}, {"type": "Identifier", "name": "tradeHistoryRoot"}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_id", "storageLocation": null}], "initialValue": {"type": "Identifier", "name": "tokenID"}}, {"type": "ForStatement", "initExpression": {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "depth", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "conditionExpression": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "4", "subdenomination": null}}, "loopExpression": {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "depth"}, "isPrefix": false}}, "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "&", "left": {"type": "Identifier", "name": "_id"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "balanceItem"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "hashImpl"}, "arguments": [{"type": "Identifier", "name": "balanceItem"}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "balanceMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "balanceMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "balanceMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}}], "names": []}}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "&", "left": {"type": "Identifier", "name": "_id"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "balanceItem"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "hashImpl"}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "balanceMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}}, {"type": "Identifier", "name": "balanceItem"}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "balanceMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "balanceMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}}], "names": []}}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "&", "left": {"type": "Identifier", "name": "_id"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "balanceItem"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "hashImpl"}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "balanceMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "balanceMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "Identifier", "name": "balanceItem"}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "balanceMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}}], "names": []}}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "&", "left": {"type": "Identifier", "name": "_id"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "balanceItem"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "hashImpl"}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "balanceMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "balanceMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "balanceMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}}, {"type": "Identifier", "name": "balanceItem"}], "names": []}}}]}, "FalseBody": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "_id"}, "right": {"type": "BinaryOperation", "operator": ">>", "left": {"type": "Identifier", "name": "_id"}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}}}]}}, {"type": "Identifier", "name": "balanceItem"}]}, "visibility": "private", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "getAccountInternalsRoot", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "balancesRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "30", "subdenomination": null}}, "name": "accountMerkleProof", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accountItem", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "hashImpl"}, "arguments": [{"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}, {"type": "Identifier", "name": "nonce"}, {"type": "Identifier", "name": "balancesRoot"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_id", "storageLocation": null}], "initialValue": {"type": "Identifier", "name": "accountID"}}, {"type": "ForStatement", "initExpression": {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "depth", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "conditionExpression": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "10", "subdenomination": null}}, "loopExpression": {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "depth"}, "isPrefix": false}}, "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "&", "left": {"type": "Identifier", "name": "_id"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accountItem"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "hashImpl"}, "arguments": [{"type": "Identifier", "name": "accountItem"}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "accountMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "accountMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "accountMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}}], "names": []}}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "&", "left": {"type": "Identifier", "name": "_id"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accountItem"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "hashImpl"}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "accountMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}}, {"type": "Identifier", "name": "accountItem"}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "accountMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "accountMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}}], "names": []}}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "&", "left": {"type": "Identifier", "name": "_id"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accountItem"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "hashImpl"}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "accountMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "accountMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "Identifier", "name": "accountItem"}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "accountMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}}], "names": []}}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "&", "left": {"type": "Identifier", "name": "_id"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accountItem"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "hashImpl"}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "accountMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "accountMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "accountMerkleProof"}, "index": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "depth"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}}, {"type": "Identifier", "name": "accountItem"}], "names": []}}}]}, "FalseBody": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "_id"}, "right": {"type": "BinaryOperation", "operator": ">>", "left": {"type": "Identifier", "name": "_id"}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}}}]}}, {"type": "Identifier", "name": "accountItem"}]}, "visibility": "private", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "hashImpl", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "t0", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "t1", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "t2", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "t3", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "Poseidon"}, "memberName": "hash_t5f6p52"}, "arguments": [{"type": "Identifier", "name": "t0"}, {"type": "Identifier", "name": "t1"}, {"type": "Identifier", "name": "t2"}, {"type": "Identifier", "name": "t3"}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}]}, "visibility": "private", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "IBlockVerifier", "baseContracts": [], "subNodes": [{"type": "EventDefinition", "name": "CircuitRegistered", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockType", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "CircuitDisabled", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockType", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "registerCircuit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockType", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "18", "subdenomination": null}}, "name": "vk", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "disableCircuit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockType", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "verifyProofs", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockType", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": null}, "name": "publicInputs", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": null}, "name": "proofs", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "isCircuitRegistered", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockType", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "isCircuitEnabled", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockType", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "Ownable", "baseContracts": [], "subNodes": [{"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "EventDefinition", "name": "OwnershipTransferred", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "previousOwner", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "newOwner", "isStateVar": false, "isIndexed": true}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": null, "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": null, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "owner"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}}]}, "visibility": "public", "modifiers": [], "isConstructor": true, "stateMutability": null}, {"type": "ModifierDefinition", "name": "onlyOwner", "parameters": {"type": "ParameterList", "parameters": []}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "Identifier", "name": "owner"}}, {"type": "StringLiteral", "value": "UNAUTHORIZED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "Identifier", "name": "_"}}]}}, {"type": "FunctionDefinition", "name": "transferOwnership", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "newOwner", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "newOwner"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, {"type": "StringLiteral", "value": "ZERO_ADDRESS"}], "names": []}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "OwnershipTransferred"}, "arguments": [{"type": "Identifier", "name": "owner"}, {"type": "Identifier", "name": "newOwner"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "owner"}, "right": {"type": "Identifier", "name": "newOwner"}}}]}, "visibility": "public", "modifiers": [{"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "renounceOwnership", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "OwnershipTransferred"}, "arguments": [{"type": "Identifier", "name": "owner"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "owner"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}}]}, "visibility": "public", "modifiers": [{"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "Claimable", "baseContracts": [{"type": "InheritanceSpecifier", "baseName": {"type": "UserDefinedTypeName", "namePath": "Ownable"}, "arguments": []}], "subNodes": [{"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "pendingOwner", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "ModifierDefinition", "name": "onlyPendingOwner", "parameters": {"type": "ParameterList", "parameters": []}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "Identifier", "name": "pendingOwner"}}, {"type": "StringLiteral", "value": "UNAUTHORIZED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "Identifier", "name": "_"}}]}}, {"type": "FunctionDefinition", "name": "transferOwnership", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "newOwner", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "newOwner"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, "right": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "newOwner"}, "right": {"type": "Identifier", "name": "owner"}}}, {"type": "StringLiteral", "value": "INVALID_ADDRESS"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "pendingOwner"}, "right": {"type": "Identifier", "name": "newOwner"}}}]}, "visibility": "public", "modifiers": [{"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "claimOwnership", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "OwnershipTransferred"}, "arguments": [{"type": "Identifier", "name": "owner"}, {"type": "Identifier", "name": "pendingOwner"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "owner"}, "right": {"type": "Identifier", "name": "pendingOwner"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "pendingOwner"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}}]}, "visibility": "public", "modifiers": [{"type": "ModifierInvocation", "name": "onlyPendingOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ReentrancyGuard", "baseContracts": [], "subNodes": [{"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_guardValue", "expression": null, "visibility": "private", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "ModifierDefinition", "name": "nonReentrant", "parameters": {"type": "ParameterList", "parameters": []}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "_guardValue"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "REENTRANCY"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "_guardValue"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "ExpressionStatement", "expression": {"type": "Identifier", "name": "_"}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "_guardValue"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}]}}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ILoopring", "baseContracts": [{"type": "InheritanceSpecifier", "baseName": {"type": "UserDefinedTypeName", "namePath": "Claimable"}, "arguments": []}, {"type": "InheritanceSpecifier", "baseName": {"type": "UserDefinedTypeName", "namePath": "ReentrancyGuard"}, "arguments": []}], "subNodes": [{"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "protocolRegistry", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "lrcAddress", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeCreationCostLRC", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "EventDefinition", "name": "ExchangeInitialized", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "exchangeAddress", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "operator", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "initializeExchange", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "exchangeAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "operator", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ILoopringV3", "baseContracts": [{"type": "InheritanceSpecifier", "baseName": {"type": "UserDefinedTypeName", "namePath": "ILoopring"}, "arguments": []}], "subNodes": [{"type": "EventDefinition", "name": "ExchangeStakeDeposited", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "ExchangeStakeWithdrawn", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "ExchangeStakeBurned", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "ProtocolFeeStakeDeposited", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "ProtocolFeeStakeWithdrawn", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "SettingsUpdated", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "time", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "StructDefinition", "name": "Exchange", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "exchangeAddress", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeStake", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "protocolFeeStake", "storageLocation": null}]}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "uint"}, "valueType": {"type": "UserDefinedTypeName", "namePath": "Exchange"}}, "name": "exchanges", "expression": null, "visibility": "internal", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "totalStake", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "wethAddress", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "exchangeDeployerAddress", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "blockVerifierAddress", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "downtimeCostCalculator", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "maxWithdrawalFee", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "withdrawalFineLRC", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "tokenRegistrationFeeLRCBase", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "tokenRegistrationFeeLRCDelta", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "minExchangeStakeWithDataAvailability", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "minExchangeStakeWithoutDataAvailability", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "revertFineLRC", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "minProtocolTakerFeeBips", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "maxProtocolTakerFeeBips", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "minProtocolMakerFeeBips", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "maxProtocolMakerFeeBips", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "targetProtocolTakerFeeStake", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "targetProtocolMakerFeeStake", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "protocolFeeVault", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "FunctionDefinition", "name": "updateSettings", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "_protocolFeeVault", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_blockVerifierAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_downtimeCostCalculator", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_exchangeCreationCostLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_maxWithdrawalFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_tokenRegistrationFeeLRCBase", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_tokenRegistrationFeeLRCDelta", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_minExchangeStakeWithDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_minExchangeStakeWithoutDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_revertFineLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_withdrawalFineLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "updateProtocolFeeSettings", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "_minProtocolTakerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "_maxProtocolTakerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "_minProtocolMakerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "_maxProtocolMakerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_targetProtocolTakerFeeStake", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_targetProtocolMakerFeeStake", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "canExchangeCommitBlocks", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getExchangeStake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "stakedLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "burnExchangeStake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "burnedLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "depositExchangeStake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amountLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "stakedLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawExchangeStake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "requestedAmount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "depositProtocolFeeStake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amountLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "stakedLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawProtocolFeeStake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getProtocolFeeValues", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "takerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "makerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getProtocolFeeStake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "protocolFeeStake", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ExchangeData", "baseContracts": [], "subNodes": [{"type": "EnumDefinition", "name": "BlockType", "members": [{"type": "EnumValue", "name": "RING_SETTLEMENT"}, {"type": "EnumValue", "name": "DEPOSIT"}, {"type": "EnumValue", "name": "ONCHAIN_WITHDRAWAL"}, {"type": "EnumValue", "name": "OFFCHAIN_WITHDRAWAL"}, {"type": "EnumValue", "name": "ORDER_CANCELLATION"}, {"type": "EnumValue", "name": "TRANSFER"}]}, {"type": "EnumDefinition", "name": "BlockState", "members": [{"type": "EnumValue", "name": "NEW"}, {"type": "EnumValue", "name": "COMMITTED"}, {"type": "EnumValue", "name": "VERIFIED"}]}, {"type": "StructDefinition", "name": "Account", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null}]}, {"type": "StructDefinition", "name": "Token", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "depositDisabled", "storageLocation": null}]}, {"type": "StructDefinition", "name": "ProtocolFeeData", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "takerFeeBips", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "makerFeeBips", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "previousTakerFeeBips", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "previousMakerFeeBips", "storageLocation": null}]}, {"type": "StructDefinition", "name": "Block", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "merkleRoot", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "publicDataHash", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "BlockState"}, "name": "state", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "BlockType"}, "name": "blockType", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "numDepositRequestsCommitted", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "numWithdrawalRequestsCommitted", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "blockFeeWithdrawn", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "numWithdrawalsDistributed", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "withdrawals", "storageLocation": null}]}, {"type": "StructDefinition", "name": "Request", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "accumulatedHash", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accumulatedFee", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null}]}, {"type": "StructDefinition", "name": "Deposit", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "storageLocation": null}]}, {"type": "FunctionDefinition", "name": "SNARK_SCALAR_FIELD", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "21888242871839275222246405745257275088548364400416034343698204186575808495617", "subdenomination": null}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MAX_PROOF_GENERATION_TIME_IN_SECONDS", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "1", "subdenomination": "hours"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MAX_GAP_BETWEEN_FINALIZED_AND_VERIFIED_BLOCKS", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "2500", "subdenomination": null}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MAX_OPEN_DEPOSIT_REQUESTS", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "1024", "subdenomination": null}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MAX_OPEN_WITHDRAWAL_REQUESTS", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "1024", "subdenomination": null}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MAX_AGE_UNFINALIZED_BLOCK_UNTIL_WITHDRAW_MODE", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "1", "subdenomination": "days"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MAX_AGE_REQUEST_UNTIL_FORCED", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "15", "subdenomination": "minutes"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MAX_AGE_REQUEST_UNTIL_WITHDRAW_MODE", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "1", "subdenomination": "days"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MAX_TIME_IN_SHUTDOWN_BASE", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "1", "subdenomination": "days"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MAX_TIME_IN_SHUTDOWN_DELTA", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "15", "subdenomination": "seconds"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "TIMESTAMP_HALF_WINDOW_SIZE_IN_SECONDS", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "10", "subdenomination": "minutes"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MAX_NUM_TOKENS", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "2", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "8", "subdenomination": null}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MAX_NUM_ACCOUNTS", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "2", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "20", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MAX_TIME_TO_DISTRIBUTE_WITHDRAWALS", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "2", "subdenomination": "hours"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "FEE_BLOCK_FINE_START_TIME", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "5", "subdenomination": "minutes"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "FEE_BLOCK_FINE_MAX_DURATION", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "30", "subdenomination": "minutes"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MIN_GAS_TO_DISTRIBUTE_WITHDRAWALS", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "60000", "subdenomination": null}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "MIN_AGE_PROTOCOL_FEES_UNTIL_UPDATED", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "1", "subdenomination": "days"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "GAS_LIMIT_SEND_TOKENS", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "30000", "subdenomination": null}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "StructDefinition", "name": "State", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "id", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeCreationTimestamp", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "operator", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ILoopringV3"}, "name": "loopring", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "IBlockVerifier"}, "name": "blockVerifier", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "lrcAddress", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "totalTimeInMaintenanceSeconds", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numDowntimeMinutes", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "downtimeStart", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "addressWhitelist", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accountCreationFeeETH", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accountUpdateFeeETH", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "depositFeeETH", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "withdrawalFeeETH", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "UserDefinedTypeName", "namePath": "Block"}, "length": null}, "name": "blocks", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "UserDefinedTypeName", "namePath": "Token"}, "length": null}, "name": "tokens", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "UserDefinedTypeName", "namePath": "Account"}, "length": null}, "name": "accounts", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "UserDefinedTypeName", "namePath": "Deposit"}, "length": null}, "name": "deposits", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "UserDefinedTypeName", "namePath": "Request"}, "length": null}, "name": "depositChain", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "UserDefinedTypeName", "namePath": "Request"}, "length": null}, "name": "withdrawalChain", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "ElementaryTypeName", "name": "uint24"}}, "name": "ownerToAccountId", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "ElementaryTypeName", "name": "uint16"}}, "name": "tokenToTokenId", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "ElementaryTypeName", "name": "bool"}}}, "name": "withdrawnInWithdrawMode", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "ElementaryTypeName", "name": "uint"}}, "name": "tokenBalances", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numBlocksFinalized", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ProtocolFeeData"}, "name": "protocolFeeData", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "shutdownStartTime", "storageLocation": null}]}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ExchangeAccounts", "baseContracts": [], "subNodes": [{"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "libraryName": "MathUint"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeBalances"}, {"type": "EventDefinition", "name": "AccountCreated", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "id", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "AccountUpdated", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "id", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "getAccount", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accountID"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getAccountID"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "owner"}], "names": []}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Account"}, "name": "account", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accounts"}, "index": {"type": "Identifier", "name": "accountID"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "pubKeyX"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyX"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "pubKeyY"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyY"}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "createOrUpdateAccount", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "permission", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountNew", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountUpdated", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "isAccountNew"}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "ownerToAccountId"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}], "isArray": false}}}, {"type": "IfStatement", "condition": {"type": "Identifier", "name": "isAccountNew"}, "TrueBody": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "addressWhitelist"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "IAddressWhitelist"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "addressWhitelist"}], "names": []}, "memberName": "isWhitelisted"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "permission"}], "names": []}, {"type": "StringLiteral", "value": "ADDRESS_NOT_WHITELISTED"}], "names": []}}]}, "FalseBody": null}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accountID"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "createAccount"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "isAccountUpdated"}, "right": {"type": "BooleanLiteral", "value": false}}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "TupleExpression", "components": [{"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "isAccountUpdated"}], "isArray": false}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "updateAccount"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}], "names": []}}}]}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getAccountID", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accountID"}, "right": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "ownerToAccountId"}, "index": {"type": "Identifier", "name": "owner"}}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "accountID"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "ADDRESS_HAS_NO_ACCOUNT"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accountID"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "accountID"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "createAccount", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accounts"}, "memberName": "length"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_NUM_ACCOUNTS"}, "arguments": [], "names": []}}, {"type": "StringLiteral", "value": "ACCOUNTS_FULL"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "ownerToAccountId"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "ACCOUNT_EXISTS"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accountID"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accounts"}, "memberName": "length"}], "names": []}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Account"}, "name": "account", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "Account"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accounts"}, "memberName": "push"}, "arguments": [{"type": "Identifier", "name": "account"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "ownerToAccountId"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "accountID"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "AccountCreated"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}], "names": []}}]}, "visibility": "private", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "updateAccount", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountUpdated", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "ownerToAccountId"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "ACCOUNT_NOT_EXIST"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accountID"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "ownerToAccountId"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Account"}, "name": "account", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accounts"}, "index": {"type": "Identifier", "name": "accountID"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "isAccountUpdated"}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyX"}, "right": {"type": "Identifier", "name": "pubKeyX"}}, "right": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyY"}, "right": {"type": "Identifier", "name": "pubKeyY"}}}], "isArray": false}}}, {"type": "IfStatement", "condition": {"type": "Identifier", "name": "isAccountUpdated"}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyX"}, "right": {"type": "Identifier", "name": "pubKeyX"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyY"}, "right": {"type": "Identifier", "name": "pubKeyY"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "AccountUpdated"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}], "names": []}}]}, "FalseBody": null}]}, "visibility": "private", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ERC20", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "totalSupply", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "balanceOf", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "who", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "allowance", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "spender", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "transfer", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "transferFrom", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "approve", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "spender", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "BurnableERC20", "baseContracts": [{"type": "InheritanceSpecifier", "baseName": {"type": "UserDefinedTypeName", "namePath": "ERC20"}, "arguments": []}], "subNodes": [{"type": "FunctionDefinition", "name": "burn", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "burnFrom", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ERC20SafeTransfer", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "safeTransfer", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "safeTransferWithGasLimit"}, "arguments": [{"type": "Identifier", "name": "token"}, {"type": "Identifier", "name": "to"}, {"type": "Identifier", "name": "value"}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "gasleft"}, "arguments": [], "names": []}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "safeTransferWithGasLimit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "gasLimit", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "callData", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodeWithSelector"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes4"}}, "arguments": [{"type": "NumberLiteral", "number": "0xa9059cbb", "subdenomination": null}], "names": []}, {"type": "Identifier", "name": "to"}, {"type": "Identifier", "name": "value"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": null, "initialValue": {"type": "FunctionCall", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "token"}, "memberName": "call"}, "memberName": "gas"}, "arguments": [{"type": "Identifier", "name": "gasLimit"}], "names": []}, "arguments": [{"type": "Identifier", "name": "callData"}], "names": []}}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "checkReturnValue"}, "arguments": [{"type": "Identifier", "name": "success"}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "safeTransferFrom", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "safeTransferFromWithGasLimit"}, "arguments": [{"type": "Identifier", "name": "token"}, {"type": "Identifier", "name": "from"}, {"type": "Identifier", "name": "to"}, {"type": "Identifier", "name": "value"}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "gasleft"}, "arguments": [], "names": []}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "safeTransferFromWithGasLimit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "gasLimit", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "callData", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodeWithSelector"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes4"}}, "arguments": [{"type": "NumberLiteral", "number": "0x23b872dd", "subdenomination": null}], "names": []}, {"type": "Identifier", "name": "from"}, {"type": "Identifier", "name": "to"}, {"type": "Identifier", "name": "value"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": null, "initialValue": {"type": "FunctionCall", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "token"}, "memberName": "call"}, "memberName": "gas"}, "arguments": [{"type": "Identifier", "name": "gasLimit"}], "names": []}, "arguments": [{"type": "Identifier", "name": "callData"}], "names": []}}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "checkReturnValue"}, "arguments": [{"type": "Identifier", "name": "success"}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "checkReturnValue", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "success", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "Identifier", "name": "success"}, "TrueBody": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblySwitch", "expression": {"type": "AssemblyExpression", "functionName": "returndatasize", "arguments": []}, "cases": [{"type": "AssemblyCase", "block": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "success"}], "expression": {"type": "DecimalNumber", "value": "1"}}]}, "value": {"type": "DecimalNumber", "value": "0"}}, {"type": "AssemblyCase", "block": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyExpression", "functionName": "returndatacopy", "arguments": [{"type": "DecimalNumber", "value": "0"}, {"type": "DecimalNumber", "value": "0"}, {"type": "DecimalNumber", "value": "32"}]}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "success"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "DecimalNumber", "value": "0"}]}}]}, "value": {"type": "DecimalNumber", "value": "32"}}, {"type": "AssemblyCase", "block": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "success"}], "expression": {"type": "DecimalNumber", "value": "0"}}]}, "default": true}]}]}}]}, "FalseBody": null}, {"type": "Identifier", "name": "success"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "IDowntimeCostCalculator", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "getDowntimeCostLRC", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "totalTimeInMaintenanceSeconds", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "totalDEXLifeTimeSeconds", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numDowntimeMinutes", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeStakedLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "durationToPurchaseMinutes", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "cost", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ExchangeMode", "baseContracts": [], "subNodes": [{"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "libraryName": "MathUint"}, {"type": "FunctionDefinition", "name": "isInWithdrawalMode", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "result", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "BooleanLiteral", "value": false}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "currentBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "currentBlock"}, "memberName": "numDepositRequestsCommitted"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "memberName": "length"}}, "TrueBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "requestTimestamp", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "currentBlock"}, "memberName": "numDepositRequestsCommitted"}}, "memberName": "timestamp"}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "requestTimestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "now"}, "memberName": "sub"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_AGE_REQUEST_UNTIL_WITHDRAW_MODE"}, "arguments": [], "names": []}], "names": []}}}}]}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "BooleanLiteral", "value": false}}, "right": {"type": "BinaryOperation", "operator": "<", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "currentBlock"}, "memberName": "numWithdrawalRequestsCommitted"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "memberName": "length"}}}, "TrueBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "requestTimestamp", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "currentBlock"}, "memberName": "numWithdrawalRequestsCommitted"}}, "memberName": "timestamp"}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "requestTimestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "now"}, "memberName": "sub"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_AGE_REQUEST_UNTIL_WITHDRAW_MODE"}, "arguments": [], "names": []}], "names": []}}}}]}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "BooleanLiteral", "value": false}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "isAnyUnfinalizedBlockTooOld"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}}}]}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "BooleanLiteral", "value": false}}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "isShutdown"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}}, "right": {"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "isInInitialState"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}, "isPrefix": true}}, "TrueBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "maxTimeInShutdown", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_TIME_IN_SHUTDOWN_BASE"}, "arguments": [], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "maxTimeInShutdown"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "maxTimeInShutdown"}, "memberName": "add"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accounts"}, "memberName": "length"}, "memberName": "mul"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_TIME_IN_SHUTDOWN_DELTA"}, "arguments": [], "names": []}], "names": []}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "now"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "shutdownStartTime"}, "memberName": "add"}, "arguments": [{"type": "Identifier", "name": "maxTimeInShutdown"}], "names": []}}}}]}, "FalseBody": null}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "isShutdown", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "shutdownStartTime"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "isInMaintenance", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "downtimeStart"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": ">", "left": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getNumDowntimeMinutesLeft"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "isInInitialState", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "firstBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "lastBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "lastBlock"}, "memberName": "numDepositRequestsCommitted"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "memberName": "length"}}], "isArray": false}}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "lastBlock"}, "memberName": "merkleRoot"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "firstBlock"}, "memberName": "merkleRoot"}}], "isArray": false}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "areUserRequestsEnabled", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "isInMaintenance"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}, "isPrefix": true}, "right": {"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "isShutdown"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}, "isPrefix": true}}, "right": {"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "isInWithdrawalMode"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}, "isPrefix": true}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "isAnyUnfinalizedBlockTooOld", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}}, "TrueBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "blockTimestamp", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}}, "memberName": "timestamp"}}, {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "blockTimestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "now"}, "memberName": "sub"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_AGE_UNFINALIZED_BLOCK_UNTIL_WITHDRAW_MODE"}, "arguments": [], "names": []}], "names": []}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "BooleanLiteral", "value": false}]}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getNumDowntimeMinutesLeft", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "downtimeStart"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numDowntimeMinutes"}]}, "FalseBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numDowntimeMinutesUsed", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "/", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "now"}, "memberName": "sub"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "downtimeStart"}], "names": []}, "right": {"type": "NumberLiteral", "number": "60", "subdenomination": null}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numDowntimeMinutes"}, "right": {"type": "Identifier", "name": "numDowntimeMinutesUsed"}}, "TrueBody": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numDowntimeMinutes"}, "memberName": "sub"}, "arguments": [{"type": "Identifier", "name": "numDowntimeMinutesUsed"}], "names": []}]}, "FalseBody": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}]}}]}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "view"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ExchangeAdmins", "baseContracts": [], "subNodes": [{"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "libraryName": "MathUint"}, {"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "libraryName": "ERC20SafeTransfer"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeMode"}, {"type": "EventDefinition", "name": "OperatorChanged", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "oldOperator", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "newOperator", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "AddressWhitelistChanged", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "oldAddressWhitelist", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "newAddressWhitelist", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "FeesUpdated", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accountCreationFeeETH", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accountUpdateFeeETH", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "depositFeeETH", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "withdrawalFeeETH", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "setOperator", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "_operator", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "oldOperator", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, "right": {"type": "Identifier", "name": "_operator"}}, {"type": "StringLiteral", "value": "ZERO_ADDRESS"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "oldOperator"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "operator"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "operator"}, "right": {"type": "Identifier", "name": "_operator"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "OperatorChanged"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}, {"type": "Identifier", "name": "oldOperator"}, {"type": "Identifier", "name": "_operator"}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "setAddressWhitelist", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_addressWhitelist", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "oldAddressWhitelist", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "addressWhitelist"}, "right": {"type": "Identifier", "name": "_addressWhitelist"}}, {"type": "StringLiteral", "value": "SAME_ADDRESS"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "oldAddressWhitelist"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "addressWhitelist"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "addressWhitelist"}, "right": {"type": "Identifier", "name": "_addressWhitelist"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "AddressWhitelistChanged"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}, {"type": "Identifier", "name": "oldAddressWhitelist"}, {"type": "Identifier", "name": "_addressWhitelist"}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "setFees", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_accountCreationFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_accountUpdateFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_depositFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_withdrawalFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "_withdrawalFeeETH"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "maxWithdrawalFee"}, "arguments": [], "names": []}}, {"type": "StringLiteral", "value": "AMOUNT_TOO_LARGE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accountCreationFeeETH"}, "right": {"type": "Identifier", "name": "_accountCreationFeeETH"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accountUpdateFeeETH"}, "right": {"type": "Identifier", "name": "_accountUpdateFeeETH"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositFeeETH"}, "right": {"type": "Identifier", "name": "_depositFeeETH"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalFeeETH"}, "right": {"type": "Identifier", "name": "_withdrawalFeeETH"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "FeesUpdated"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}, {"type": "Identifier", "name": "_accountCreationFeeETH"}, {"type": "Identifier", "name": "_accountUpdateFeeETH"}, {"type": "Identifier", "name": "_depositFeeETH"}, {"type": "Identifier", "name": "_withdrawalFeeETH"}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "startOrContinueMaintenanceMode", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "durationMinutes", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isShutdown"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "durationMinutes"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "INVALID_DURATION"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numMinutesLeft", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "getNumDowntimeMinutesLeft"}, "arguments": [], "names": []}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "downtimeStart"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "numMinutesLeft"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "stopMaintenanceMode"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}}]}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "numMinutesLeft"}, "right": {"type": "Identifier", "name": "durationMinutes"}}, "TrueBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numMinutesToPurchase", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "durationMinutes"}, "memberName": "sub"}, "arguments": [{"type": "Identifier", "name": "numMinutesLeft"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "costLRC", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getDowntimeCostLRC"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "numMinutesToPurchase"}], "names": []}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "costLRC"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "BurnableERC20"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "lrcAddress"}], "names": []}, "memberName": "burnFrom"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "costLRC"}], "names": []}, {"type": "StringLiteral", "value": "BURN_FAILURE"}], "names": []}}]}, "FalseBody": null}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numDowntimeMinutes"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numDowntimeMinutes"}, "memberName": "add"}, "arguments": [{"type": "Identifier", "name": "numMinutesToPurchase"}], "names": []}}}]}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "downtimeStart"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "downtimeStart"}, "right": {"type": "Identifier", "name": "now"}}}]}, "FalseBody": null}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getRemainingDowntime", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "duration", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "getNumDowntimeMinutesLeft"}, "arguments": [], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "withdrawExchangeStake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "lastBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isShutdown"}, "arguments": [], "names": []}, {"type": "StringLiteral", "value": "EXCHANGE_NOT_SHUTDOWN"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}}, {"type": "StringLiteral", "value": "BLOCK_NOT_FINALIZED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "lastBlock"}, "memberName": "numDepositRequestsCommitted"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "DEPOSITS_NOT_PROCESSED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInInitialState"}, "arguments": [], "names": []}, {"type": "StringLiteral", "value": "MERKLE_ROOT_NOT_REVERTED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "now"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "lastBlock"}, "memberName": "timestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_TIME_TO_DISTRIBUTE_WITHDRAWALS"}, "arguments": [], "names": []}}}, {"type": "StringLiteral", "value": "TOO_EARLY"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "getExchangeStake"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}], "names": []}}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "withdrawExchangeStake"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}, {"type": "Identifier", "name": "recipient"}, {"type": "Identifier", "name": "amount"}], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawTokenNotOwnedByUsers", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "token"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, {"type": "StringLiteral", "value": "ZERO_ADDRESS"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "recipient"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, {"type": "StringLiteral", "value": "ZERO_VALUE"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "totalBalance", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ERC20"}, "arguments": [{"type": "Identifier", "name": "token"}], "names": []}, "memberName": "balanceOf"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "Identifier", "name": "this"}], "names": []}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "userBalance", "storageLocation": null}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokenBalances"}, "index": {"type": "Identifier", "name": "token"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "assert"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "Identifier", "name": "totalBalance"}, "right": {"type": "Identifier", "name": "userBalance"}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "amount"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "totalBalance"}, "right": {"type": "Identifier", "name": "userBalance"}}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "token"}, "memberName": "safeTransfer"}, "arguments": [{"type": "Identifier", "name": "recipient"}, {"type": "Identifier", "name": "amount"}], "names": []}, {"type": "StringLiteral", "value": "TRANSFER_FAILED"}], "names": []}}]}, "FalseBody": null}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "stopMaintenanceMode", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isShutdown"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "downtimeStart"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "NOT_IN_MAINTENANCE_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "totalTimeInMaintenanceSeconds"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getTotalTimeInMaintenanceSeconds"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numDowntimeMinutes"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "getNumDowntimeMinutesLeft"}, "arguments": [], "names": []}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numDowntimeMinutes"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "-=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numDowntimeMinutes"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}]}, "FalseBody": null}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "downtimeStart"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getDowntimeCostLRC", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "durationMinutes", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "durationMinutes"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}]}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "costCalculatorAddr", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "downtimeCostCalculator"}, "arguments": [], "names": []}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "costCalculatorAddr"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, "TrueBody": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}]}, "FalseBody": null}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "IDowntimeCostCalculator"}, "arguments": [{"type": "Identifier", "name": "costCalculatorAddr"}], "names": []}, "memberName": "getDowntimeCostLRC"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "totalTimeInMaintenanceSeconds"}, {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "now"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "exchangeCreationTimestamp"}}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numDowntimeMinutes"}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "getExchangeStake"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}], "names": []}, {"type": "Identifier", "name": "durationMinutes"}], "names": []}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getTotalTimeInMaintenanceSeconds", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "time", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "time"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "totalTimeInMaintenanceSeconds"}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "downtimeStart"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "getNumDowntimeMinutesLeft"}, "arguments": [], "names": []}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "time"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "time"}, "memberName": "add"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "now"}, "memberName": "sub"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "downtimeStart"}], "names": []}], "names": []}}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "time"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "time"}, "memberName": "add"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numDowntimeMinutes"}, "memberName": "mul"}, "arguments": [{"type": "NumberLiteral", "number": "60", "subdenomination": null}], "names": []}], "names": []}}}]}}]}, "FalseBody": null}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "BytesUtil", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "bytesToBytes32", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "offset", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}}, "arguments": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "bytesToUintX"}, "arguments": [{"type": "Identifier", "name": "b"}, {"type": "Identifier", "name": "offset"}, {"type": "NumberLiteral", "number": "32", "subdenomination": null}], "names": []}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "bytesToUint", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "offset", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "bytesToUintX"}, "arguments": [{"type": "Identifier", "name": "b"}, {"type": "Identifier", "name": "offset"}, {"type": "NumberLiteral", "number": "32", "subdenomination": null}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "bytesToAddress", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "offset", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "BinaryOperation", "operator": "&", "left": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "bytesToUintX"}, "arguments": [{"type": "Identifier", "name": "b"}, {"type": "Identifier", "name": "offset"}, {"type": "NumberLiteral", "number": "20", "subdenomination": null}], "names": []}, "right": {"type": "NumberLiteral", "number": "0x00FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF", "subdenomination": null}}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "bytesToUint16", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "offset", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}}, "arguments": [{"type": "BinaryOperation", "operator": "&", "left": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "bytesToUintX"}, "arguments": [{"type": "Identifier", "name": "b"}, {"type": "Identifier", "name": "offset"}, {"type": "NumberLiteral", "number": "2", "subdenomination": null}], "names": []}, "right": {"type": "NumberLiteral", "number": "0xFFFF", "subdenomination": null}}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "bytesToUintX", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "offset", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numBytes", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "data", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "offset"}, "right": {"type": "Identifier", "name": "numBytes"}}}, {"type": "StringLiteral", "value": "INVALID_SIZE"}], "names": []}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "data"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}, {"type": "AssemblyExpression", "functionName": "numBytes", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "offset", "arguments": []}]}]}}]}}]}, "visibility": "private", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "subBytes", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "offset", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "data", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "offset"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}}, {"type": "StringLiteral", "value": "INVALID_SIZE"}], "names": []}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "data"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}, {"type": "DecimalNumber", "value": "32"}]}, {"type": "AssemblyExpression", "functionName": "offset", "arguments": []}]}}]}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "fastSHA256", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "data", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "length": null}, "name": "result", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "NewExpression", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "length": null}}, "arguments": [{"type": "NumberLiteral", "number": "1", "subdenomination": null}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "success", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "ptr"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "32"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "success"}], "expression": {"type": "AssemblyExpression", "functionName": "staticcall", "arguments": [{"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "gas", "arguments": []}, {"type": "DecimalNumber", "value": "2000"}]}, {"type": "DecimalNumber", "value": "2"}, {"type": "AssemblyExpression", "functionName": "ptr", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "result", "arguments": []}, {"type": "DecimalNumber", "value": "32"}]}, {"type": "DecimalNumber", "value": "32"}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "Identifier", "name": "success"}, {"type": "StringLiteral", "value": "SHA256_FAILED"}], "names": []}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "result"}, "index": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "view"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "IDecompressor", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "decompress", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "data", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "decompressedData", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ExchangeBlocks", "baseContracts": [], "subNodes": [{"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "libraryName": "BytesUtil"}, {"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "libraryName": "MathUint"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeMode"}, {"type": "EventDefinition", "name": "BlockCommitted", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "publicDataHash", "isStateVar": false, "isIndexed": true}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "BlockFinalized", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "isStateVar": false, "isIndexed": true}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "BlockVerified", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "isStateVar": false, "isIndexed": true}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "Revert", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "isStateVar": false, "isIndexed": true}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "ProtocolFeesUpdated", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "takerFeeBips", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "makerFeeBips", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "previousTakerFeeBips", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "previousMakerFeeBips", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "commitBlock", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockType", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "data", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": null, "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "commitBlockInternal"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "arguments": [{"type": "Identifier", "name": "blockType"}], "names": []}, {"type": "Identifier", "name": "blockSize"}, {"type": "Identifier", "name": "blockVersion"}, {"type": "Identifier", "name": "data"}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "verifyBlocks", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": null}, "name": "blockIndices", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": null}, "name": "proofs", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "blockIndices"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "INVALID_INPUT_ARRAYS"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "%", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "proofs"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "8", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "INVALID_PROOF_ARRAY"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "/", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "proofs"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "8", "subdenomination": null}}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "blockIndices"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "INVALID_INPUT_ARRAYS"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": null}, "name": "publicInputs", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "NewExpression", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": null}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "blockIndices"}, "memberName": "length"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null}], "initialValue": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.BlockType"}, "name": "blockType", "storageLocation": null}], "initialValue": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "storageLocation": null}], "initialValue": null}, {"type": "ForStatement", "initExpression": {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "i", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "conditionExpression": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "i"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "blockIndices"}, "memberName": "length"}}, "loopExpression": {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "i"}, "isPrefix": false}}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null}], "initialValue": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "blockIndices"}, "index": {"type": "Identifier", "name": "i"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "INVALID_BLOCK_IDX"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "specifiedBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "Identifier", "name": "blockIdx"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockState"}, "memberName": "COMMITTED"}}, {"type": "StringLiteral", "value": "BLOCK_VERIFIED_ALREADY"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_GAP_BETWEEN_FINALIZED_AND_VERIFIED_BLOCKS"}, "arguments": [], "names": []}}}, {"type": "StringLiteral", "value": "PROOF_TOO_EARLY"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "now"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "timestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_PROOF_GENERATION_TIME_IN_SECONDS"}, "arguments": [], "names": []}}}, {"type": "StringLiteral", "value": "PROOF_TOO_LATE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "publicInputs"}, "index": {"type": "Identifier", "name": "i"}}, "right": {"type": "BinaryOperation", "operator": ">>", "left": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "publicDataHash"}], "names": []}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "i"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "blockSize"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "blockSize"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "blockType"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "blockVersion"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "blockVersion"}}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "blockType"}}, {"type": "StringLiteral", "value": "INVALID_BATCH_BLOCK_TYPE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockSize"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "blockSize"}}, {"type": "StringLiteral", "value": "INVALID_BATCH_BLOCK_SIZE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockVersion"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "blockVersion"}}, {"type": "StringLiteral", "value": "INVALID_BATCH_BLOCK_VERSION"}], "names": []}}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blockVerifier"}, "memberName": "verifyProofs"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}}, "arguments": [{"type": "Identifier", "name": "blockType"}], "names": []}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "onchainDataAvailability"}, {"type": "Identifier", "name": "blockSize"}, {"type": "Identifier", "name": "blockVersion"}, {"type": "Identifier", "name": "publicInputs"}, {"type": "Identifier", "name": "proofs"}], "names": []}, {"type": "StringLiteral", "value": "INVALID_PROOF"}], "names": []}}, {"type": "ForStatement", "initExpression": {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "i", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "conditionExpression": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "i"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "blockIndices"}, "memberName": "length"}}, "loopExpression": {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "i"}, "isPrefix": false}}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null}], "initialValue": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "blockIndices"}, "index": {"type": "Identifier", "name": "i"}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "specifiedBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "Identifier", "name": "blockIdx"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockState"}, "memberName": "COMMITTED"}}, {"type": "StringLiteral", "value": "BLOCK_VERIFIED_ALREADY"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockState"}, "memberName": "VERIFIED"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "BlockVerified"}, "arguments": [{"type": "Identifier", "name": "blockIdx"}], "names": []}}]}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "idx", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}}, {"type": "WhileStatement", "condition": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "idx"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "Identifier", "name": "idx"}}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockState"}, "memberName": "VERIFIED"}}}, "body": {"type": "Block", "statements": [{"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "BlockFinalized"}, "arguments": [{"type": "Identifier", "name": "idx"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "idx"}, "isPrefix": false}}]}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}, "right": {"type": "Identifier", "name": "idx"}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "revertBlock", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "INVALID_BLOCK_IDX"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "specifiedBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "Identifier", "name": "blockIdx"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockState"}, "memberName": "COMMITTED"}}, {"type": "StringLiteral", "value": "INVALID_BLOCK_STATE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}}, {"type": "StringLiteral", "value": "PREV_BLOCK_NOT_FINALIZED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "now"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "timestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_PROOF_GENERATION_TIME_IN_SECONDS"}, "arguments": [], "names": []}}}, {"type": "StringLiteral", "value": "PROOF_NOT_TOO_LATE"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "fine", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "revertFineLRC"}, "arguments": [], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "burnExchangeStake"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}, {"type": "Identifier", "name": "fine"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}, "right": {"type": "Identifier", "name": "blockIdx"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "Revert"}, "arguments": [{"type": "Identifier", "name": "blockIdx"}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "commitBlockInternal", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.BlockType"}, "name": "blockType", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "data", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "canExchangeCommitBlocks"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "onchainDataAvailability"}], "names": []}, {"type": "StringLiteral", "value": "INSUFFICIENT_EXCHANGE_STAKE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blockVerifier"}, "memberName": "isCircuitEnabled"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}}, "arguments": [{"type": "Identifier", "name": "blockType"}], "names": []}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "onchainDataAvailability"}, {"type": "Identifier", "name": "blockSize"}, {"type": "Identifier", "name": "blockVersion"}], "names": []}, {"type": "StringLiteral", "value": "CANNOT_VERIFY_BLOCK"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "exchangeIdInData", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "exchangeIdInData"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "4"}]}]}, {"type": "HexNumber", "value": "0xFFFFFFFF"}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "exchangeIdInData"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}}, {"type": "StringLiteral", "value": "INVALID_EXCHANGE_ID"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "prevBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "merkleRootBefore", "storageLocation": null}], "initialValue": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "merkleRootAfter", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "merkleRootBefore"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "36"}]}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "merkleRootAfter"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "68"}]}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "merkleRootBefore"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "prevBlock"}, "memberName": "merkleRoot"}}, {"type": "StringLiteral", "value": "INVALID_MERKLE_ROOT"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "numDepositRequestsCommitted", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "prevBlock"}, "memberName": "numDepositRequestsCommitted"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "numWithdrawalRequestsCommitted", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "prevBlock"}, "memberName": "numWithdrawalRequestsCommitted"}], "names": []}}, {"type": "IfStatement", "condition": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isShutdown"}, "arguments": [], "names": []}, "TrueBody": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "numDepositRequestsCommitted"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "memberName": "length"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "DEPOSIT"}}, {"type": "StringLiteral", "value": "SHUTDOWN_DEPOSIT_BLOCK_FORCED"}], "names": []}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "ONCHAIN_WITHDRAWAL"}}, {"type": "StringLiteral", "value": "SHUTDOWN_WITHDRAWAL_BLOCK_FORCED"}], "names": []}}]}}]}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "isWithdrawalRequestForced"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "numWithdrawalRequestsCommitted"}], "names": []}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "ONCHAIN_WITHDRAWAL"}}, {"type": "StringLiteral", "value": "WITHDRAWAL_BLOCK_FORCED"}], "names": []}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "isDepositRequestForced"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "numDepositRequestsCommitted"}], "names": []}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "DEPOSIT"}}, {"type": "StringLiteral", "value": "DEPOSIT_BLOCK_FORCED"}], "names": []}}]}, "FalseBody": null}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "RING_SETTLEMENT"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "areUserRequestsEnabled"}, "arguments": [], "names": []}, {"type": "StringLiteral", "value": "SETTLEMENT_SUSPENDED"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "inputTimestamp", "storageLocation": null}], "initialValue": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "protocolTakerFeeBips", "storageLocation": null}], "initialValue": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "protocolMakerFeeBips", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "inputTimestamp"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "72"}]}]}, {"type": "HexNumber", "value": "0xFFFFFFFF"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "protocolTakerFeeBips"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "73"}]}]}, {"type": "HexNumber", "value": "0xFF"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "protocolMakerFeeBips"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "74"}]}]}, {"type": "HexNumber", "value": "0xFF"}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "inputTimestamp"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "now"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "TIMESTAMP_HALF_WINDOW_SIZE_IN_SECONDS"}, "arguments": [], "names": []}}}, "right": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "inputTimestamp"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "now"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "TIMESTAMP_HALF_WINDOW_SIZE_IN_SECONDS"}, "arguments": [], "names": []}}}}, {"type": "StringLiteral", "value": "INVALID_TIMESTAMP"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "validateAndUpdateProtocolFeeValues"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "protocolTakerFeeBips"}, {"type": "Identifier", "name": "protocolMakerFeeBips"}], "names": []}, {"type": "StringLiteral", "value": "INVALID_PROTOCOL_FEES"}], "names": []}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "DEPOSIT"}}, "TrueBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "startIdx", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "count", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "startIdx"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "136"}]}]}, {"type": "HexNumber", "value": "0xFFFFFFFF"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "count"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "140"}]}]}, {"type": "HexNumber", "value": "0xFFFFFFFF"}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "startIdx"}, "right": {"type": "Identifier", "name": "numDepositRequestsCommitted"}}, {"type": "StringLiteral", "value": "INVALID_REQUEST_RANGE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "count"}, "right": {"type": "Identifier", "name": "blockSize"}}, {"type": "StringLiteral", "value": "INVALID_REQUEST_RANGE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "startIdx"}, "right": {"type": "Identifier", "name": "count"}}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "INVALID_REQUEST_RANGE"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "startingHash", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "startIdx"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, "memberName": "accumulatedHash"}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "endingHash", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "startIdx"}, "right": {"type": "Identifier", "name": "count"}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, "memberName": "accumulatedHash"}}, {"type": "ForStatement", "initExpression": {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "i", "storageLocation": null}], "initialValue": {"type": "Identifier", "name": "count"}}, "conditionExpression": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "i"}, "right": {"type": "Identifier", "name": "blockSize"}}, "loopExpression": {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "i"}, "isPrefix": false}}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "endingHash"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "sha256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "Identifier", "name": "endingHash"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}], "names": []}], "names": []}}}]}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "inputStartingHash", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0x0", "subdenomination": null}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "inputEndingHash", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0x0", "subdenomination": null}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "inputStartingHash"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "100"}]}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "inputEndingHash"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "132"}]}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "inputStartingHash"}, "right": {"type": "Identifier", "name": "startingHash"}}, {"type": "StringLiteral", "value": "INVALID_STARTING_HASH"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "inputEndingHash"}, "right": {"type": "Identifier", "name": "endingHash"}}, {"type": "StringLiteral", "value": "INVALID_ENDING_HASH"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "Identifier", "name": "numDepositRequestsCommitted"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}}, "arguments": [{"type": "Identifier", "name": "count"}], "names": []}}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "ONCHAIN_WITHDRAWAL"}}, "TrueBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "startIdx", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "count", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "startIdx"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "136"}]}]}, {"type": "HexNumber", "value": "0xFFFFFFFF"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "count"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "140"}]}]}, {"type": "HexNumber", "value": "0xFFFFFFFF"}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "startIdx"}, "right": {"type": "Identifier", "name": "numWithdrawalRequestsCommitted"}}, {"type": "StringLiteral", "value": "INVALID_REQUEST_RANGE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "count"}, "right": {"type": "Identifier", "name": "blockSize"}}, {"type": "StringLiteral", "value": "INVALID_REQUEST_RANGE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "startIdx"}, "right": {"type": "Identifier", "name": "count"}}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "INVALID_REQUEST_RANGE"}], "names": []}}, {"type": "IfStatement", "condition": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isShutdown"}, "arguments": [], "names": []}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "count"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "INVALID_WITHDRAWAL_COUNT"}], "names": []}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "count"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "INVALID_WITHDRAWAL_COUNT"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "startingHash", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "startIdx"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, "memberName": "accumulatedHash"}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "endingHash", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "startIdx"}, "right": {"type": "Identifier", "name": "count"}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, "memberName": "accumulatedHash"}}, {"type": "ForStatement", "initExpression": {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "i", "storageLocation": null}], "initialValue": {"type": "Identifier", "name": "count"}}, "conditionExpression": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "i"}, "right": {"type": "Identifier", "name": "blockSize"}}, "loopExpression": {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "i"}, "isPrefix": false}}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "endingHash"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "sha256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "Identifier", "name": "endingHash"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}], "names": []}], "names": []}}}]}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "inputStartingHash", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0x0", "subdenomination": null}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "inputEndingHash", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0x0", "subdenomination": null}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "inputStartingHash"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "100"}]}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "inputEndingHash"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "132"}]}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "inputStartingHash"}, "right": {"type": "Identifier", "name": "startingHash"}}, {"type": "StringLiteral", "value": "INVALID_STARTING_HASH"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "inputEndingHash"}, "right": {"type": "Identifier", "name": "endingHash"}}, {"type": "StringLiteral", "value": "INVALID_ENDING_HASH"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "Identifier", "name": "numWithdrawalRequestsCommitted"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}}, "arguments": [{"type": "Identifier", "name": "count"}], "names": []}}}]}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "OFFCHAIN_WITHDRAWAL"}}, "right": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "ORDER_CANCELLATION"}}}, "right": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "TRANSFER"}}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "revert"}, "arguments": [{"type": "StringLiteral", "value": "UNSUPPORTED_BLOCK_TYPE"}], "names": []}}]}, "FalseBody": null}}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "publicDataHash", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "fastSHA256"}, "arguments": [], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "withdrawals", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "NewExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "ONCHAIN_WITHDRAWAL"}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "OFFCHAIN_WITHDRAWAL"}}}, "TrueBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "start", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "+", "left": {"type": "NumberLiteral", "number": "4", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "ONCHAIN_WITHDRAWAL"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "Identifier", "name": "start"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "+", "left": {"type": "NumberLiteral", "number": "32", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "4", "subdenomination": null}}, "right": {"type": "NumberLiteral", "number": "4", "subdenomination": null}}}}]}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "length", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "*", "left": {"type": "NumberLiteral", "number": "7", "subdenomination": null}, "right": {"type": "Identifier", "name": "blockSize"}}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "withdrawals"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "AssemblyExpression", "functionName": "start", "arguments": []}]}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "withdrawals", "arguments": []}, {"type": "AssemblyExpression", "functionName": "length", "arguments": []}]}]}}]}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "newBlock", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "Block"}, "arguments": [{"type": "Identifier", "name": "merkleRootAfter"}, {"type": "Identifier", "name": "publicDataHash"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockState"}, "memberName": "COMMITTED"}, {"type": "Identifier", "name": "blockType"}, {"type": "Identifier", "name": "blockSize"}, {"type": "Identifier", "name": "blockVersion"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}}, "arguments": [{"type": "Identifier", "name": "now"}], "names": []}, {"type": "Identifier", "name": "numDepositRequestsCommitted"}, {"type": "Identifier", "name": "numWithdrawalRequestsCommitted"}, {"type": "BooleanLiteral", "value": false}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "Identifier", "name": "withdrawals"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "push"}, "arguments": [{"type": "Identifier", "name": "newBlock"}], "names": []}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "BlockCommitted"}, "arguments": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, {"type": "Identifier", "name": "publicDataHash"}], "names": []}}]}, "visibility": "private", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "validateAndUpdateProtocolFeeValues", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "takerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "makerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.ProtocolFeeData"}, "name": "data", "storageLocation": "storage"}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "protocolFeeData"}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "now"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "timestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MIN_AGE_PROTOCOL_FEES_UNTIL_UPDATED"}, "arguments": [], "names": []}}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "previousTakerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "takerFeeBips"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "previousMakerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "makerFeeBips"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "TupleExpression", "components": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "takerFeeBips"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "makerFeeBips"}], "isArray": false}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "getProtocolFeeValues"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "onchainDataAvailability"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "timestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}}, "arguments": [{"type": "Identifier", "name": "now"}], "names": []}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "feeUpdated", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "||", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "takerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "previousTakerFeeBips"}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "makerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "previousMakerFeeBips"}}], "isArray": false}}}, {"type": "IfStatement", "condition": {"type": "Identifier", "name": "feeUpdated"}, "TrueBody": {"type": "Block", "statements": [{"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ProtocolFeesUpdated"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "takerFeeBips"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "makerFeeBips"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "previousTakerFeeBips"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "previousMakerFeeBips"}], "names": []}}]}, "FalseBody": null}]}, "FalseBody": null}, {"type": "BinaryOperation", "operator": "||", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "takerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "takerFeeBips"}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "makerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "makerFeeBips"}}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "takerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "previousTakerFeeBips"}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "makerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "data"}, "memberName": "previousMakerFeeBips"}}}], "isArray": false}}]}, "visibility": "private", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "isDepositRequestForced", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numRequestsCommitted", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "numRequestsCommitted"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "memberName": "length"}}, "TrueBody": {"type": "Block", "statements": [{"type": "BooleanLiteral", "value": false}]}, "FalseBody": {"type": "Block", "statements": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "index": {"type": "Identifier", "name": "numRequestsCommitted"}}, "memberName": "timestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "now"}, "memberName": "sub"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_AGE_REQUEST_UNTIL_FORCED"}, "arguments": [], "names": []}], "names": []}}]}}]}, "visibility": "private", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "isWithdrawalRequestForced", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numRequestsCommitted", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "numRequestsCommitted"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "memberName": "length"}}, "TrueBody": {"type": "Block", "statements": [{"type": "BooleanLiteral", "value": false}]}, "FalseBody": {"type": "Block", "statements": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "index": {"type": "Identifier", "name": "numRequestsCommitted"}}, "memberName": "timestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "now"}, "memberName": "sub"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_AGE_REQUEST_UNTIL_FORCED"}, "arguments": [], "names": []}], "names": []}}]}}]}, "visibility": "private", "modifiers": [], "isConstructor": false, "stateMutability": "view"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "AddressUtil", "baseContracts": [], "subNodes": [{"type": "UsingForDeclaration", "typeName": "*", "libraryName": "AddressUtil"}, {"type": "FunctionDefinition", "name": "isContract", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "addr", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "size", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "size"}], "expression": {"type": "AssemblyExpression", "functionName": "extcodesize", "arguments": [{"type": "AssemblyExpression", "functionName": "addr", "arguments": []}]}}]}}, {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "size"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}], "isArray": false}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "toPayable", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "addr", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint160"}}, "arguments": [{"type": "Identifier", "name": "addr"}], "names": []}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "sendETH", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "gasLimit", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "success", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "BooleanLiteral", "value": true}]}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "recipient", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "to"}, "memberName": "toPayable"}, "arguments": [], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "TupleExpression", "components": [{"type": "Identifier", "name": "success"}, null], "isArray": false}, "right": {"type": "FunctionCall", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "recipient"}, "memberName": "call"}, "memberName": "value"}, "arguments": [{"type": "Identifier", "name": "amount"}], "names": []}, "memberName": "gas"}, "arguments": [{"type": "Identifier", "name": "gasLimit"}], "names": []}, "arguments": [{"type": "StringLiteral", "value": ""}], "names": []}}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "transferETH", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "gasLimit", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "success", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "success"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "to"}, "memberName": "sendETH"}, "arguments": [{"type": "Identifier", "name": "amount"}, {"type": "Identifier", "name": "gasLimit"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "Identifier", "name": "success"}, {"type": "StringLiteral", "value": "TRANSFER_FAILURE"}], "names": []}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ExchangeTokens", "baseContracts": [], "subNodes": [{"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "libraryName": "MathUint"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeMode"}, {"type": "EventDefinition", "name": "TokenRegistered", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenId", "isStateVar": false, "isIndexed": true}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "registerToken", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "tokenID"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "registerToken"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "tokenAddress"}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getLRCFeeForRegisteringOneMoreToken"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}], "names": []}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getTokenAddress", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "tokenID"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokens"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "INVALID_TOKEN_ID"}], "names": []}}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokens"}, "index": {"type": "Identifier", "name": "tokenID"}}, "memberName": "token"}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getLRCFeeForRegisteringOneMoreToken", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "feeLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "tokenRegistrationFeeLRCBase"}, "arguments": [], "names": []}, "memberName": "add"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "tokenRegistrationFeeLRCDelta"}, "arguments": [], "names": []}, "memberName": "mul"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokens"}, "memberName": "length"}], "names": []}], "names": []}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "registerToken", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amountToBurn", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokenToTokenId"}, "index": {"type": "Identifier", "name": "tokenAddress"}}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "TOKEN_ALREADY_EXIST"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokens"}, "memberName": "length"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_NUM_TOKENS"}, "arguments": [], "names": []}}, {"type": "StringLiteral", "value": "TOKEN_REGISTRY_FULL"}], "names": []}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "amountToBurn"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "BurnableERC20"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "lrcAddress"}], "names": []}, "memberName": "burnFrom"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "amountToBurn"}], "names": []}, {"type": "StringLiteral", "value": "BURN_FAILURE"}], "names": []}}]}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Token"}, "name": "token", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "Token"}, "arguments": [{"type": "Identifier", "name": "tokenAddress"}, {"type": "BooleanLiteral", "value": false}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokens"}, "memberName": "push"}, "arguments": [{"type": "Identifier", "name": "token"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "tokenID"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}}, "arguments": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokens"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokenToTokenId"}, "index": {"type": "Identifier", "name": "tokenAddress"}}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "tokenID"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "TokenRegistered"}, "arguments": [{"type": "Identifier", "name": "tokenAddress"}, {"type": "Identifier", "name": "tokenID"}], "names": []}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getTokenID", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "tokenID"}, "right": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokenToTokenId"}, "index": {"type": "Identifier", "name": "tokenAddress"}}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "tokenID"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "TOKEN_NOT_FOUND"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "tokenID"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "tokenID"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "disableTokenDeposit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "tokenAddress"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, {"type": "StringLiteral", "value": "ETHER_CANNOT_BE_DISABLED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "tokenAddress"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "wethAddress"}, "arguments": [], "names": []}}, {"type": "StringLiteral", "value": "WETH_CANNOT_BE_DISABLED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "tokenAddress"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "lrcAddress"}, "arguments": [], "names": []}}, {"type": "StringLiteral", "value": "LRC_CANNOT_BE_DISABLED"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getTokenID"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "tokenAddress"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Token"}, "name": "token", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokens"}, "index": {"type": "Identifier", "name": "tokenID"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "token"}, "memberName": "depositDisabled"}, "isPrefix": true}, {"type": "StringLiteral", "value": "TOKEN_DEPOSIT_ALREADY_DISABLED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "token"}, "memberName": "depositDisabled"}, "right": {"type": "BooleanLiteral", "value": true}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "enableTokenDeposit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getTokenID"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "tokenAddress"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Token"}, "name": "token", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokens"}, "index": {"type": "Identifier", "name": "tokenID"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "token"}, "memberName": "depositDisabled"}, {"type": "StringLiteral", "value": "TOKEN_DEPOSIT_ALREADY_ENABLED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "token"}, "memberName": "depositDisabled"}, "right": {"type": "BooleanLiteral", "value": false}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ExchangeDeposits", "baseContracts": [], "subNodes": [{"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "libraryName": "AddressUtil"}, {"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "libraryName": "MathUint"}, {"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "libraryName": "ERC20SafeTransfer"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeAccounts"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeMode"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeTokens"}, {"type": "EventDefinition", "name": "DepositRequested", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "depositIdx", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "getDepositRequest", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "accumulatedHash", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accumulatedFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "INVALID_INDEX"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Request"}, "name": "request", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "index": {"type": "Identifier", "name": "index"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accumulatedHash"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "request"}, "memberName": "accumulatedHash"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accumulatedFee"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "request"}, "memberName": "accumulatedFee"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "timestamp"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "request"}, "memberName": "timestamp"}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "depositTo", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "additionalFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "recipient"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, {"type": "StringLiteral", "value": "ZERO_ADDRESS"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "areUserRequestsEnabled"}, "arguments": [], "names": []}, {"type": "StringLiteral", "value": "USER_REQUEST_SUSPENDED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getNumAvailableDepositSlots"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "TOO_MANY_REQUESTS_OPEN"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "getTokenID"}, "arguments": [{"type": "Identifier", "name": "tokenAddress"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokens"}, "index": {"type": "Identifier", "name": "tokenID"}}, "memberName": "depositDisabled"}, "isPrefix": true}, {"type": "StringLiteral", "value": "TOKEN_DEPOSIT_DISABLED"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "getAccountID"}, "arguments": [{"type": "Identifier", "name": "recipient"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Account"}, "name": "account", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accounts"}, "index": {"type": "Identifier", "name": "accountID"}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "feeETH", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "additionalFeeETH"}, "memberName": "add"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositFeeETH"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "transferDeposit"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "owner"}, {"type": "Identifier", "name": "tokenAddress"}, {"type": "Identifier", "name": "amount"}, {"type": "Identifier", "name": "feeETH"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyX"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "INVALID_PUBKEY"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyX"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "SNARK_SCALAR_FIELD"}, "arguments": [], "names": []}}, {"type": "StringLiteral", "value": "INVALID_PUBKEY"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyY"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "SNARK_SCALAR_FIELD"}, "arguments": [], "names": []}}, {"type": "StringLiteral", "value": "INVALID_PUBKEY"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Request"}, "name": "prevRequest", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Request"}, "name": "request", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "Request"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "sha256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "prevRequest"}, "memberName": "accumulatedHash"}, {"type": "Identifier", "name": "accountID"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyX"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyY"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}}, "arguments": [{"type": "Identifier", "name": "tokenID"}], "names": []}, {"type": "Identifier", "name": "amount"}], "names": []}], "names": []}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "prevRequest"}, "memberName": "accumulatedFee"}, "memberName": "add"}, "arguments": [{"type": "Identifier", "name": "feeETH"}], "names": []}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}}, "arguments": [{"type": "Identifier", "name": "now"}], "names": []}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "memberName": "push"}, "arguments": [{"type": "Identifier", "name": "request"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Deposit"}, "name": "_deposit", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "Deposit"}, "arguments": [{"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "tokenID"}, {"type": "Identifier", "name": "amount"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "deposits"}, "memberName": "push"}, "arguments": [{"type": "Identifier", "name": "_deposit"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokenBalances"}, "index": {"type": "Identifier", "name": "tokenAddress"}}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokenBalances"}, "index": {"type": "Identifier", "name": "tokenAddress"}}, "memberName": "add"}, "arguments": [{"type": "Identifier", "name": "amount"}], "names": []}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "DepositRequested"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}}, "arguments": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}], "names": []}, {"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "tokenID"}, {"type": "Identifier", "name": "amount"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyX"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "account"}, "memberName": "pubKeyY"}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getNumDepositRequestsProcessed", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "currentBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "currentBlock"}, "memberName": "numDepositRequestsCommitted"}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getNumAvailableDepositSlots", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numOpenRequests", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "memberName": "length"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getNumDepositRequestsProcessed"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}}}, {"type": "BinaryOperation", "operator": "-", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_OPEN_DEPOSIT_REQUESTS"}, "arguments": [], "names": []}, "right": {"type": "Identifier", "name": "numOpenRequests"}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "transferDeposit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "accountOwner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "feeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "totalRequiredETH", "storageLocation": null}], "initialValue": {"type": "Identifier", "name": "feeETH"}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "tokenAddress"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "totalRequiredETH"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "totalRequiredETH"}, "memberName": "add"}, "arguments": [{"type": "Identifier", "name": "amount"}], "names": []}}}]}, "FalseBody": null}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, "right": {"type": "Identifier", "name": "totalRequiredETH"}}, {"type": "StringLiteral", "value": "INSUFFICIENT_FEE"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "feeSurplus", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, "memberName": "sub"}, "arguments": [{"type": "Identifier", "name": "totalRequiredETH"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "memberName": "transferETH"}, "arguments": [{"type": "Identifier", "name": "feeSurplus"}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "gasleft"}, "arguments": [], "names": []}], "names": []}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "tokenAddress"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "tokenAddress"}, "memberName": "safeTransferFrom"}, "arguments": [{"type": "Identifier", "name": "accountOwner"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "Identifier", "name": "this"}], "names": []}, {"type": "Identifier", "name": "amount"}], "names": []}, {"type": "StringLiteral", "value": "INSUFFICIENT_FUND"}], "names": []}}]}, "FalseBody": null}]}, "visibility": "private", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ExchangeGenesis", "baseContracts": [], "subNodes": [{"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeAccounts"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeTokens"}, {"type": "FunctionDefinition", "name": "initializeGenesisBlock", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_id", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_loopringAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "_operator", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "_onchainDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "_genesisBlockHash", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "NumberLiteral", "number": "0", "subdenomination": null}, "right": {"type": "Identifier", "name": "_id"}}, {"type": "StringLiteral", "value": "INVALID_ID"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, "right": {"type": "Identifier", "name": "_loopringAddress"}}, {"type": "StringLiteral", "value": "ZERO_ADDRESS"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, "right": {"type": "Identifier", "name": "_operator"}}, {"type": "StringLiteral", "value": "ZERO_ADDRESS"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "_genesisBlockHash"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "ZERO_GENESIS_BLOCK_HASH"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "INITIALIZED_ALREADY"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}, "right": {"type": "Identifier", "name": "_id"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "exchangeCreationTimestamp"}, "right": {"type": "Identifier", "name": "now"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ILoopringV3"}, "arguments": [{"type": "Identifier", "name": "_loopringAddress"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "operator"}, "right": {"type": "Identifier", "name": "_operator"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "onchainDataAvailability"}, "right": {"type": "Identifier", "name": "_onchainDataAvailability"}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ILoopringV3"}, "name": "loopring", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ILoopringV3"}, "arguments": [{"type": "Identifier", "name": "_loopringAddress"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blockVerifier"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "IBlockVerifier"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "loopring"}, "memberName": "blockVerifierAddress"}, "arguments": [], "names": []}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "lrcAddress"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "loopring"}, "memberName": "lrcAddress"}, "arguments": [], "names": []}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "genesisBlock", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "Block"}, "arguments": [{"type": "Identifier", "name": "_genesisBlockHash"}, {"type": "NumberLiteral", "number": "0x0", "subdenomination": null}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockState"}, "memberName": "VERIFIED"}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}}, "arguments": [{"type": "Identifier", "name": "now"}], "names": []}, {"type": "NumberLiteral", "number": "1", "subdenomination": null}, {"type": "NumberLiteral", "number": "1", "subdenomination": null}, {"type": "BooleanLiteral", "value": true}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "FunctionCall", "expression": {"type": "NewExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "push"}, "arguments": [{"type": "Identifier", "name": "genesisBlock"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Request"}, "name": "genesisRequest", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "Request"}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "NumberLiteral", "number": "0xFFFFFFFF", "subdenomination": null}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "memberName": "push"}, "arguments": [{"type": "Identifier", "name": "genesisRequest"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "memberName": "push"}, "arguments": [{"type": "Identifier", "name": "genesisRequest"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Account"}, "name": "protocolFeePoolAccount", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "Account"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accounts"}, "memberName": "push"}, "arguments": [{"type": "Identifier", "name": "protocolFeePoolAccount"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "ownerToAccountId"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "protocolFeePoolAccount"}, "memberName": "owner"}}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accounts"}, "memberName": "length"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "protocolFeeData"}, "memberName": "timestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "protocolFeeData"}, "memberName": "takerFeeBips"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "maxProtocolTakerFeeBips"}, "arguments": [], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "protocolFeeData"}, "memberName": "makerFeeBips"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "maxProtocolMakerFeeBips"}, "arguments": [], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "protocolFeeData"}, "memberName": "previousTakerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "protocolFeeData"}, "memberName": "takerFeeBips"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "protocolFeeData"}, "memberName": "previousMakerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "protocolFeeData"}, "memberName": "makerFeeBips"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "registerToken"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "registerToken"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "loopring"}, "memberName": "wethAddress"}, "arguments": [], "names": []}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "registerToken"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "lrcAddress"}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ExchangeWithdrawals", "baseContracts": [], "subNodes": [{"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "libraryName": "AddressUtil"}, {"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "libraryName": "AddressUtil"}, {"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "libraryName": "MathUint"}, {"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "libraryName": "ERC20SafeTransfer"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeAccounts"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeBalances"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeMode"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeTokens"}, {"type": "EventDefinition", "name": "BlockFeeWithdrawn", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "WithdrawalRequested", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "withdrawalIdx", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "WithdrawalCompleted", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "WithdrawalFailed", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "getWithdrawRequest", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "accumulatedHash", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accumulatedFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "INVALID_INDEX"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Request"}, "name": "request", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "index": {"type": "Identifier", "name": "index"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accumulatedHash"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "request"}, "memberName": "accumulatedHash"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "accumulatedFee"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "request"}, "memberName": "accumulatedFee"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "timestamp"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "request"}, "memberName": "timestamp"}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "withdraw", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "ZERO_VALUE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "areUserRequestsEnabled"}, "arguments": [], "names": []}, {"type": "StringLiteral", "value": "USER_REQUEST_SUSPENDED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getNumAvailableWithdrawalSlots"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "TOO_MANY_REQUESTS_OPEN"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "getTokenID"}, "arguments": [{"type": "Identifier", "name": "token"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalFeeETH"}}, {"type": "StringLiteral", "value": "INSUFFICIENT_FEE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "memberName": "transferETH"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, "memberName": "sub"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalFeeETH"}], "names": []}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "gasleft"}, "arguments": [], "names": []}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Request"}, "name": "prevRequest", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Request"}, "name": "request", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "Request"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "sha256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "prevRequest"}, "memberName": "accumulatedHash"}, {"type": "Identifier", "name": "accountID"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}}, "arguments": [{"type": "Identifier", "name": "tokenID"}], "names": []}, {"type": "Identifier", "name": "amount"}], "names": []}], "names": []}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "prevRequest"}, "memberName": "accumulatedFee"}, "memberName": "add"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalFeeETH"}], "names": []}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}}, "arguments": [{"type": "Identifier", "name": "now"}], "names": []}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "memberName": "push"}, "arguments": [{"type": "Identifier", "name": "request"}], "names": []}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "WithdrawalRequested"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}}, "arguments": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}], "names": []}, {"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "tokenID"}, {"type": "Identifier", "name": "amount"}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawFromMerkleTreeFor", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "balance", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "tradeHistoryRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "30", "subdenomination": null}}, "name": "accountMerkleProof", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "12", "subdenomination": null}}, "name": "balanceMerkleProof", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, {"type": "StringLiteral", "value": "NOT_IN_WITHDRAW_MODE"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "lastFinalizedBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "getAccountID"}, "arguments": [{"type": "Identifier", "name": "owner"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "getTokenID"}, "arguments": [{"type": "Identifier", "name": "token"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "IndexAccess", "base": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawnInWithdrawMode"}, "index": {"type": "Identifier", "name": "owner"}}, "index": {"type": "Identifier", "name": "token"}}, "right": {"type": "BooleanLiteral", "value": false}}, {"type": "StringLiteral", "value": "WITHDRAWN_ALREADY"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeBalances"}, "memberName": "verifyAccountBalance"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "lastFinalizedBlock"}, "memberName": "merkleRoot"}], "names": []}, {"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "tokenID"}, {"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}, {"type": "Identifier", "name": "nonce"}, {"type": "Identifier", "name": "balance"}, {"type": "Identifier", "name": "tradeHistoryRoot"}, {"type": "Identifier", "name": "accountMerkleProof"}, {"type": "Identifier", "name": "balanceMerkleProof"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawnInWithdrawMode"}, "index": {"type": "Identifier", "name": "owner"}}, "index": {"type": "Identifier", "name": "token"}}, "right": {"type": "BooleanLiteral", "value": true}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "transferTokens"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "tokenID"}, {"type": "Identifier", "name": "balance"}, {"type": "BooleanLiteral", "value": false}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getNumWithdrawalRequestsProcessed", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "currentBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "currentBlock"}, "memberName": "numWithdrawalRequestsCommitted"}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getNumAvailableWithdrawalSlots", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numOpenRequests", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "memberName": "length"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getNumWithdrawalRequestsProcessed"}, "arguments": [{"type": "Identifier", "name": "S"}], "names": []}}}, {"type": "BinaryOperation", "operator": "-", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_OPEN_WITHDRAWAL_REQUESTS"}, "arguments": [], "names": []}, "right": {"type": "Identifier", "name": "numOpenRequests"}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "withdrawFromDepositRequest", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "depositIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, {"type": "StringLiteral", "value": "NOT_IN_WITHDRAW_MODE"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "lastFinalizedBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "Identifier", "name": "depositIdx"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "lastFinalizedBlock"}, "memberName": "numDepositRequestsCommitted"}}, {"type": "StringLiteral", "value": "REQUEST_INCLUDED_IN_FINALIZED_BLOCK"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Deposit"}, "name": "_deposit", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "deposits"}, "index": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "depositIdx"}, "memberName": "sub"}, "arguments": [{"type": "NumberLiteral", "number": "1", "subdenomination": null}], "names": []}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_deposit"}, "memberName": "amount"}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "WITHDRAWN_ALREADY"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_deposit"}, "memberName": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "transferTokens"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_deposit"}, "memberName": "accountID"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_deposit"}, "memberName": "tokenID"}, {"type": "Identifier", "name": "amount"}, {"type": "BooleanLiteral", "value": false}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawFromApprovedWithdrawal", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "withdrawBlock", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "slotIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "allowFailure", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "success", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "slotIdx"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "blockSize"}}, {"type": "StringLiteral", "value": "INVALID_SLOT_IDX"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}}, {"type": "StringLiteral", "value": "BLOCK_NOT_FINALIZED"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": null}, "name": "slice", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "NewExpression", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": null}}, "arguments": [{"type": "NumberLiteral", "number": "2", "subdenomination": null}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "slot", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "/", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "*", "left": {"type": "NumberLiteral", "number": "7", "subdenomination": null}, "right": {"type": "Identifier", "name": "slotIdx"}}], "isArray": false}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "offset", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "-", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "*", "left": {"type": "NumberLiteral", "number": "7", "subdenomination": null}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "slotIdx"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}], "isArray": false}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "slot"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}], "isArray": false}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "sc", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "data", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "withdrawals"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "withdrawals", "storageLocation": "storage"}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "withdrawals"}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "dataSlot1", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "dataSlot2", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "HexNumber", "value": "0x0"}, {"type": "AssemblyExpression", "functionName": "withdrawals_slot", "arguments": []}]}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "sc"}], "expression": {"type": "AssemblyExpression", "functionName": "keccak256", "arguments": [{"type": "HexNumber", "value": "0x0"}, {"type": "HexNumber", "value": "0x20"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "dataSlot1"}], "expression": {"type": "AssemblyExpression", "functionName": "sload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "sc", "arguments": []}, {"type": "AssemblyExpression", "functionName": "slot", "arguments": []}]}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "dataSlot2"}], "expression": {"type": "AssemblyExpression", "functionName": "sload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "sc", "arguments": []}, {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "slot", "arguments": []}, {"type": "DecimalNumber", "value": "1"}]}]}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "slice"}, "index": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "Identifier", "name": "dataSlot1"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "slice"}, "index": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, "right": {"type": "Identifier", "name": "dataSlot2"}}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "data"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "slice", "arguments": []}, {"type": "AssemblyExpression", "functionName": "offset", "arguments": []}]}]}}]}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "mWithdrawals", "storageLocation": "memory"}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "withdrawals"}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "data"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "mWithdrawals", "arguments": []}, {"type": "AssemblyExpression", "functionName": "offset", "arguments": []}]}]}}]}}]}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}}, "arguments": [{"type": "BinaryOperation", "operator": "&", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": ">>", "left": {"type": "Identifier", "name": "data"}, "right": {"type": "NumberLiteral", "number": "48", "subdenomination": null}}], "isArray": false}, "right": {"type": "NumberLiteral", "number": "0xFF", "subdenomination": null}}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}}, "arguments": [{"type": "BinaryOperation", "operator": "&", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": ">>", "left": {"type": "Identifier", "name": "data"}, "right": {"type": "NumberLiteral", "number": "28", "subdenomination": null}}], "isArray": false}, "right": {"type": "NumberLiteral", "number": "0xFFFFF", "subdenomination": null}}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "&", "left": {"type": "Identifier", "name": "data"}, "right": {"type": "NumberLiteral", "number": "0xFFFFFFF", "subdenomination": null}}], "isArray": false}, "memberName": "decodeFloat"}, "arguments": [], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "success"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "transferTokens"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "tokenID"}, {"type": "Identifier", "name": "amount"}, {"type": "Identifier", "name": "allowFailure"}], "names": []}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "Identifier", "name": "success"}, "right": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "data"}, "right": {"type": "BinaryOperation", "operator": "&", "left": {"type": "Identifier", "name": "data"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint"}}, "arguments": [{"type": "UnaryOperation", "operator": "~", "subExpression": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "<<", "left": {"type": "NumberLiteral", "number": "1", "subdenomination": null}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "*", "left": {"type": "NumberLiteral", "number": "7", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "8", "subdenomination": null}}], "isArray": false}}], "isArray": false}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}], "isArray": false}, "isPrefix": true}], "names": []}}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "withdrawals"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "slice", "arguments": []}, {"type": "AssemblyExpression", "functionName": "offset", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "data", "arguments": []}]}]}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "dataSlot1", "storageLocation": null}], "initialValue": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "slice"}, "index": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "dataSlot2", "storageLocation": null}], "initialValue": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "slice"}, "index": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyExpression", "functionName": "sstore", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "sc", "arguments": []}, {"type": "AssemblyExpression", "functionName": "slot", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "dataSlot1", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "sstore", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "sc", "arguments": []}, {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "slot", "arguments": []}, {"type": "DecimalNumber", "value": "1"}]}]}, {"type": "AssemblyExpression", "functionName": "dataSlot2", "arguments": []}]}]}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "mWithdrawals", "storageLocation": "memory"}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "withdrawals"}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "mWithdrawals", "arguments": []}, {"type": "AssemblyExpression", "functionName": "offset", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "data", "arguments": []}]}]}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "withdrawals"}, "right": {"type": "Identifier", "name": "mWithdrawals"}}}]}}]}, "FalseBody": null}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawBlockFee", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "feeRecipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "feeAmountToOperator", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}}}, {"type": "StringLiteral", "value": "INVALID_BLOCK_IDX"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "requestedBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "Identifier", "name": "blockIdx"}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "previousBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}}, {"type": "StringLiteral", "value": "BLOCK_NOT_FINALIZED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "requestedBlock"}, "memberName": "blockFeeWithdrawn"}, "right": {"type": "BooleanLiteral", "value": false}}, {"type": "StringLiteral", "value": "FEE_WITHDRAWN_ALREADY"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "feeAmount", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "lastRequestTimestamp", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "startIndex", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "previousBlock"}, "memberName": "numDepositRequestsCommitted"}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "endIndex", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "requestedBlock"}, "memberName": "numDepositRequestsCommitted"}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "endIndex"}, "right": {"type": "Identifier", "name": "startIndex"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "feeAmount"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "endIndex"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, "memberName": "accumulatedFee"}, "memberName": "sub"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "startIndex"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, "memberName": "accumulatedFee"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "lastRequestTimestamp"}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "depositChain"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "endIndex"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, "memberName": "timestamp"}}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "startIndex"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "previousBlock"}, "memberName": "numWithdrawalRequestsCommitted"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "endIndex"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "requestedBlock"}, "memberName": "numWithdrawalRequestsCommitted"}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "endIndex"}, "right": {"type": "Identifier", "name": "startIndex"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "feeAmount"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "endIndex"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, "memberName": "accumulatedFee"}, "memberName": "sub"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "startIndex"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, "memberName": "accumulatedFee"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "lastRequestTimestamp"}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "withdrawalChain"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "endIndex"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, "memberName": "timestamp"}}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "revert"}, "arguments": [{"type": "StringLiteral", "value": "BLOCK_HAS_NO_OPERATOR_FEE"}], "names": []}}]}}]}}]}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "blockTimestamp", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "requestedBlock"}, "memberName": "timestamp"}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "startTime", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "lastRequestTimestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "FEE_BLOCK_FINE_START_TIME"}, "arguments": [], "names": []}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "fine", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "blockTimestamp"}, "right": {"type": "Identifier", "name": "startTime"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "fine"}, "right": {"type": "BinaryOperation", "operator": "/", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "feeAmount"}, "memberName": "mul"}, "arguments": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "blockTimestamp"}, "right": {"type": "Identifier", "name": "startTime"}}], "names": []}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "FEE_BLOCK_FINE_MAX_DURATION"}, "arguments": [], "names": []}}}}]}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "feeAmountToBurn", "storageLocation": null}], "initialValue": {"type": "Conditional", "condition": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "fine"}, "right": {"type": "Identifier", "name": "feeAmount"}}], "isArray": false}, "TrueExpression": {"type": "Identifier", "name": "feeAmount"}, "FalseExpression": {"type": "Identifier", "name": "fine"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "feeAmountToOperator"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "feeAmount"}, "right": {"type": "Identifier", "name": "feeAmountToBurn"}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "requestedBlock"}, "memberName": "blockFeeWithdrawn"}, "right": {"type": "BooleanLiteral", "value": true}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "protocolFeeVault"}, "arguments": [], "names": []}, "memberName": "transferETH"}, "arguments": [{"type": "Identifier", "name": "feeAmountToBurn"}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "gasleft"}, "arguments": [], "names": []}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "feeRecipient"}, "memberName": "transferETH"}, "arguments": [{"type": "Identifier", "name": "feeAmountToOperator"}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "gasleft"}, "arguments": [], "names": []}], "names": []}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "BlockFeeWithdrawn"}, "arguments": [{"type": "Identifier", "name": "blockIdx"}, {"type": "Identifier", "name": "feeAmount"}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "distributeWithdrawals", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "maxNumWithdrawals", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "INVALID_BLOCK_IDX"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "maxNumWithdrawals"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "INVALID_MAX_NUM_WITHDRAWALS"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "withdrawBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "blocks"}, "index": {"type": "Identifier", "name": "blockIdx"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "ONCHAIN_WITHDRAWAL"}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "blockType"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "BlockType"}, "memberName": "OFFCHAIN_WITHDRAWAL"}}}, {"type": "StringLiteral", "value": "INVALID_BLOCK_TYPE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "numBlocksFinalized"}}, {"type": "StringLiteral", "value": "BLOCK_NOT_FINALIZED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "numWithdrawalsDistributed"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "blockSize"}}, {"type": "StringLiteral", "value": "WITHDRAWALS_ALREADY_DISTRIBUTED"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "bOnlyOperator", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "now"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "timestamp"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MAX_TIME_TO_DISTRIBUTE_WITHDRAWALS"}, "arguments": [], "names": []}}}}, {"type": "IfStatement", "condition": {"type": "Identifier", "name": "bOnlyOperator"}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "operator"}}, {"type": "StringLiteral", "value": "UNAUTHORIZED"}], "names": []}}]}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "start", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "numWithdrawalsDistributed"}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "end", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "start"}, "memberName": "add"}, "arguments": [{"type": "Identifier", "name": "maxNumWithdrawals"}], "names": []}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "end"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "blockSize"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "end"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "blockSize"}}}]}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "gasLimit", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "MIN_GAS_TO_DISTRIBUTE_WITHDRAWALS"}, "arguments": [], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "totalNumWithdrawn", "storageLocation": null}], "initialValue": {"type": "Identifier", "name": "start"}}, {"type": "WhileStatement", "condition": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "totalNumWithdrawn"}, "right": {"type": "Identifier", "name": "end"}}, "right": {"type": "BinaryOperation", "operator": ">=", "left": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "gasleft"}, "arguments": [], "names": []}, "right": {"type": "Identifier", "name": "gasLimit"}}}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "withdrawFromApprovedWithdrawal"}, "arguments": [{"type": "Identifier", "name": "S"}, {"type": "Identifier", "name": "blockIdx"}, {"type": "Identifier", "name": "withdrawBlock"}, {"type": "Identifier", "name": "totalNumWithdrawn"}, {"type": "BooleanLiteral", "value": true}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "totalNumWithdrawn"}, "isPrefix": false}}]}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "withdrawBlock"}, "memberName": "numWithdrawalsDistributed"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}}, "arguments": [{"type": "Identifier", "name": "totalNumWithdrawn"}], "names": []}}}, {"type": "IfStatement", "condition": {"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "Identifier", "name": "bOnlyOperator"}, "isPrefix": true}, "TrueBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numWithdrawn", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "totalNumWithdrawn"}, "memberName": "sub"}, "arguments": [{"type": "Identifier", "name": "start"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "totalFine", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "withdrawalFineLRC"}, "arguments": [], "names": []}, "memberName": "mul"}, "arguments": [{"type": "Identifier", "name": "numWithdrawn"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amountToBurn", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "/", "left": {"type": "Identifier", "name": "totalFine"}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amountToDistributer", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "totalFine"}, "right": {"type": "Identifier", "name": "amountToBurn"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "burnExchangeStake"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}, {"type": "Identifier", "name": "amountToBurn"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "withdrawExchangeStake"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "id"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "amountToDistributer"}], "names": []}}]}, "FalseBody": null}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "transferTokens", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "S", "storageLocation": "storage", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "allowFailure", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "success", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null}], "initialValue": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "accountID"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": ">=", "left": {"type": "Identifier", "name": "accountID"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accounts"}, "memberName": "length"}}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "to"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "loopring"}, "memberName": "protocolFeeVault"}, "arguments": [], "names": []}}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "to"}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "accounts"}, "index": {"type": "Identifier", "name": "accountID"}}, "memberName": "owner"}}}]}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "getTokenAddress"}, "arguments": [{"type": "Identifier", "name": "tokenID"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "gasLimit", "storageLocation": null}], "initialValue": {"type": "Conditional", "condition": {"type": "Identifier", "name": "allowFailure"}, "TrueExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeData"}, "memberName": "GAS_LIMIT_SEND_TOKENS"}, "arguments": [], "names": []}, "FalseExpression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "gasleft"}, "arguments": [], "names": []}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "token"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "success"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "to"}, "memberName": "sendETH"}, "arguments": [{"type": "Identifier", "name": "amount"}, {"type": "Identifier", "name": "gasLimit"}], "names": []}}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "success"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "token"}, "memberName": "safeTransferWithGasLimit"}, "arguments": [{"type": "Identifier", "name": "to"}, {"type": "Identifier", "name": "amount"}, {"type": "Identifier", "name": "gasLimit"}], "names": []}}}]}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "success"}, "right": {"type": "BooleanLiteral", "value": true}}}]}}, {"type": "IfStatement", "condition": {"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "Identifier", "name": "allowFailure"}, "isPrefix": true}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "Identifier", "name": "success"}, {"type": "StringLiteral", "value": "TRANSFER_FAILURE"}], "names": []}}]}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "Identifier", "name": "success"}, "TrueBody": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokenBalances"}, "index": {"type": "Identifier", "name": "token"}}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "S"}, "memberName": "tokenBalances"}, "index": {"type": "Identifier", "name": "token"}}, "memberName": "sub"}, "arguments": [{"type": "Identifier", "name": "amount"}], "names": []}}}]}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "accountID"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "tokenID"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, "right": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, "TrueBody": {"type": "Block", "statements": [{"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "WithdrawalCompleted"}, "arguments": [{"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "tokenID"}, {"type": "Identifier", "name": "to"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}}, "arguments": [{"type": "Identifier", "name": "amount"}], "names": []}], "names": []}}]}, "FalseBody": null}]}, "FalseBody": {"type": "Block", "statements": [{"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "WithdrawalFailed"}, "arguments": [{"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "tokenID"}, {"type": "Identifier", "name": "to"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}}, "arguments": [{"type": "Identifier", "name": "amount"}], "names": []}], "names": []}}]}}]}, "visibility": "private", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "Cloneable", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "clone", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "retval", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "HexNumber", "value": "0x0"}, {"type": "AssemblyExpression", "functionName": "or", "arguments": [{"type": "HexNumber", "value": "0x5880730000000000000000000000000000000000000000803b80938091923cF3"}, {"type": "AssemblyExpression", "functionName": "mul", "arguments": [{"type": "AssemblyExpression", "functionName": "a", "arguments": []}, {"type": "HexNumber", "value": "0x1000000000000000000"}]}]}]}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "retval"}], "expression": {"type": "AssemblyExpression", "functionName": "create", "arguments": [{"type": "DecimalNumber", "value": "0"}, {"type": "DecimalNumber", "value": "0"}, {"type": "DecimalNumber", "value": "32"}]}}]}}, {"type": "Identifier", "name": "retval"}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "IExchange", "baseContracts": [{"type": "InheritanceSpecifier", "baseName": {"type": "UserDefinedTypeName", "namePath": "Claimable"}, "arguments": []}, {"type": "InheritanceSpecifier", "baseName": {"type": "UserDefinedTypeName", "namePath": "ReentrancyGuard"}, "arguments": []}], "subNodes": [{"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "version", "expression": {"type": "StringLiteral", "value": ""}, "visibility": "public", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "StringLiteral", "value": ""}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "genesisBlockHash", "expression": {"type": "NumberLiteral", "number": "0", "subdenomination": null}, "visibility": "public", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "FunctionDefinition", "name": "clone", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "cloneAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "origin", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "Identifier", "name": "this"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "cloneAddress"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "Cloneable"}, "memberName": "clone"}, "arguments": [{"type": "Identifier", "name": "origin"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "assert"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "cloneAddress"}, "right": {"type": "Identifier", "name": "origin"}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "assert"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "cloneAddress"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": null}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "IExchangeV3", "baseContracts": [{"type": "InheritanceSpecifier", "baseName": {"type": "UserDefinedTypeName", "namePath": "IExchange"}, "arguments": []}], "subNodes": [{"type": "EventDefinition", "name": "AccountCreated", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "id", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "AccountUpdated", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "id", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "TokenRegistered", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenId", "isStateVar": false, "isIndexed": true}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "OperatorChanged", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "oldOperator", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "newOperator", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "AddressWhitelistChanged", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "oldAddressWhitelist", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "newAddressWhitelist", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "FeesUpdated", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accountCreationFeeETH", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accountUpdateFeeETH", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "depositFeeETH", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "withdrawalFeeETH", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "Shutdown", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "timestamp", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "BlockCommitted", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "publicDataHash", "isStateVar": false, "isIndexed": true}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "BlockVerified", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "isStateVar": false, "isIndexed": true}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "BlockFinalized", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "isStateVar": false, "isIndexed": true}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "Revert", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "isStateVar": false, "isIndexed": true}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "DepositRequested", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "depositIdx", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "BlockFeeWithdrawn", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "WithdrawalRequested", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "withdrawalIdx", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "WithdrawalCompleted", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "WithdrawalFailed", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "ProtocolFeesUpdated", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "takerFeeBips", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "makerFeeBips", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "previousTakerFeeBips", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "previousMakerFeeBips", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "initialize", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "loopringAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "exchangeId", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "operator", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "onchainDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "isInWithdrawalMode", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "isShutdown", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getNumAccounts", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getAccount", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "createOrUpdateAccount", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "permission", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountNew", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountUpdated", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "isAccountBalanceCorrect", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "merkleRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "balance", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "tradeHistoryRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "30", "subdenomination": null}}, "name": "accountMerkleProof", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "12", "subdenomination": null}}, "name": "balanceMerkleProof", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "getLRCFeeForRegisteringOneMoreToken", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "feeLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "registerToken", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getTokenID", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getTokenAddress", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "disableTokenDeposit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "enableTokenDeposit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getExchangeStake", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "withdrawExchangeStake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawTokenNotOwnedByUsers", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawProtocolFeeStake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "burnExchangeStake", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getBlockHeight", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getNumBlocksFinalized", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getBlock", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "merkleRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "publicDataHash", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockState", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockType", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "numDepositRequestsCommitted", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "numWithdrawalRequestsCommitted", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "blockFeeWithdrawn", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "numWithdrawalsDistributed", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "commitBlock", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockType", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "data", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "offchainData", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "verifyBlocks", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": null}, "name": "blockIndices", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": null}, "name": "proofs", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "revertBlock", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getNumDepositRequestsProcessed", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getNumAvailableDepositSlots", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getDepositRequest", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "accumulatedHash", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accumulatedFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "updateAccountAndDeposit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "permission", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountNew", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountUpdated", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "deposit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "depositTo", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "getNumWithdrawalRequestsProcessed", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getNumAvailableWithdrawalSlots", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getWithdrawRequest", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "accumulatedHash", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accumulatedFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "withdraw", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "withdrawProtocolFees", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "withdrawFromMerkleTree", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "balance", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "tradeHistoryRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "30", "subdenomination": null}}, "name": "accountMerkleProof", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "12", "subdenomination": null}}, "name": "balanceMerkleProof", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawFromMerkleTreeFor", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "balance", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "tradeHistoryRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "30", "subdenomination": null}}, "name": "accountMerkleProof", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "12", "subdenomination": null}}, "name": "balanceMerkleProof", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawFromDepositRequest", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "depositIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawFromApprovedWithdrawal", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "slotIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawBlockFee", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "feeRecipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "feeAmount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "distributeWithdrawals", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "maxNumWithdrawals", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "setOperator", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "_operator", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "oldOperator", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "setAddressWhitelist", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_addressWhitelist", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "oldAddressWhitelist", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "setFees", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_accountCreationFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_accountUpdateFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_depositFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_withdrawalFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getFees", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_accountCreationFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_accountUpdateFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_depositFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_withdrawalFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "startOrContinueMaintenanceMode", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "durationMinutes", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "stopMaintenanceMode", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getRemainingDowntime", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "durationMinutes", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getDowntimeCostLRC", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "durationMinutes", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "costLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getTotalTimeInMaintenanceSeconds", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "timeInSeconds", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getExchangeCreationTimestamp", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "timestamp", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "shutdown", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "success", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getRequestStats", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numDepositRequestsProcessed", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numAvailableDepositSlots", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numWithdrawalRequestsProcessed", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numAvailableWithdrawalSlots", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getProtocolFeeValues", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "takerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "makerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "previousTakerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "previousMakerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.11"}, {"type": "ContractDefinition", "name": "ExchangeV3", "baseContracts": [{"type": "InheritanceSpecifier", "baseName": {"type": "UserDefinedTypeName", "namePath": "IExchangeV3"}, "arguments": []}], "subNodes": [{"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "version", "expression": {"type": "StringLiteral", "value": "3.0-beta3"}, "visibility": "public", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "StringLiteral", "value": "3.0-beta3"}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "genesisBlockHash", "expression": {"type": "NumberLiteral", "number": "0x2b4827daf74c0ab30deb68b1c337dec40579bb3ff45ce9478288e1a2b83a3a01", "subdenomination": null}, "visibility": "public", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0x2b4827daf74c0ab30deb68b1c337dec40579bb3ff45ce9478288e1a2b83a3a01", "subdenomination": null}}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeAdmins"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeAccounts"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeBalances"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeBlocks"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeDeposits"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeGenesis"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeMode"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeTokens"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "libraryName": "ExchangeWithdrawals"}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.State"}, "name": "state", "expression": null, "visibility": "private", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "ModifierDefinition", "name": "onlyOperator", "parameters": {"type": "ParameterList", "parameters": []}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "operator"}}, {"type": "StringLiteral", "value": "UNAUTHORIZED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "Identifier", "name": "_"}}]}}, {"type": "ModifierDefinition", "name": "onlyWhenUninitialized", "parameters": {"type": "ParameterList", "parameters": []}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "owner"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "id"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, {"type": "StringLiteral", "value": "INITIALIZED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "Identifier", "name": "_"}}]}}, {"type": "FunctionDefinition", "name": null, "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": null, "body": {"type": "Block", "statements": []}, "visibility": "public", "modifiers": [], "isConstructor": true, "stateMutability": null}, {"type": "FunctionDefinition", "name": "initialize", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_loopringAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_id", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "_operator", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "_onchainDataAvailability", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, "right": {"type": "Identifier", "name": "_owner"}}, {"type": "StringLiteral", "value": "ZERO_ADDRESS"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "owner"}, "right": {"type": "Identifier", "name": "_owner"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "initializeGenesisBlock"}, "arguments": [{"type": "Identifier", "name": "_id"}, {"type": "Identifier", "name": "_loopringAddress"}, {"type": "Identifier", "name": "_operator"}, {"type": "Identifier", "name": "_onchainDataAvailability"}, {"type": "Identifier", "name": "genesisBlockHash"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyWhenUninitialized", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "isInWithdrawalMode", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "isShutdown", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "isShutdown"}, "arguments": [], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "isInMaintenance", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "isInMaintenance"}, "arguments": [], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getNumAccounts", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "accounts"}, "memberName": "length"}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getAccount", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getAccount"}, "arguments": [{"type": "Identifier", "name": "owner"}], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "createOrUpdateAccount", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "permission", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountNew", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountUpdated", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "updateAccountAndDepositInternal"}, "arguments": [{"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "Identifier", "name": "permission"}], "names": []}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "isAccountBalanceCorrect", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "merkleRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "balance", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "tradeHistoryRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "30", "subdenomination": null}}, "name": "accountPath", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "12", "subdenomination": null}}, "name": "balancePath", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "ExchangeBalances"}, "memberName": "isAccountBalanceCorrect"}, "arguments": [{"type": "Identifier", "name": "merkleRoot"}, {"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "tokenID"}, {"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}, {"type": "Identifier", "name": "nonce"}, {"type": "Identifier", "name": "balance"}, {"type": "Identifier", "name": "tradeHistoryRoot"}, {"type": "Identifier", "name": "accountPath"}, {"type": "Identifier", "name": "balancePath"}], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "getLRCFeeForRegisteringOneMoreToken", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getLRCFeeForRegisteringOneMoreToken"}, "arguments": [], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "registerToken", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "registerToken"}, "arguments": [{"type": "Identifier", "name": "tokenAddress"}], "names": []}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getTokenID", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getTokenID"}, "arguments": [{"type": "Identifier", "name": "tokenAddress"}], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getTokenAddress", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "tokenID", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getTokenAddress"}, "arguments": [{"type": "Identifier", "name": "tokenID"}], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "disableTokenDeposit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "disableTokenDeposit"}, "arguments": [{"type": "Identifier", "name": "tokenAddress"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "enableTokenDeposit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "enableTokenDeposit"}, "arguments": [{"type": "Identifier", "name": "tokenAddress"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getExchangeStake", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "loopring"}, "memberName": "getExchangeStake"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "id"}], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "withdrawExchangeStake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "withdrawExchangeStake"}, "arguments": [{"type": "Identifier", "name": "recipient"}], "names": []}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawTokenNotOwnedByUsers", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "withdrawTokenNotOwnedByUsers"}, "arguments": [{"type": "Identifier", "name": "tokenAddress"}, {"type": "Identifier", "name": "recipient"}], "names": []}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawProtocolFeeStake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "loopring"}, "memberName": "withdrawProtocolFeeStake"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "id"}, {"type": "Identifier", "name": "recipient"}, {"type": "Identifier", "name": "amount"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "burnExchangeStake", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "TrueBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "stake", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "loopring"}, "memberName": "getExchangeStake"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "id"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "loopring"}, "memberName": "burnExchangeStake"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "id"}, {"type": "Identifier", "name": "stake"}], "names": []}}]}, "FalseBody": null}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getBlockHeight", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "blocks"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getNumBlocksFinalized", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "numBlocksFinalized"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getBlock", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "merkleRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "publicDataHash", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockState", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockType", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "numDepositRequestsCommitted", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "numWithdrawalRequestsCommitted", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "blockFeeWithdrawn", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "numWithdrawalsDistributed", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "blocks"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "INVALID_BLOCK_IDX"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "specifiedBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "blocks"}, "index": {"type": "Identifier", "name": "blockIdx"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "merkleRoot"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "merkleRoot"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "publicDataHash"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "publicDataHash"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "blockState"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "state"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "blockType"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "blockType"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "blockSize"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "blockSize"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "timestamp"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "timestamp"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "numDepositRequestsCommitted"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "numDepositRequestsCommitted"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "numWithdrawalRequestsCommitted"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "numWithdrawalRequestsCommitted"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "blockFeeWithdrawn"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "blockFeeWithdrawn"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "numWithdrawalsDistributed"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "specifiedBlock"}, "memberName": "numWithdrawalsDistributed"}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "commitBlock", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockType", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint16"}, "name": "blockSize", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "blockVersion", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": null, "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "offchainData", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes4"}, "name": "selector", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "IDecompressor"}, "arguments": [{"type": "NumberLiteral", "number": "0x0", "subdenomination": null}], "names": []}, "memberName": "decompress"}, "memberName": "selector"}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "decompressed", "storageLocation": "memory"}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "dataOffset"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "calldataload", "arguments": [{"type": "DecimalNumber", "value": "100"}]}, {"type": "DecimalNumber", "value": "4"}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "mode"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "calldataload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "dataOffset", "arguments": []}, {"type": "DecimalNumber", "value": "1"}]}]}, {"type": "HexNumber", "value": "0xFF"}]}}, {"type": "AssemblySwitch", "expression": {"type": "AssemblyExpression", "functionName": "mode", "arguments": []}, "cases": [{"type": "AssemblyCase", "block": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "length"}], "expression": {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "calldataload", "arguments": [{"type": "AssemblyExpression", "functionName": "dataOffset", "arguments": []}]}, {"type": "DecimalNumber", "value": "1"}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "data"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "HexNumber", "value": "0x40"}]}}, {"type": "AssemblyExpression", "functionName": "calldatacopy", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "32"}]}, {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "dataOffset", "arguments": []}, {"type": "DecimalNumber", "value": "33"}]}, {"type": "AssemblyExpression", "functionName": "length", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "AssemblyExpression", "functionName": "length", "arguments": []}]}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "decompressed"}], "expression": {"type": "AssemblyExpression", "functionName": "data", "arguments": []}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "HexNumber", "value": "0x40"}, {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "decompressed", "arguments": []}, {"type": "AssemblyExpression", "functionName": "length", "arguments": []}]}, {"type": "DecimalNumber", "value": "32"}]}]}]}, "value": {"type": "DecimalNumber", "value": "0"}}, {"type": "AssemblyCase", "block": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "contractAddress"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "calldataload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "dataOffset", "arguments": []}, {"type": "DecimalNumber", "value": "21"}]}]}, {"type": "HexNumber", "value": "0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "length"}], "expression": {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "calldataload", "arguments": [{"type": "AssemblyExpression", "functionName": "dataOffset", "arguments": []}]}, {"type": "DecimalNumber", "value": "21"}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "data"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "HexNumber", "value": "0x40"}]}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "AssemblyExpression", "functionName": "selector", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "4"}]}, {"type": "DecimalNumber", "value": "32"}]}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "36"}]}, {"type": "AssemblyExpression", "functionName": "length", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "calldatacopy", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "68"}]}, {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "dataOffset", "arguments": []}, {"type": "DecimalNumber", "value": "53"}]}, {"type": "AssemblyExpression", "functionName": "length", "arguments": []}]}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "success"}], "expression": {"type": "AssemblyExpression", "functionName": "call", "arguments": [{"type": "AssemblyExpression", "functionName": "gas", "arguments": []}, {"type": "AssemblyExpression", "functionName": "contractAddress", "arguments": []}, {"type": "DecimalNumber", "value": "0"}, {"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "DecimalNumber", "value": "68"}, {"type": "AssemblyExpression", "functionName": "length", "arguments": []}]}, {"type": "HexNumber", "value": "0x0"}, {"type": "DecimalNumber", "value": "0"}]}}, {"type": "AssemblyIf", "condition": {"type": "AssemblyExpression", "functionName": "eq", "arguments": [{"type": "AssemblyExpression", "functionName": "success", "arguments": []}, {"type": "DecimalNumber", "value": "0"}]}, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyExpression", "functionName": "revert", "arguments": [{"type": "DecimalNumber", "value": "0"}, {"type": "DecimalNumber", "value": "0"}]}]}}, {"type": "AssemblyExpression", "functionName": "returndatacopy", "arguments": [{"type": "AssemblyExpression", "functionName": "data", "arguments": []}, {"type": "DecimalNumber", "value": "32"}, {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "returndatasize", "arguments": []}, {"type": "DecimalNumber", "value": "32"}]}]}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "decompressed"}], "expression": {"type": "AssemblyExpression", "functionName": "data", "arguments": []}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "HexNumber", "value": "0x40"}, {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "decompressed", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "decompressed", "arguments": []}]}]}, {"type": "DecimalNumber", "value": "32"}]}]}]}, "value": {"type": "DecimalNumber", "value": "1"}}, {"type": "AssemblyCase", "block": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyExpression", "functionName": "revert", "arguments": [{"type": "DecimalNumber", "value": "0"}, {"type": "DecimalNumber", "value": "0"}]}]}, "default": true}]}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "commitBlock"}, "arguments": [{"type": "Identifier", "name": "blockType"}, {"type": "Identifier", "name": "blockSize"}, {"type": "Identifier", "name": "blockVersion"}, {"type": "Identifier", "name": "decompressed"}, {"type": "Identifier", "name": "offchainData"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOperator", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "verifyBlocks", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": null}, "name": "blockIndices", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": null}, "name": "proofs", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "verifyBlocks"}, "arguments": [{"type": "Identifier", "name": "blockIndices"}, {"type": "Identifier", "name": "proofs"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOperator", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "revertBlock", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "revertBlock"}, "arguments": [{"type": "Identifier", "name": "blockIdx"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOperator", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getNumDepositRequestsProcessed", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getNumDepositRequestsProcessed"}, "arguments": [], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getNumAvailableDepositSlots", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getNumAvailableDepositSlots"}, "arguments": [], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getDepositRequest", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "accumulatedHash", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accumulatedFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getDepositRequest"}, "arguments": [{"type": "Identifier", "name": "index"}], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "updateAccountAndDeposit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "permission", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountNew", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountUpdated", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "updateAccountAndDepositInternal"}, "arguments": [{"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}, {"type": "Identifier", "name": "token"}, {"type": "Identifier", "name": "amount"}, {"type": "Identifier", "name": "permission"}], "names": []}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "deposit", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "depositTo"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "token"}, {"type": "Identifier", "name": "amount"}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "depositTo", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "recipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "depositTo"}, "arguments": [{"type": "Identifier", "name": "recipient"}, {"type": "Identifier", "name": "tokenAddress"}, {"type": "Identifier", "name": "amount"}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "getNumWithdrawalRequestsProcessed", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getNumWithdrawalRequestsProcessed"}, "arguments": [], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getNumAvailableWithdrawalSlots", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getNumAvailableWithdrawalSlots"}, "arguments": [], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getWithdrawRequest", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "accumulatedHash", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accumulatedFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getWithdrawRequest"}, "arguments": [{"type": "Identifier", "name": "index"}], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "withdraw", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getAccountID"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "withdraw"}, "arguments": [{"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "token"}, {"type": "Identifier", "name": "amount"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "withdrawProtocolFees", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "withdraw"}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "Identifier", "name": "token"}, {"type": "UnaryOperation", "operator": "~", "subExpression": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, "isPrefix": true}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "withdrawFromMerkleTree", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "balance", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "tradeHistoryRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "30", "subdenomination": null}}, "name": "accountPath", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "12", "subdenomination": null}}, "name": "balancePath", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "withdrawFromMerkleTreeFor"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "token"}, {"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}, {"type": "Identifier", "name": "nonce"}, {"type": "Identifier", "name": "balance"}, {"type": "Identifier", "name": "tradeHistoryRoot"}, {"type": "Identifier", "name": "accountPath"}, {"type": "Identifier", "name": "balancePath"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawFromMerkleTreeFor", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "balance", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "tradeHistoryRoot", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "30", "subdenomination": null}}, "name": "accountPath", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint"}, "length": {"type": "NumberLiteral", "number": "12", "subdenomination": null}}, "name": "balancePath", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "withdrawFromMerkleTreeFor"}, "arguments": [{"type": "Identifier", "name": "owner"}, {"type": "Identifier", "name": "token"}, {"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}, {"type": "Identifier", "name": "nonce"}, {"type": "Identifier", "name": "balance"}, {"type": "Identifier", "name": "tradeHistoryRoot"}, {"type": "Identifier", "name": "accountPath"}, {"type": "Identifier", "name": "balancePath"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawFromDepositRequest", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "depositIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "withdrawFromDepositRequest"}, "arguments": [{"type": "Identifier", "name": "depositIdx"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawFromApprovedWithdrawal", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "slotIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "blockIdx"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "blocks"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "INVALID_BLOCK_IDX"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "ExchangeData.Block"}, "name": "withdrawBlock", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "blocks"}, "index": {"type": "Identifier", "name": "blockIdx"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "withdrawFromApprovedWithdrawal"}, "arguments": [{"type": "Identifier", "name": "blockIdx"}, {"type": "Identifier", "name": "withdrawBlock"}, {"type": "Identifier", "name": "slotIdx"}, {"type": "BooleanLiteral", "value": false}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdrawBlockFee", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "feeRecipient", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "withdrawBlockFee"}, "arguments": [{"type": "Identifier", "name": "blockIdx"}, {"type": "Identifier", "name": "feeRecipient"}], "names": []}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOperator", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "distributeWithdrawals", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "blockIdx", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "maxNumWithdrawals", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "distributeWithdrawals"}, "arguments": [{"type": "Identifier", "name": "blockIdx"}, {"type": "Identifier", "name": "maxNumWithdrawals"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "setOperator", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "_operator", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "setOperator"}, "arguments": [{"type": "Identifier", "name": "_operator"}], "names": []}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "setAddressWhitelist", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_addressWhitelist", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "setAddressWhitelist"}, "arguments": [{"type": "Identifier", "name": "_addressWhitelist"}], "names": []}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "setFees", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_accountCreationFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_accountUpdateFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_depositFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_withdrawalFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "setFees"}, "arguments": [{"type": "Identifier", "name": "_accountCreationFeeETH"}, {"type": "Identifier", "name": "_accountUpdateFeeETH"}, {"type": "Identifier", "name": "_depositFeeETH"}, {"type": "Identifier", "name": "_withdrawalFeeETH"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getFees", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_accountCreationFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_accountUpdateFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_depositFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_withdrawalFeeETH", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "_accountCreationFeeETH"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "accountCreationFeeETH"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "_accountUpdateFeeETH"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "accountUpdateFeeETH"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "_depositFeeETH"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "depositFeeETH"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "_withdrawalFeeETH"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "withdrawalFeeETH"}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "startOrContinueMaintenanceMode", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "durationMinutes", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "startOrContinueMaintenanceMode"}, "arguments": [{"type": "Identifier", "name": "durationMinutes"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "stopMaintenanceMode", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "stopMaintenanceMode"}, "arguments": [], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getRemainingDowntime", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getRemainingDowntime"}, "arguments": [], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getDowntimeCostLRC", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "durationMinutes", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "costLRC", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getDowntimeCostLRC"}, "arguments": [{"type": "Identifier", "name": "durationMinutes"}], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getTotalTimeInMaintenanceSeconds", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getTotalTimeInMaintenanceSeconds"}, "arguments": [], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getExchangeCreationTimestamp", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "exchangeCreationTimestamp"}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "shutdown", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "success", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "isInWithdrawalMode"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "INVALID_MODE"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "isShutdown"}, "arguments": [], "names": []}, "isPrefix": true}, {"type": "StringLiteral", "value": "ALREADY_SHUTDOWN"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "shutdownStartTime"}, "right": {"type": "Identifier", "name": "now"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "Shutdown"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "shutdownStartTime"}], "names": []}}, {"type": "BooleanLiteral", "value": true}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "nonReentrant", "arguments": []}, {"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getRequestStats", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numDepositRequestsProcessed", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numAvailableDepositSlots", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numWithdrawalRequestsProcessed", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "numAvailableWithdrawalSlots", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "numDepositRequestsProcessed"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getNumDepositRequestsProcessed"}, "arguments": [], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "numAvailableDepositSlots"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getNumAvailableDepositSlots"}, "arguments": [], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "numWithdrawalRequestsProcessed"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getNumWithdrawalRequestsProcessed"}, "arguments": [], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "numAvailableWithdrawalSlots"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "getNumAvailableWithdrawalSlots"}, "arguments": [], "names": []}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getProtocolFeeValues", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint32"}, "name": "timestamp", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "takerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "makerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "previousTakerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "previousMakerFeeBips", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "timestamp"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "protocolFeeData"}, "memberName": "timestamp"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "takerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "protocolFeeData"}, "memberName": "takerFeeBips"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "makerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "protocolFeeData"}, "memberName": "makerFeeBips"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "previousTakerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "protocolFeeData"}, "memberName": "previousTakerFeeBips"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "previousMakerFeeBips"}, "right": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "protocolFeeData"}, "memberName": "previousMakerFeeBips"}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "updateAccountAndDepositInternal", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyX", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "pubKeyY", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint96"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "permission", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint24"}, "name": "accountID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountNew", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "isAccountUpdated", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "TupleExpression", "components": [{"type": "Identifier", "name": "accountID"}, {"type": "Identifier", "name": "isAccountNew"}, {"type": "Identifier", "name": "isAccountUpdated"}], "isArray": false}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "createOrUpdateAccount"}, "arguments": [{"type": "Identifier", "name": "pubKeyX"}, {"type": "Identifier", "name": "pubKeyY"}, {"type": "Identifier", "name": "permission"}], "names": []}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "additionalFeeETH", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "IfStatement", "condition": {"type": "Identifier", "name": "isAccountNew"}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "additionalFeeETH"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "accountCreationFeeETH"}}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "Identifier", "name": "isAccountUpdated"}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "additionalFeeETH"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "accountUpdateFeeETH"}}}]}, "FalseBody": null}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "state"}, "memberName": "depositTo"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "token"}, {"type": "Identifier", "name": "amount"}, {"type": "Identifier", "name": "additionalFeeETH"}], "names": []}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "contract"}]}