{"type": "SourceUnit", "children": [{"type": "PragmaDirective", "name": "solidity", "value": "0.5.10"}, {"type": "PragmaDirective", "name": "experimental", "value": "ABIEncoderV2"}, {"type": "ContractDefinition", "name": "Types", "baseContracts": [], "subNodes": [{"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "EIP191_HEADER", "expression": {"type": "StringLiteral", "value": "\\x19\\x01"}, "visibility": "internal", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "StringLiteral", "value": "\\x19\\x01"}}, {"type": "StructDefinition", "name": "Party", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "wallet", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "param", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes4"}, "name": "kind", "storageLocation": null}]}, {"type": "StructDefinition", "name": "Order", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "nonce", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "expiry", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "Party"}, "name": "maker", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "Party"}, "name": "taker", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "Party"}, "name": "affiliate", "storageLocation": null}]}, {"type": "StructDefinition", "name": "Signature", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "signer", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "v", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "r", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "s", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes1"}, "name": "version", "storageLocation": null}]}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "DOMAIN_TYPEHASH", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "StringLiteral", "value": "EIP712Domain("}, {"type": "StringLiteral", "value": "string name,"}, {"type": "StringLiteral", "value": "string version,"}, {"type": "StringLiteral", "value": "address verifyingContract"}, {"type": "StringLiteral", "value": ")"}], "names": []}], "names": []}, "visibility": "default", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "StringLiteral", "value": "EIP712Domain("}, {"type": "StringLiteral", "value": "string name,"}, {"type": "StringLiteral", "value": "string version,"}, {"type": "StringLiteral", "value": "address verifyingContract"}, {"type": "StringLiteral", "value": ")"}], "names": []}], "names": []}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "ORDER_TYPEHASH", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "StringLiteral", "value": "Order("}, {"type": "StringLiteral", "value": "uint256 nonce,"}, {"type": "StringLiteral", "value": "uint256 expiry,"}, {"type": "StringLiteral", "value": "Party maker,"}, {"type": "StringLiteral", "value": "Party taker,"}, {"type": "StringLiteral", "value": "Party affiliate"}, {"type": "StringLiteral", "value": ")"}, {"type": "StringLiteral", "value": "Party("}, {"type": "StringLiteral", "value": "address wallet,"}, {"type": "StringLiteral", "value": "address token,"}, {"type": "StringLiteral", "value": "uint256 param,"}, {"type": "StringLiteral", "value": "bytes4 kind"}, {"type": "StringLiteral", "value": ")"}], "names": []}], "names": []}, "visibility": "default", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "StringLiteral", "value": "Order("}, {"type": "StringLiteral", "value": "uint256 nonce,"}, {"type": "StringLiteral", "value": "uint256 expiry,"}, {"type": "StringLiteral", "value": "Party maker,"}, {"type": "StringLiteral", "value": "Party taker,"}, {"type": "StringLiteral", "value": "Party affiliate"}, {"type": "StringLiteral", "value": ")"}, {"type": "StringLiteral", "value": "Party("}, {"type": "StringLiteral", "value": "address wallet,"}, {"type": "StringLiteral", "value": "address token,"}, {"type": "StringLiteral", "value": "uint256 param,"}, {"type": "StringLiteral", "value": "bytes4 kind"}, {"type": "StringLiteral", "value": ")"}], "names": []}], "names": []}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "PARTY_TYPEHASH", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "StringLiteral", "value": "Party("}, {"type": "StringLiteral", "value": "address wallet,"}, {"type": "StringLiteral", "value": "address token,"}, {"type": "StringLiteral", "value": "uint256 param,"}, {"type": "StringLiteral", "value": "bytes4 kind"}, {"type": "StringLiteral", "value": ")"}], "names": []}], "names": []}, "visibility": "default", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "StringLiteral", "value": "Party("}, {"type": "StringLiteral", "value": "address wallet,"}, {"type": "StringLiteral", "value": "address token,"}, {"type": "StringLiteral", "value": "uint256 param,"}, {"type": "StringLiteral", "value": "bytes4 kind"}, {"type": "StringLiteral", "value": ")"}], "names": []}], "names": []}}, {"type": "FunctionDefinition", "name": "hashOrder", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "Order"}, "name": "_order", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "_domainSeparator", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "Identifier", "name": "EIP191_HEADER"}, {"type": "Identifier", "name": "_domainSeparator"}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encode"}, "arguments": [{"type": "Identifier", "name": "ORDER_TYPEHASH"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "nonce"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "expiry"}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encode"}, "arguments": [{"type": "Identifier", "name": "PARTY_TYPEHASH"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "maker"}, "memberName": "wallet"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "maker"}, "memberName": "token"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "maker"}, "memberName": "param"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "maker"}, "memberName": "kind"}], "names": []}], "names": []}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encode"}, "arguments": [{"type": "Identifier", "name": "PARTY_TYPEHASH"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "taker"}, "memberName": "wallet"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "taker"}, "memberName": "token"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "taker"}, "memberName": "param"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "taker"}, "memberName": "kind"}], "names": []}], "names": []}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encode"}, "arguments": [{"type": "Identifier", "name": "PARTY_TYPEHASH"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "affiliate"}, "memberName": "wallet"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "affiliate"}, "memberName": "token"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "affiliate"}, "memberName": "param"}, {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_order"}, "memberName": "affiliate"}, "memberName": "kind"}], "names": []}], "names": []}], "names": []}], "names": []}], "names": []}], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "hashDomain", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "_name", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "_version", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_verifyingContract", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encode"}, "arguments": [{"type": "Identifier", "name": "DOMAIN_TYPEHASH"}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "Identifier", "name": "_name"}], "names": []}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "Identifier", "name": "_version"}], "names": []}, {"type": "Identifier", "name": "_verifyingContract"}], "names": []}], "names": []}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}], "kind": "library"}]}