{"type": "SourceUnit", "children": [{"type": "PragmaDirective", "name": "solidity", "value": ">=0.4.24"}, {"type": "ContractDefinition", "name": "erc20", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "name", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "symbol", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "decimals", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "transfer", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "receiver", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "transferFrom", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "balanceOf", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenOwner", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "balance", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "constant"}, {"type": "FunctionDefinition", "name": "allowance", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_spender", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "remaining", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "constant"}], "kind": "interface"}, {"type": "ContractDefinition", "name": "againstTokenRegister", "baseContracts": [], "subNodes": [{"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "name", "expression": {"type": "StringLiteral", "value": "AGAINST TKDEX"}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "StringLiteral", "value": "AGAINST TKDEX"}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "symbol", "expression": {"type": "StringLiteral", "value": "AGAINST"}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "StringLiteral", "value": "AGAINST"}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "comment", "expression": {"type": "StringLiteral", "value": "AGAINST Token Index & Full DEX 1.0"}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "StringLiteral", "value": "AGAINST Token Index & Full DEX 1.0"}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "expression": null, "visibility": "internal", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "indexCount", "expression": {"type": "NumberLiteral", "number": "0", "subdenomination": null}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "registerFee", "expression": {"type": "NumberLiteral", "number": "0", "subdenomination": null}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "ratePlaces", "expression": {"type": "NumberLiteral", "number": "9", "subdenomination": null}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "9", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "openMarketFee", "expression": {"type": "NumberLiteral", "number": "0", "subdenomination": null}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "actionFee", "expression": {"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "15", "subdenomination": null}}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "15", "subdenomination": null}}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "minQtd", "expression": {"type": "BinaryOperation", "operator": "/", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "18", "subdenomination": null}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "5", "subdenomination": null}}], "isArray": false}}, "visibility": "internal", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "BinaryOperation", "operator": "/", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "18", "subdenomination": null}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "5", "subdenomination": null}}], "isArray": false}}}, {"type": "EventDefinition", "name": "orderPlaced", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenPair", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "ownerId", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "orderId", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "orderDone", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenPair", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "orderId", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "doneId", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "orderCanceled", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenPair", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "orderId", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "orderRemovedLowBalance", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "token", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenPair", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "orderId", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "ctrWithdraw", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "wallet", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "StructDefinition", "name": "order", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "orderId", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "orderOwner", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "rate", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "sell", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "date", "storageLocation": null}]}, {"type": "StructDefinition", "name": "done", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "orderId", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "fillOwner", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "fillAmount", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "fillDate", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "rate", "storageLocation": null}]}, {"type": "StructDefinition", "name": "market", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "exists", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenPair", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "ordersCount", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "donesCount", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "uint"}, "valueType": {"type": "UserDefinedTypeName", "namePath": "order"}}, "name": "orders", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "uint"}, "valueType": {"type": "UserDefinedTypeName", "namePath": "done"}}, "name": "dones", "storageLocation": null}]}, {"type": "StructDefinition", "name": "voted", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "like", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "dislike", "storageLocation": null}]}, {"type": "StructDefinition", "name": "token", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenBase", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "name", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "symbol", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "decimals", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "likesCount", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "dislikesCount", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "marketsCount", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "uint"}, "valueType": {"type": "ElementaryTypeName", "name": "address"}}, "name": "marketIndex", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "UserDefinedTypeName", "namePath": "market"}}, "name": "markets", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "UserDefinedTypeName", "namePath": "voted"}}, "name": "voteStatus", "storageLocation": null}]}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "uint"}, "valueType": {"type": "ElementaryTypeName", "name": "address"}}, "name": "index", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "UserDefinedTypeName", "namePath": "token"}}, "name": "tokens", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "ElementaryTypeName", "name": "bool"}}, "name": "exists", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "FunctionDefinition", "name": null, "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": null, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "owner"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}], "names": []}}}]}, "visibility": "public", "modifiers": [], "isConstructor": true, "stateMutability": null}, {"type": "FunctionDefinition", "name": "", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "pass", "storageLocation": null}], "initialValue": {"type": "BooleanLiteral", "value": false}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "Identifier", "name": "pass"}, {"type": "StringLiteral", "value": "Nothing Here"}], "names": []}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getTokenByAddr", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_addr", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "_name", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "_symbol", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_decimals", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_marketsCount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "TupleExpression", "components": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_addr"}}, "memberName": "name"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_addr"}}, "memberName": "symbol"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_addr"}}, "memberName": "decimals"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_addr"}}, "memberName": "marketsCount"}], "isArray": false}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getTokenByIndex", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_tokenBase", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "_name", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "_symbol", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_decimals", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_marketsCount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "TupleExpression", "components": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "index"}, "index": {"type": "Identifier", "name": "_index"}}}, "memberName": "tokenBase"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "index"}, "index": {"type": "Identifier", "name": "_index"}}}, "memberName": "name"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "index"}, "index": {"type": "Identifier", "name": "_index"}}}, "memberName": "symbol"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "index"}, "index": {"type": "Identifier", "name": "_index"}}}, "memberName": "decimals"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "index"}, "index": {"type": "Identifier", "name": "_index"}}}, "memberName": "marketsCount"}], "isArray": false}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getLikesByAddr", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_addr", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_likesCount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_dislikesCount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "TupleExpression", "components": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_addr"}}, "memberName": "likesCount"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_addr"}}, "memberName": "dislikesCount"}], "isArray": false}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getVoteStatus", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_addr", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "_like", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "_dislike", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "TupleExpression", "components": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_addr"}}, "memberName": "voteStatus"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "memberName": "like"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_addr"}}, "memberName": "voteStatus"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "memberName": "dislike"}], "isArray": false}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getLikesByIndex", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "tokenBase", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_likesCount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_dislikesCount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "TupleExpression", "components": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "index"}, "index": {"type": "Identifier", "name": "_index"}}}, "memberName": "tokenBase"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "index"}, "index": {"type": "Identifier", "name": "_index"}}}, "memberName": "likesCount"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "index"}, "index": {"type": "Identifier", "name": "_index"}}}, "memberName": "dislikesCount"}], "isArray": false}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getPairByAddr", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_base", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_pairAddr", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_ordersCount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_donesCount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "_exists", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "TupleExpression", "components": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pairAddr"}}, "memberName": "ordersCount"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pairAddr"}}, "memberName": "donesCount"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pairAddr"}}, "memberName": "exists"}], "isArray": false}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getPairByIndex", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_base", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_pairIndex", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_tokenPair", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_ordersCount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_donesCount", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "TupleExpression", "components": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "marketIndex"}, "index": {"type": "Identifier", "name": "_pairIndex"}}}, "memberName": "tokenPair"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "marketIndex"}, "index": {"type": "Identifier", "name": "_pairIndex"}}}, "memberName": "ordersCount"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "marketIndex"}, "index": {"type": "Identifier", "name": "_pairIndex"}}}, "memberName": "donesCount"}], "isArray": false}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getOrders", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_base", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_pair", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_orderIndex", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_orderId", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_rate", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "_sell", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "TupleExpression", "components": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderIndex"}}, "memberName": "orderId"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderIndex"}}, "memberName": "orderOwner"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderIndex"}}, "memberName": "rate"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderIndex"}}, "memberName": "amount"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderIndex"}}, "memberName": "sell"}], "isArray": false}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getDones", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_base", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_pair", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_doneIndex", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_orderId", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_fillOwner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_fillAmount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_fillDate", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_rate", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "TupleExpression", "components": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pair"}}, "memberName": "dones"}, "index": {"type": "Identifier", "name": "_doneIndex"}}, "memberName": "orderId"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pair"}}, "memberName": "dones"}, "index": {"type": "Identifier", "name": "_doneIndex"}}, "memberName": "fillOwner"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pair"}}, "memberName": "dones"}, "index": {"type": "Identifier", "name": "_doneIndex"}}, "memberName": "fillAmount"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pair"}}, "memberName": "dones"}, "index": {"type": "Identifier", "name": "_doneIndex"}}, "memberName": "fillDate"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_base"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_pair"}}, "memberName": "dones"}, "index": {"type": "Identifier", "name": "_doneIndex"}}, "memberName": "rate"}], "isArray": false}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "changeOwner", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_newOwner", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "Identifier", "name": "owner"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "owner"}, "right": {"type": "Identifier", "name": "_newOwner"}}}]}, "FalseBody": null}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "registerToken", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_token", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "||", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "Identifier", "name": "owner"}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, "right": {"type": "Identifier", "name": "registerFee"}}], "isArray": false}}, {"type": "StringLiteral", "value": "Register Fee Very Low"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "erc20"}, "name": "refToken", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "erc20"}, "arguments": [{"type": "Identifier", "name": "_token"}], "names": []}}, {"type": "IfStatement", "condition": {"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "exists"}, "index": {"type": "Identifier", "name": "_token"}}, "isPrefix": true}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "indexCount"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "indexCount"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "index"}, "index": {"type": "Identifier", "name": "indexCount"}}, "right": {"type": "Identifier", "name": "_token"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "tokenBase"}, "right": {"type": "Identifier", "name": "_token"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "name"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "refToken"}, "memberName": "name"}, "arguments": [], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "symbol"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "refToken"}, "memberName": "symbol"}, "arguments": [], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "decimals"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "refToken"}, "memberName": "decimals"}, "arguments": [], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "likesCount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "dislikesCount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "marketsCount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "exists"}, "index": {"type": "Identifier", "name": "_token"}}, "right": {"type": "BooleanLiteral", "value": true}}}]}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "Identifier", "name": "this"}], "names": []}, "memberName": "balance"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "owner"}, "memberName": "send"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "Identifier", "name": "this"}], "names": []}, "memberName": "balance"}], "names": []}, {"type": "StringLiteral", "value": "Send error"}], "names": []}}]}, "FalseBody": null}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "createMarket", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_tokenPair", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, "right": {"type": "Identifier", "name": "openMarketFee"}}, {"type": "StringLiteral", "value": "Open Market Fee Very Low"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "exists"}, "index": {"type": "Identifier", "name": "_token"}}, "right": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "exists"}, "index": {"type": "Identifier", "name": "_tokenPair"}}}, {"type": "StringLiteral", "value": "token or tokenPair not listed"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "exists"}, "isPrefix": true}, {"type": "StringLiteral", "value": "Market already exists"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "tokenBase"}, "right": {"type": "Identifier", "name": "_tokenPair"}}, {"type": "StringLiteral", "value": "Not allowed token = tokenPair"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "marketsCount"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "marketsCount"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "marketIndex"}, "index": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "marketsCount"}}, "right": {"type": "Identifier", "name": "_tokenPair"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "tokenPair"}, "right": {"type": "Identifier", "name": "_tokenPair"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "donesCount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "exists"}, "right": {"type": "BooleanLiteral", "value": true}}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "createOrder", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_tokenPair", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_rate", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "_sell", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, "right": {"type": "Identifier", "name": "actionFee"}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "_token"}, "right": {"type": "Identifier", "name": "_tokenPair"}}, {"type": "StringLiteral", "value": "Not allowed token = tokenPair"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "exists"}, "index": {"type": "Identifier", "name": "_token"}}, "right": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "exists"}, "index": {"type": "Identifier", "name": "_tokenPair"}}}, {"type": "StringLiteral", "value": "Token or tokenPair not listed"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "_rate"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "_rate"}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "ratePlaces"}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}], "isArray": false}}], "isArray": false}}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "_amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}], "isArray": false}}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "_amount"}, "right": {"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "36", "subdenomination": null}}}], "isArray": false}}], "isArray": false}}, {"type": "StringLiteral", "value": "Invalid Values"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}}, "memberName": "orderId"}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}}, "memberName": "orderOwner"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}}, "memberName": "rate"}, "right": {"type": "Identifier", "name": "_rate"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}}, "memberName": "amount"}, "right": {"type": "Identifier", "name": "_amount"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}}, "memberName": "sell"}, "right": {"type": "Identifier", "name": "_sell"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}}, "memberName": "date"}, "right": {"type": "Identifier", "name": "now"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "orderPlaced"}, "arguments": [{"type": "Identifier", "name": "_token"}, {"type": "Identifier", "name": "_tokenPair"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}], "names": []}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "tokenLike", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_token", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "exists"}, "index": {"type": "Identifier", "name": "_token"}}, {"type": "StringLiteral", "value": "Token not listed"}], "names": []}}, {"type": "IfStatement", "condition": {"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "voteStatus"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "memberName": "like"}, "isPrefix": true}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "likesCount"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "likesCount"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "voteStatus"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "memberName": "like"}, "right": {"type": "BooleanLiteral", "value": true}}}, {"type": "IfStatement", "condition": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "voteStatus"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "memberName": "dislike"}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "dislikesCount"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "dislikesCount"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "voteStatus"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "memberName": "dislike"}, "right": {"type": "BooleanLiteral", "value": false}}}]}, "FalseBody": null}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "likesCount"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "likesCount"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "voteStatus"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "memberName": "like"}, "right": {"type": "BooleanLiteral", "value": false}}}]}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "tokenDislike", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_token", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "exists"}, "index": {"type": "Identifier", "name": "_token"}}, {"type": "StringLiteral", "value": "Token not listed"}], "names": []}}, {"type": "IfStatement", "condition": {"type": "UnaryOperation", "operator": "!", "subExpression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "voteStatus"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "memberName": "dislike"}, "isPrefix": true}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "dislikesCount"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "dislikesCount"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "voteStatus"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "memberName": "dislike"}, "right": {"type": "BooleanLiteral", "value": true}}}, {"type": "IfStatement", "condition": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "voteStatus"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "memberName": "like"}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "likesCount"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "likesCount"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "voteStatus"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "memberName": "like"}, "right": {"type": "BooleanLiteral", "value": false}}}]}, "FalseBody": null}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "dislikesCount"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "dislikesCount"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "voteStatus"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "memberName": "dislike"}, "right": {"type": "BooleanLiteral", "value": false}}}]}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "changeRegisterFee", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_registerFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "Identifier", "name": "owner"}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "registerFee"}, "right": {"type": "Identifier", "name": "_registerFee"}}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "changeOpenMarketFee", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_openMarketFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "Identifier", "name": "owner"}}, {"type": "StringLiteral", "value": "Access denied"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "openMarketFee"}, "right": {"type": "Identifier", "name": "_openMarketFee"}}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "changeActionFee", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_actionFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "Identifier", "name": "owner"}}, {"type": "StringLiteral", "value": "Access denied"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "actionFee"}, "right": {"type": "Identifier", "name": "_actionFee"}}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "withdraw", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "Identifier", "name": "this"}], "names": []}, "memberName": "balance"}}, {"type": "IfStatement", "condition": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "owner"}, "memberName": "send"}, "arguments": [{"type": "Identifier", "name": "amount"}], "names": []}, "TrueBody": {"type": "Block", "statements": [{"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ctrWithdraw"}, "arguments": [{"type": "Identifier", "name": "owner"}, {"type": "Identifier", "name": "amount"}], "names": []}}]}, "FalseBody": null}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "cancelOrder", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_orderId", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_tokenPair", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "bof orders"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "orderAmount", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderId"}}, "memberName": "amount"}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "erc20"}, "name": "tokenMaker", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "erc20"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "tokenBase"}], "names": []}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderId"}}, "memberName": "orderOwner"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "||", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "tokenMaker"}, "memberName": "allowance"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderId"}}, "memberName": "orderOwner"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "Identifier", "name": "this"}], "names": []}], "names": []}, "right": {"type": "Identifier", "name": "orderAmount"}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "<", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "tokenMaker"}, "memberName": "balanceOf"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderId"}}, "memberName": "orderOwner"}], "names": []}, "right": {"type": "Identifier", "name": "orderAmount"}}], "isArray": false}}, {"type": "StringLiteral", "value": "Only garbage can be removed by you here"}], "names": []}}]}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "top", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "top"}}, "memberName": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderId"}}, "right": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "top"}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderId"}}, "memberName": "orderId"}, "right": {"type": "Identifier", "name": "_orderId"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "top"}}, "memberName": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}]}, "FalseBody": null}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "orderCanceled"}, "arguments": [{"type": "Identifier", "name": "_token"}, {"type": "Identifier", "name": "_tokenPair"}, {"type": "Identifier", "name": "_orderId"}], "names": []}}, {"type": "IfStatement", "condition": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "memberName": "send"}, "arguments": [{"type": "Identifier", "name": "actionFee"}], "names": []}, "TrueBody": {"type": "Block", "statements": [{"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ctrWithdraw"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "actionFee"}], "names": []}}]}, "FalseBody": null}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "fillOrder", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_orderID", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_token", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_tokenPair", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_rate", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_amountFill", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "orderId"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "Not placed"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "_amountFill"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "_amountFill"}, "right": {"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "NumberLiteral", "number": "36", "subdenomination": null}}}], "isArray": false}}, {"type": "StringLiteral", "value": "Fill out of range"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "_rate"}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "rate"}}, {"type": "StringLiteral", "value": "Rate error"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "erc20"}, "name": "tokenMaker", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "erc20"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "tokenBase"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "erc20"}, "name": "tokenTaker", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "erc20"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "tokenPair"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "amount", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "/", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "*", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "/", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "_amountFill"}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "rate"}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "decimals"}}], "isArray": false}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "decimals"}}], "isArray": false}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "Identifier", "name": "ratePlaces"}}], "isArray": false}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "tokenTaker"}, "memberName": "allowance"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "Identifier", "name": "this"}], "names": []}], "names": []}, "right": {"type": "Identifier", "name": "_amountFill"}}, {"type": "StringLiteral", "value": "Verify taker approval"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "tokenTaker"}, "memberName": "balanceOf"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}], "names": []}, "right": {"type": "Identifier", "name": "_amountFill"}}, {"type": "StringLiteral", "value": "Verify taker balance"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "tokenMaker"}, "memberName": "allowance"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "orderOwner"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "Identifier", "name": "this"}], "names": []}], "names": []}, "right": {"type": "Identifier", "name": "amount"}}, {"type": "StringLiteral", "value": "Verify maker approval"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "tokenMaker"}, "memberName": "balanceOf"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "orderOwner"}], "names": []}, "right": {"type": "Identifier", "name": "amount"}}, {"type": "StringLiteral", "value": "Verify maker balance"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "amount"}, "right": {"type": "Identifier", "name": "amount"}}, {"type": "StringLiteral", "value": "Amount error"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "amount"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "amount"}, "right": {"type": "Identifier", "name": "amount"}}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "tokenMaker"}, "memberName": "transferFrom"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "orderOwner"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "amount"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "tokenTaker"}, "memberName": "transferFrom"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "orderOwner"}, {"type": "Identifier", "name": "_amountFill"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "donesCount"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "donesCount"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "dones"}, "index": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "donesCount"}}, "memberName": "orderId"}, "right": {"type": "Identifier", "name": "_orderID"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "dones"}, "index": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "donesCount"}}, "memberName": "fillOwner"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "dones"}, "index": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "donesCount"}}, "memberName": "fillAmount"}, "right": {"type": "Identifier", "name": "_amountFill"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "dones"}, "index": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "donesCount"}}, "memberName": "fillDate"}, "right": {"type": "Identifier", "name": "now"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "dones"}, "index": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "donesCount"}}, "memberName": "rate"}, "right": {"type": "Identifier", "name": "_rate"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "orderDone"}, "arguments": [{"type": "Identifier", "name": "_token"}, {"type": "Identifier", "name": "_tokenPair"}, {"type": "Identifier", "name": "_orderID"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "donesCount"}], "names": []}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "BinaryOperation", "operator": "*", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "amount"}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "10", "subdenomination": null}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "NumberLiteral", "number": "18", "subdenomination": null}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "decimals"}}], "isArray": false}}], "isArray": false}}, "right": {"type": "Identifier", "name": "minQtd"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "bof orders"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "top", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}, "right": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "ordersCount"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, {"type": "IfStatement", "condition": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "orderOwner"}], "names": []}, "memberName": "send"}, "arguments": [{"type": "Identifier", "name": "actionFee"}], "names": []}, "TrueBody": {"type": "Block", "statements": [{"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ctrWithdraw"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "orderOwner"}], "names": []}, {"type": "Identifier", "name": "actionFee"}], "names": []}}]}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "top"}}, "memberName": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "right": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "top"}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "_orderID"}}, "memberName": "orderId"}, "right": {"type": "Identifier", "name": "_orderID"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "tokens"}, "index": {"type": "Identifier", "name": "_token"}}, "memberName": "markets"}, "index": {"type": "Identifier", "name": "_tokenPair"}}, "memberName": "orders"}, "index": {"type": "Identifier", "name": "top"}}, "memberName": "amount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}]}, "FalseBody": null}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "orderRemovedLowBalance"}, "arguments": [{"type": "Identifier", "name": "_token"}, {"type": "Identifier", "name": "_tokenPair"}, {"type": "Identifier", "name": "_orderID"}], "names": []}}]}, "FalseBody": null}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}], "kind": "contract"}]}