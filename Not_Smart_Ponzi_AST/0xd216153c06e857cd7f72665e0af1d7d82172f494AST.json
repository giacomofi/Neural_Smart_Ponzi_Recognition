{"type": "SourceUnit", "children": [{"type": "PragmaDirective", "name": "solidity", "value": "^0.5.5"}, {"type": "ContractDefinition", "name": "IRelayHub", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "stake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relayaddr", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "unstakeDelay", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "EventDefinition", "name": "Staked", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "stake", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "unstakeDelay", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "registerRelay", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "transactionFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "url", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "EventDefinition", "name": "RelayAdded", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "transactionFee", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "stake", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "unstakeDelay", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "url", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "removeRelayByOwner", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "EventDefinition", "name": "RelayRemoved", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "unstakeTime", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "unstake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "EventDefinition", "name": "Unstaked", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "stake", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EnumDefinition", "name": "RelayState", "members": [{"type": "EnumValue", "name": "Unknown"}, {"type": "EnumValue", "name": "Staked"}, {"type": "EnumValue", "name": "Registered"}, {"type": "EnumValue", "name": "Removed"}]}, {"type": "FunctionDefinition", "name": "getRelay", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "totalStake", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "unstakeDelay", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "unstakeTime", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "RelayState"}, "name": "state", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "depositFor", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "target", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "EventDefinition", "name": "Deposited", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "recipient", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "balanceOf", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "target", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "withdraw", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "dest", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "EventDefinition", "name": "Withdrawn", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "account", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "dest", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "canRelay", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "encodedFunction", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "transactionFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "gasPrice", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "gasLimit", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "signature", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "approvalData", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "status", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "recipientContext", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "EnumDefinition", "name": "PreconditionCheck", "members": [{"type": "EnumValue", "name": "OK"}, {"type": "EnumValue", "name": "WrongSignature"}, {"type": "EnumValue", "name": "WrongNonce"}, {"type": "EnumValue", "name": "AcceptRelayedCallReverted"}, {"type": "EnumValue", "name": "InvalidRecipientStatusCode"}]}, {"type": "FunctionDefinition", "name": "relayCall", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "encodedFunction", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "transactionFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "gasPrice", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "gasLimit", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "signature", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "approvalData", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "EventDefinition", "name": "CanRelayFailed", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes4"}, "name": "selector", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "reason", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "TransactionRelayed", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes4"}, "name": "selector", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "RelayCallStatus"}, "name": "status", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "charge", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EnumDefinition", "name": "RelayCallStatus", "members": [{"type": "EnumValue", "name": "OK"}, {"type": "EnumValue", "name": "RelayedCallFailed"}, {"type": "EnumValue", "name": "PreRelayedFailed"}, {"type": "EnumValue", "name": "PostRelayedFailed"}, {"type": "EnumValue", "name": "RecipientBalanceChanged"}]}, {"type": "FunctionDefinition", "name": "requiredGas", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "relayedCallStipend", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "maxPossibleCharge", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "relayedCallStipend", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "gasPrice", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "transactionFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "penalizeRepeatedNonce", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "unsignedTx1", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "signature1", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "unsignedTx2", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "signature2", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "penalizeIllegalTransaction", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "unsignedTx", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "signature", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "EventDefinition", "name": "Penalized", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "sender", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "amount", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "getNonce", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.5"}, {"type": "ContractDefinition", "name": "IRelayRecipient", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "getHubAddr", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "getRecipientBalance", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "acceptRelayedCall", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "encodedFunction", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "transactionFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "gasPrice", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "gasLimit", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "approvalData", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "maxPossibleCharge", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": null, "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "ModifierDefinition", "name": "relayHubOnly", "parameters": {"type": "ParameterList", "parameters": []}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getHubAddr"}, "arguments": [], "names": []}}, {"type": "StringLiteral", "value": "Function can only be called by RelayHub"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "Identifier", "name": "_"}}]}}, {"type": "FunctionDefinition", "name": "preRelayedCall", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "context", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "postRelayedCall", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "context", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "success", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "actualCharge", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "preRetVal", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "contract"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.5"}, {"type": "ContractDefinition", "name": "LibBytes", "baseContracts": [], "subNodes": [{"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "libraryName": "LibBytes"}, {"type": "FunctionDefinition", "name": "rawAddress", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "input", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "memoryAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "memoryAddress"}], "expression": {"type": "AssemblyExpression", "functionName": "input", "arguments": []}}]}}, {"type": "Identifier", "name": "memoryAddress"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "contentAddress", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "input", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "memoryAddress", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "memoryAddress"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "input", "arguments": []}, {"type": "DecimalNumber", "value": "32"}]}}]}}, {"type": "Identifier", "name": "memoryAddress"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "memCopy", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "dest", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "source", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "length", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "length"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "mask"}], "expression": {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "exp", "arguments": [{"type": "DecimalNumber", "value": "256"}, {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "DecimalNumber", "value": "32"}, {"type": "AssemblyExpression", "functionName": "length", "arguments": []}]}]}, {"type": "DecimalNumber", "value": "1"}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "s"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "source", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "not", "arguments": [{"type": "AssemblyExpression", "functionName": "mask", "arguments": []}]}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "d"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "dest", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "mask", "arguments": []}]}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "dest", "arguments": []}, {"type": "AssemblyExpression", "functionName": "or", "arguments": [{"type": "AssemblyExpression", "functionName": "s", "arguments": []}, {"type": "AssemblyExpression", "functionName": "d", "arguments": []}]}]}]}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "source"}, "right": {"type": "Identifier", "name": "dest"}}, "TrueBody": {"type": "Block", "statements": [null]}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "source"}, "right": {"type": "Identifier", "name": "dest"}}, "TrueBody": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "length"}], "expression": {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "length", "arguments": []}, {"type": "DecimalNumber", "value": "32"}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "sEnd"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "source", "arguments": []}, {"type": "AssemblyExpression", "functionName": "length", "arguments": []}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "dEnd"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "dest", "arguments": []}, {"type": "AssemblyExpression", "functionName": "length", "arguments": []}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "last"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "sEnd", "arguments": []}]}}, {"type": "AssemblyFor", "pre": {"type": "AssemblyBlock", "operations": []}, "condition": {"type": "AssemblyExpression", "functionName": "lt", "arguments": [{"type": "AssemblyExpression", "functionName": "source", "arguments": []}, {"type": "AssemblyExpression", "functionName": "sEnd", "arguments": []}]}, "post": {"type": "AssemblyBlock", "operations": []}, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "dest", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "source", "arguments": []}]}]}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "source"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "source", "arguments": []}, {"type": "DecimalNumber", "value": "32"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "dest"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "dest", "arguments": []}, {"type": "DecimalNumber", "value": "32"}]}}]}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "dEnd", "arguments": []}, {"type": "AssemblyExpression", "functionName": "last", "arguments": []}]}]}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "length"}], "expression": {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "length", "arguments": []}, {"type": "DecimalNumber", "value": "32"}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "sEnd"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "source", "arguments": []}, {"type": "AssemblyExpression", "functionName": "length", "arguments": []}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "dEnd"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "dest", "arguments": []}, {"type": "AssemblyExpression", "functionName": "length", "arguments": []}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "first"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "source", "arguments": []}]}}, {"type": "AssemblyFor", "pre": {"type": "AssemblyBlock", "operations": []}, "condition": {"type": "AssemblyExpression", "functionName": "slt", "arguments": [{"type": "AssemblyExpression", "functionName": "dest", "arguments": []}, {"type": "AssemblyExpression", "functionName": "dEnd", "arguments": []}]}, "post": {"type": "AssemblyBlock", "operations": []}, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "dEnd", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "sEnd", "arguments": []}]}]}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "sEnd"}], "expression": {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "sEnd", "arguments": []}, {"type": "DecimalNumber", "value": "32"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "dEnd"}], "expression": {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "dEnd", "arguments": []}, {"type": "DecimalNumber", "value": "32"}]}}]}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "dest", "arguments": []}, {"type": "AssemblyExpression", "functionName": "first", "arguments": []}]}]}}]}}]}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "slice", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "result", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "from"}, "right": {"type": "Identifier", "name": "to"}}, {"type": "StringLiteral", "value": "FROM_LESS_THAN_TO_REQUIRED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "to"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "TO_LESS_THAN_LENGTH_REQUIRED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "FunctionCall", "expression": {"type": "NewExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}}, "arguments": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "to"}, "right": {"type": "Identifier", "name": "from"}}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "memCopy"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "result"}, "memberName": "contentAddress"}, "arguments": [], "names": []}, {"type": "BinaryOperation", "operator": "+", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "contentAddress"}, "arguments": [], "names": []}, "right": {"type": "Identifier", "name": "from"}}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "result"}, "memberName": "length"}], "names": []}}, {"type": "Identifier", "name": "result"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "sliceDestructive", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "result", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "from"}, "right": {"type": "Identifier", "name": "to"}}, {"type": "StringLiteral", "value": "FROM_LESS_THAN_TO_REQUIRED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "to"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}}, {"type": "StringLiteral", "value": "TO_LESS_THAN_LENGTH_REQUIRED"}], "names": []}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "result"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}, {"type": "AssemblyExpression", "functionName": "from", "arguments": []}]}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "result", "arguments": []}, {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "to", "arguments": []}, {"type": "AssemblyExpression", "functionName": "from", "arguments": []}]}]}]}}, {"type": "Identifier", "name": "result"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "popLastByte", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes1"}, "name": "result", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "GREATER_THAN_ZERO_LENGTH_REQUIRED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "b"}, "index": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "newLen"}], "expression": {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}]}, {"type": "DecimalNumber", "value": "1"}]}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}, {"type": "AssemblyExpression", "functionName": "newLen", "arguments": []}]}]}}, {"type": "Identifier", "name": "result"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "popLast20Bytes", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "result", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "20", "subdenomination": null}}, {"type": "StringLiteral", "value": "GREATER_OR_EQUAL_TO_20_LENGTH_REQUIRED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "readAddress"}, "arguments": [{"type": "Identifier", "name": "b"}, {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "20", "subdenomination": null}}], "names": []}}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "newLen"}], "expression": {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}]}, {"type": "DecimalNumber", "value": "20"}]}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}, {"type": "AssemblyExpression", "functionName": "newLen", "arguments": []}]}]}}, {"type": "Identifier", "name": "result"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "equals", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "lhs", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "rhs", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "equal", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "lhs"}, "memberName": "length"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "rhs"}, "memberName": "length"}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "Identifier", "name": "lhs"}], "names": []}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "Identifier", "name": "rhs"}], "names": []}}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "readAddress", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "result", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "20", "subdenomination": null}}}, {"type": "StringLiteral", "value": "GREATER_OR_EQUAL_TO_20_LENGTH_REQUIRED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "20", "subdenomination": null}}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "result"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}, {"type": "AssemblyExpression", "functionName": "index", "arguments": []}]}]}, {"type": "HexNumber", "value": "0xffffffffffffffffffffffffffffffffffffffff"}]}}]}}, {"type": "Identifier", "name": "result"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "writeAddress", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "input", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "20", "subdenomination": null}}}, {"type": "StringLiteral", "value": "GREATER_OR_EQUAL_TO_20_LENGTH_REQUIRED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "20", "subdenomination": null}}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "neighbors"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}, {"type": "AssemblyExpression", "functionName": "index", "arguments": []}]}]}, {"type": "HexNumber", "value": "0xffffffffffffffffffffffff0000000000000000000000000000000000000000"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "input"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "input", "arguments": []}, {"type": "HexNumber", "value": "0xffffffffffffffffffffffffffffffffffffffff"}]}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}, {"type": "AssemblyExpression", "functionName": "index", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "xor", "arguments": [{"type": "AssemblyExpression", "functionName": "input", "arguments": []}, {"type": "AssemblyExpression", "functionName": "neighbors", "arguments": []}]}]}]}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "readBytes32", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "result", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}}, {"type": "StringLiteral", "value": "GREATER_OR_EQUAL_TO_32_LENGTH_REQUIRED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "result"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}, {"type": "AssemblyExpression", "functionName": "index", "arguments": []}]}]}}]}}, {"type": "Identifier", "name": "result"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "writeBytes32", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "input", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}}, {"type": "StringLiteral", "value": "GREATER_OR_EQUAL_TO_32_LENGTH_REQUIRED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}, {"type": "AssemblyExpression", "functionName": "index", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "input", "arguments": []}]}]}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "readUint256", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "result", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}}, "arguments": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "readBytes32"}, "arguments": [{"type": "Identifier", "name": "b"}, {"type": "Identifier", "name": "index"}], "names": []}], "names": []}}}, {"type": "Identifier", "name": "result"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "writeUint256", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "input", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "writeBytes32"}, "arguments": [{"type": "Identifier", "name": "b"}, {"type": "Identifier", "name": "index"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}}, "arguments": [{"type": "Identifier", "name": "input"}], "names": []}], "names": []}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "readBytes4", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes4"}, "name": "result", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "4", "subdenomination": null}}}, {"type": "StringLiteral", "value": "GREATER_OR_EQUAL_TO_4_LENGTH_REQUIRED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "result"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}, {"type": "AssemblyExpression", "functionName": "index", "arguments": []}]}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "result"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "result", "arguments": []}, {"type": "HexNumber", "value": "0xFFFFFFFF00000000000000000000000000000000000000000000000000000000"}]}}]}}, {"type": "Identifier", "name": "result"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "readBytesWithLength", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "result", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "nestedBytesLength", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "readUint256"}, "arguments": [{"type": "Identifier", "name": "b"}, {"type": "Identifier", "name": "index"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "Identifier", "name": "nestedBytesLength"}}}, {"type": "StringLiteral", "value": "GREATER_OR_EQUAL_TO_NESTED_BYTES_LENGTH_REQUIRED"}], "names": []}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "result"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "b", "arguments": []}, {"type": "AssemblyExpression", "functionName": "index", "arguments": []}]}}]}}, {"type": "Identifier", "name": "result"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "writeBytesWithLength", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "b", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "input", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "length"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "input"}, "memberName": "length"}}}, {"type": "StringLiteral", "value": "GREATER_OR_EQUAL_TO_NESTED_BYTES_LENGTH_REQUIRED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "memCopy"}, "arguments": [{"type": "BinaryOperation", "operator": "+", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "b"}, "memberName": "contentAddress"}, "arguments": [], "names": []}, "right": {"type": "Identifier", "name": "index"}}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "input"}, "memberName": "rawAddress"}, "arguments": [], "names": []}, {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "input"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}], "names": []}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "deepCopyBytes", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "dest", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "source", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "sourceLen", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "source"}, "memberName": "length"}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "dest"}, "memberName": "length"}, "right": {"type": "Identifier", "name": "sourceLen"}}, {"type": "StringLiteral", "value": "GREATER_OR_EQUAL_TO_SOURCE_BYTES_LENGTH_REQUIRED"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "memCopy"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "dest"}, "memberName": "contentAddress"}, "arguments": [], "names": []}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "source"}, "memberName": "contentAddress"}, "arguments": [], "names": []}, {"type": "Identifier", "name": "sourceLen"}], "names": []}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.5"}, {"type": "ContractDefinition", "name": "GsnUtils", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "getMethodSig", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "msgData", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes4"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes4"}}, "arguments": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "LibBytes"}, "memberName": "readUint256"}, "arguments": [{"type": "Identifier", "name": "msgData"}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}], "names": []}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "getParam", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "msgData", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "LibBytes"}, "memberName": "readUint256"}, "arguments": [{"type": "Identifier", "name": "msgData"}, {"type": "BinaryOperation", "operator": "+", "left": {"type": "NumberLiteral", "number": "4", "subdenomination": null}, "right": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "index"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "getBytesParam", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "msgData", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "ret", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "ofs", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "+", "left": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getParam"}, "arguments": [{"type": "Identifier", "name": "msgData"}, {"type": "Identifier", "name": "index"}], "names": []}, "right": {"type": "NumberLiteral", "number": "4", "subdenomination": null}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "len", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "LibBytes"}, "memberName": "readUint256"}, "arguments": [{"type": "Identifier", "name": "msgData"}, {"type": "Identifier", "name": "ofs"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "ret"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "LibBytes"}, "memberName": "slice"}, "arguments": [{"type": "Identifier", "name": "msgData"}, {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "ofs"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}, {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "ofs"}, "right": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}, "right": {"type": "Identifier", "name": "len"}}], "names": []}}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "getStringParam", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "msgData", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "index", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": null, "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "string"}}, "arguments": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "getBytesParam"}, "arguments": [{"type": "Identifier", "name": "msgData"}, {"type": "Identifier", "name": "index"}], "names": []}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "checkSig", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "signer", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "hash", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "sig", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "v", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "sig"}, "index": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "r", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "LibBytes"}, "memberName": "readBytes32"}, "arguments": [{"type": "Identifier", "name": "sig"}, {"type": "NumberLiteral", "number": "1", "subdenomination": null}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "s", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "LibBytes"}, "memberName": "readBytes32"}, "arguments": [{"type": "Identifier", "name": "sig"}, {"type": "NumberLiteral", "number": "33", "subdenomination": null}], "names": []}}, {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "signer"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ecrecover"}, "arguments": [{"type": "Identifier", "name": "hash"}, {"type": "Identifier", "name": "v"}, {"type": "Identifier", "name": "r"}, {"type": "Identifier", "name": "s"}], "names": []}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.5"}, {"type": "ContractDefinition", "name": "RLPReader", "baseContracts": [], "subNodes": [{"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "STRING_SHORT_START", "expression": {"type": "NumberLiteral", "number": "0x80", "subdenomination": null}, "visibility": "default", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0x80", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "STRING_LONG_START", "expression": {"type": "NumberLiteral", "number": "0xb8", "subdenomination": null}, "visibility": "default", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0xb8", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "LIST_SHORT_START", "expression": {"type": "NumberLiteral", "number": "0xc0", "subdenomination": null}, "visibility": "default", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0xc0", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "LIST_LONG_START", "expression": {"type": "NumberLiteral", "number": "0xf8", "subdenomination": null}, "visibility": "default", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0xf8", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "WORD_SIZE", "expression": {"type": "NumberLiteral", "number": "32", "subdenomination": null}, "visibility": "default", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "32", "subdenomination": null}}, {"type": "StructDefinition", "name": "RLPItem", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "len", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "memPtr", "storageLocation": null}]}, {"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "libraryName": "RLPReader"}, {"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "libraryName": "RLPReader"}, {"type": "UsingForDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "RLPReader.RLPItem"}, "libraryName": "RLPReader"}, {"type": "FunctionDefinition", "name": "decodeTransaction", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "rawTransaction", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": null, "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "UserDefinedTypeName", "namePath": "RLPReader.RLPItem"}, "length": null}, "name": "values", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "rawTransaction"}, "memberName": "toRlpItem"}, "arguments": [], "names": []}, "memberName": "toList"}, "arguments": [], "names": []}}, {"type": "TupleExpression", "components": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "values"}, "index": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "memberName": "toUint"}, "arguments": [], "names": []}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "values"}, "index": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, "memberName": "toUint"}, "arguments": [], "names": []}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "values"}, "index": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}, "memberName": "toUint"}, "arguments": [], "names": []}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "values"}, "index": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "memberName": "toAddress"}, "arguments": [], "names": []}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "values"}, "index": {"type": "NumberLiteral", "number": "4", "subdenomination": null}}, "memberName": "toUint"}, "arguments": [], "names": []}, {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "values"}, "index": {"type": "NumberLiteral", "number": "5", "subdenomination": null}}, "memberName": "toBytes"}, "arguments": [], "names": []}], "isArray": false}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "toRlpItem", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "item", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "RLPItem"}, "name": null, "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "RLPItem"}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "memPtr", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "memPtr"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "item", "arguments": []}, {"type": "HexNumber", "value": "0x20"}]}}]}}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "RLPItem"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "length"}, {"type": "Identifier", "name": "memPtr"}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "toList", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "RLPItem"}, "name": "item", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "UserDefinedTypeName", "namePath": "RLPItem"}, "length": null}, "name": "result", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "isList"}, "arguments": [{"type": "Identifier", "name": "item"}], "names": []}, {"type": "StringLiteral", "value": "isList failed"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "items", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "numItems"}, "arguments": [{"type": "Identifier", "name": "item"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "FunctionCall", "expression": {"type": "NewExpression", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "UserDefinedTypeName", "namePath": "RLPItem"}, "length": null}}, "arguments": [{"type": "Identifier", "name": "items"}], "names": []}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "memPtr", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "memPtr"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "_payloadOffset"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "memPtr"}], "names": []}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "dataLen", "storageLocation": null}], "initialValue": null}, {"type": "ForStatement", "initExpression": {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "i", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "conditionExpression": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "i"}, "right": {"type": "Identifier", "name": "items"}}, "loopExpression": {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "i"}, "isPrefix": false}}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "dataLen"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "_itemLength"}, "arguments": [{"type": "Identifier", "name": "memPtr"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "result"}, "index": {"type": "Identifier", "name": "i"}}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "RLPItem"}, "arguments": [{"type": "Identifier", "name": "dataLen"}, {"type": "Identifier", "name": "memPtr"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "memPtr"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "memPtr"}, "right": {"type": "Identifier", "name": "dataLen"}}}}]}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "isList", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "RLPItem"}, "name": "item", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "byte0", "storageLocation": null}], "initialValue": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "memPtr", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "memPtr"}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "byte0"}], "expression": {"type": "AssemblyExpression", "functionName": "byte", "arguments": [{"type": "DecimalNumber", "value": "0"}, {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "memPtr", "arguments": []}]}]}}]}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "Identifier", "name": "LIST_SHORT_START"}}, "TrueBody": {"type": "BooleanLiteral", "value": false}, "FalseBody": null}, {"type": "BooleanLiteral", "value": true}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "numItems", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "RLPItem"}, "name": "item", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "count", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "currPtr", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "memPtr"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "_payloadOffset"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "memPtr"}], "names": []}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "endPtr", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "memPtr"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "len"}}}, {"type": "WhileStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "currPtr"}, "right": {"type": "Identifier", "name": "endPtr"}}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "currPtr"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "currPtr"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "_itemLength"}, "arguments": [{"type": "Identifier", "name": "currPtr"}], "names": []}}}}, {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "count"}, "isPrefix": false}}]}}, {"type": "Identifier", "name": "count"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "_itemLength", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "memPtr", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "len", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "byte0", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "byte0"}], "expression": {"type": "AssemblyExpression", "functionName": "byte", "arguments": [{"type": "DecimalNumber", "value": "0"}, {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "memPtr", "arguments": []}]}]}}]}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "Identifier", "name": "STRING_SHORT_START"}}, "TrueBody": {"type": "NumberLiteral", "number": "1", "subdenomination": null}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "Identifier", "name": "STRING_LONG_START"}}, "TrueBody": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "Identifier", "name": "STRING_SHORT_START"}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "Identifier", "name": "LIST_SHORT_START"}}, "TrueBody": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "byteLen"}], "expression": {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "byte0", "arguments": []}, {"type": "HexNumber", "value": "0xb7"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "memPtr"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "memPtr", "arguments": []}, {"type": "DecimalNumber", "value": "1"}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "dataLen"}], "expression": {"type": "AssemblyExpression", "functionName": "div", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "memPtr", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "exp", "arguments": [{"type": "DecimalNumber", "value": "256"}, {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "DecimalNumber", "value": "32"}, {"type": "AssemblyExpression", "functionName": "byteLen", "arguments": []}]}]}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "len"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "dataLen", "arguments": []}, {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "byteLen", "arguments": []}, {"type": "DecimalNumber", "value": "1"}]}]}}]}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "Identifier", "name": "LIST_LONG_START"}}, "TrueBody": {"type": "Block", "statements": [{"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "Identifier", "name": "LIST_SHORT_START"}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "byteLen"}], "expression": {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "AssemblyExpression", "functionName": "byte0", "arguments": []}, {"type": "HexNumber", "value": "0xf7"}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "memPtr"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "memPtr", "arguments": []}, {"type": "DecimalNumber", "value": "1"}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "dataLen"}], "expression": {"type": "AssemblyExpression", "functionName": "div", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "memPtr", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "exp", "arguments": [{"type": "DecimalNumber", "value": "256"}, {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "DecimalNumber", "value": "32"}, {"type": "AssemblyExpression", "functionName": "byteLen", "arguments": []}]}]}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "len"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "dataLen", "arguments": []}, {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "byteLen", "arguments": []}, {"type": "DecimalNumber", "value": "1"}]}]}}]}}]}}}}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "_payloadOffset", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "memPtr", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "byte0", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "byte0"}], "expression": {"type": "AssemblyExpression", "functionName": "byte", "arguments": [{"type": "DecimalNumber", "value": "0"}, {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "memPtr", "arguments": []}]}]}}]}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "Identifier", "name": "STRING_SHORT_START"}}, "TrueBody": {"type": "NumberLiteral", "number": "0", "subdenomination": null}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "Identifier", "name": "STRING_LONG_START"}}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": ">=", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "Identifier", "name": "LIST_SHORT_START"}}, "right": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "Identifier", "name": "LIST_LONG_START"}}}], "isArray": false}}, "TrueBody": {"type": "NumberLiteral", "number": "1", "subdenomination": null}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "Identifier", "name": "LIST_SHORT_START"}}, "TrueBody": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "STRING_LONG_START"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}], "isArray": false}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, "FalseBody": {"type": "BinaryOperation", "operator": "+", "left": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "byte0"}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "LIST_LONG_START"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}], "isArray": false}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "toRlpBytes", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "RLPItem"}, "name": "item", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": null, "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "result", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "NewExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "len"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "ptr", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "ptr"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "HexNumber", "value": "0x20"}, {"type": "AssemblyExpression", "functionName": "result", "arguments": []}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "copy"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "memPtr"}, {"type": "Identifier", "name": "ptr"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "len"}], "names": []}}, {"type": "Identifier", "name": "result"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "toBoolean", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "RLPItem"}, "name": "item", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "len"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, {"type": "StringLiteral", "value": "Invalid RLPItem. Booleans are encoded in 1 byte"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "result", "storageLocation": null}], "initialValue": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "memPtr", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "memPtr"}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "result"}], "expression": {"type": "AssemblyExpression", "functionName": "byte", "arguments": [{"type": "DecimalNumber", "value": "0"}, {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "memPtr", "arguments": []}]}]}}]}}, {"type": "Conditional", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "result"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueExpression": {"type": "BooleanLiteral", "value": false}, "FalseExpression": {"type": "BooleanLiteral", "value": true}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "toAddress", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "RLPItem"}, "name": "item", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "len"}, "right": {"type": "NumberLiteral", "number": "21", "subdenomination": null}}, {"type": "StringLiteral", "value": "Invalid RLPItem. Addresses are encoded in 20 bytes or less"}], "names": []}}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "toUint"}, "arguments": [{"type": "Identifier", "name": "item"}], "names": []}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "toUint", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "RLPItem"}, "name": "item", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "offset", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "_payloadOffset"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "memPtr"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "len", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "len"}, "right": {"type": "Identifier", "name": "offset"}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "memPtr", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "memPtr"}, "right": {"type": "Identifier", "name": "offset"}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "result", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "result"}], "expression": {"type": "AssemblyExpression", "functionName": "div", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "memPtr", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "exp", "arguments": [{"type": "DecimalNumber", "value": "256"}, {"type": "AssemblyExpression", "functionName": "sub", "arguments": [{"type": "DecimalNumber", "value": "32"}, {"type": "AssemblyExpression", "functionName": "len", "arguments": []}]}]}]}}]}}, {"type": "Identifier", "name": "result"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "toBytes", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "RLPItem"}, "name": "item", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": null, "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "offset", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "_payloadOffset"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "memPtr"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "len", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "-", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "len"}, "right": {"type": "Identifier", "name": "offset"}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "result", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "NewExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}}, "arguments": [{"type": "Identifier", "name": "len"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "destPtr", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "destPtr"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "HexNumber", "value": "0x20"}, {"type": "AssemblyExpression", "functionName": "result", "arguments": []}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "copy"}, "arguments": [{"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "item"}, "memberName": "memPtr"}, "right": {"type": "Identifier", "name": "offset"}}, {"type": "Identifier", "name": "destPtr"}, {"type": "Identifier", "name": "len"}], "names": []}}, {"type": "Identifier", "name": "result"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "copy", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "src", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "dest", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "len", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ForStatement", "initExpression": null, "conditionExpression": {"type": "BinaryOperation", "operator": ">=", "left": {"type": "Identifier", "name": "len"}, "right": {"type": "Identifier", "name": "WORD_SIZE"}}, "loopExpression": {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "-=", "left": {"type": "Identifier", "name": "len"}, "right": {"type": "Identifier", "name": "WORD_SIZE"}}}, "body": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "dest", "arguments": []}, {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "src", "arguments": []}]}]}]}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "Identifier", "name": "src"}, "right": {"type": "Identifier", "name": "WORD_SIZE"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "Identifier", "name": "dest"}, "right": {"type": "Identifier", "name": "WORD_SIZE"}}}]}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "mask", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "-", "left": {"type": "BinaryOperation", "operator": "**", "left": {"type": "NumberLiteral", "number": "256", "subdenomination": null}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "WORD_SIZE"}, "right": {"type": "Identifier", "name": "len"}}], "isArray": false}}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "srcpart"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "src", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "not", "arguments": [{"type": "AssemblyExpression", "functionName": "mask", "arguments": []}]}]}}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "destpart"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "dest", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "mask", "arguments": []}]}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "dest", "arguments": []}, {"type": "AssemblyExpression", "functionName": "or", "arguments": [{"type": "AssemblyExpression", "functionName": "destpart", "arguments": []}, {"type": "AssemblyExpression", "functionName": "srcpart", "arguments": []}]}]}]}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.0"}, {"type": "ContractDefinition", "name": "SafeMath", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "add", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "b", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "c", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "Identifier", "name": "b"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "Identifier", "name": "c"}, "right": {"type": "Identifier", "name": "a"}}, {"type": "StringLiteral", "value": "SafeMath: addition overflow"}], "names": []}}, {"type": "Identifier", "name": "c"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "sub", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "b", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "b"}, "right": {"type": "Identifier", "name": "a"}}, {"type": "StringLiteral", "value": "SafeMath: subtraction overflow"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "c", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "Identifier", "name": "b"}}}, {"type": "Identifier", "name": "c"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "mul", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "b", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}]}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "c", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "Identifier", "name": "b"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "/", "left": {"type": "Identifier", "name": "c"}, "right": {"type": "Identifier", "name": "a"}}, "right": {"type": "Identifier", "name": "b"}}, {"type": "StringLiteral", "value": "SafeMath: multiplication overflow"}], "names": []}}, {"type": "Identifier", "name": "c"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "div", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "b", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "b"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "SafeMath: division by zero"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "c", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "/", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "Identifier", "name": "b"}}}, {"type": "Identifier", "name": "c"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "mod", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "b", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "b"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "StringLiteral", "value": "SafeMath: modulo by zero"}], "names": []}}, {"type": "BinaryOperation", "operator": "%", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "Identifier", "name": "b"}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.0"}, {"type": "ContractDefinition", "name": "ECDSA", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "recover", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "hash", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "signature", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "signature"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "65", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "TupleExpression", "components": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}], "isArray": false}]}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "r", "storageLocation": null}], "initialValue": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "s", "storageLocation": null}], "initialValue": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "v", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "r"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "signature", "arguments": []}, {"type": "HexNumber", "value": "0x20"}]}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "s"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "signature", "arguments": []}, {"type": "HexNumber", "value": "0x40"}]}]}}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "v"}], "expression": {"type": "AssemblyExpression", "functionName": "byte", "arguments": [{"type": "DecimalNumber", "value": "0"}, {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "signature", "arguments": []}, {"type": "HexNumber", "value": "0x60"}]}]}]}}]}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}}, "arguments": [{"type": "Identifier", "name": "s"}], "names": []}, "right": {"type": "NumberLiteral", "number": "0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}]}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "v"}, "right": {"type": "NumberLiteral", "number": "27", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "v"}, "right": {"type": "NumberLiteral", "number": "28", "subdenomination": null}}}, "TrueBody": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}]}, "FalseBody": null}, {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ecrecover"}, "arguments": [{"type": "Identifier", "name": "hash"}, {"type": "Identifier", "name": "v"}, {"type": "Identifier", "name": "r"}, {"type": "Identifier", "name": "s"}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "toEthSignedMessageHash", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "hash", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "StringLiteral", "value": "\\x19Ethereum Signed Message:\\n32"}, {"type": "Identifier", "name": "hash"}], "names": []}], "names": []}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}], "kind": "library"}, {"type": "PragmaDirective", "name": "solidity", "value": "^0.5.5"}, {"type": "ContractDefinition", "name": "RelayHub", "baseContracts": [{"type": "InheritanceSpecifier", "baseName": {"type": "UserDefinedTypeName", "namePath": "IRelayHub"}, "arguments": []}], "subNodes": [{"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "commitId", "expression": {"type": "StringLiteral", "value": "$Id: 5a82a94cecb1c32344dd239889272d1845035ef0 $"}, "visibility": "default", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "StringLiteral", "value": "$Id: 5a82a94cecb1c32344dd239889272d1845035ef0 $"}}, {"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "libraryName": "ECDSA"}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "minimumStake", "expression": {"type": "NumberLiteral", "number": "1", "subdenomination": "ether"}, "visibility": "private", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "1", "subdenomination": "ether"}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "minimumUnstakeDelay", "expression": {"type": "NumberLiteral", "number": "1", "subdenomination": "weeks"}, "visibility": "private", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "1", "subdenomination": "weeks"}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "maximumUnstakeDelay", "expression": {"type": "NumberLiteral", "number": "12", "subdenomination": "weeks"}, "visibility": "private", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "12", "subdenomination": "weeks"}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "minimumRelayBalance", "expression": {"type": "NumberLiteral", "number": "0.1", "subdenomination": "ether"}, "visibility": "private", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0.1", "subdenomination": "ether"}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "maximumRecipientDeposit", "expression": {"type": "NumberLiteral", "number": "2", "subdenomination": "ether"}, "visibility": "private", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "2", "subdenomination": "ether"}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "gasOverhead", "expression": {"type": "NumberLiteral", "number": "48204", "subdenomination": null}, "visibility": "private", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "48204", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "gasReserve", "expression": {"type": "NumberLiteral", "number": "100000", "subdenomination": null}, "visibility": "private", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "100000", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "recipientCallsAtomicOverhead", "expression": {"type": "NumberLiteral", "number": "5000", "subdenomination": null}, "visibility": "private", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "5000", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "acceptRelayedCallMaxGas", "expression": {"type": "NumberLiteral", "number": "50000", "subdenomination": null}, "visibility": "private", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "50000", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "preRelayedCallMaxGas", "expression": {"type": "NumberLiteral", "number": "100000", "subdenomination": null}, "visibility": "private", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "100000", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "postRelayedCallMaxGas", "expression": {"type": "NumberLiteral", "number": "100000", "subdenomination": null}, "visibility": "private", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "100000", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "ElementaryTypeName", "name": "uint256"}}, "name": "nonces", "expression": null, "visibility": "private", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "EnumDefinition", "name": "AtomicRecipientCallsStatus", "members": [{"type": "EnumValue", "name": "OK"}, {"type": "EnumValue", "name": "CanRelayFailed"}, {"type": "EnumValue", "name": "RelayedCallFailed"}, {"type": "EnumValue", "name": "PreRelayedFailed"}, {"type": "EnumValue", "name": "PostRelayedFailed"}]}, {"type": "StructDefinition", "name": "Relay", "members": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "stake", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "unstakeDelay", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "unstakeTime", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "owner", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "RelayState"}, "name": "state", "storageLocation": null}]}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "UserDefinedTypeName", "namePath": "Relay"}}, "name": "relays", "expression": null, "visibility": "private", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "ElementaryTypeName", "name": "uint256"}}, "name": "balances", "expression": null, "visibility": "private", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "version", "expression": {"type": "StringLiteral", "value": "1.0.0"}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "StringLiteral", "value": "1.0.0"}}, {"type": "FunctionDefinition", "name": "stake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "unstakeDelay", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "RelayState"}, "memberName": "Unknown"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "Identifier", "name": "relay"}}, {"type": "StringLiteral", "value": "relay cannot stake for itself"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "owner"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "RelayState"}, "memberName": "Staked"}}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "||", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "RelayState"}, "memberName": "Staked"}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "RelayState"}, "memberName": "Registered"}}], "isArray": false}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "owner"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, {"type": "StringLiteral", "value": "not owner"}], "names": []}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "revert"}, "arguments": [{"type": "StringLiteral", "value": "wrong state for stake"}], "names": []}}]}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "addedStake", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "stake"}, "right": {"type": "Identifier", "name": "addedStake"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "stake"}, "right": {"type": "Identifier", "name": "minimumStake"}}, {"type": "StringLiteral", "value": "stake lower than minimum"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "Identifier", "name": "unstakeDelay"}, "right": {"type": "Identifier", "name": "minimumUnstakeDelay"}}, {"type": "StringLiteral", "value": "delay lower than minimum"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "unstakeDelay"}, "right": {"type": "Identifier", "name": "maximumUnstakeDelay"}}, {"type": "StringLiteral", "value": "delay higher than maximum"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "Identifier", "name": "unstakeDelay"}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "unstakeDelay"}}, {"type": "StringLiteral", "value": "unstakeDelay cannot be decreased"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "unstakeDelay"}, "right": {"type": "Identifier", "name": "unstakeDelay"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "Staked"}, "arguments": [{"type": "Identifier", "name": "relay"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "stake"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "unstakeDelay"}], "names": []}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "registerRelay", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "transactionFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "url", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "relay"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "tx"}, "memberName": "origin"}}, {"type": "StringLiteral", "value": "Contracts cannot register as relays"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "RelayState"}, "memberName": "Staked"}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "RelayState"}, "memberName": "Registered"}}}, {"type": "StringLiteral", "value": "wrong state for stake"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "relay"}, "memberName": "balance"}, "right": {"type": "Identifier", "name": "minimumRelayBalance"}}, {"type": "StringLiteral", "value": "balance lower than minimum"}], "names": []}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "RelayState"}, "memberName": "Registered"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "RelayState"}, "memberName": "Registered"}}}]}, "FalseBody": null}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "RelayAdded"}, "arguments": [{"type": "Identifier", "name": "relay"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "owner"}, {"type": "Identifier", "name": "transactionFee"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "stake"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "unstakeDelay"}, {"type": "Identifier", "name": "url"}], "names": []}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "removeRelayByOwner", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "owner"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, {"type": "StringLiteral", "value": "not owner"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "||", "left": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "RelayState"}, "memberName": "Staked"}}], "isArray": false}, "right": {"type": "TupleExpression", "components": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "RelayState"}, "memberName": "Registered"}}], "isArray": false}}, {"type": "StringLiteral", "value": "already removed"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "unstakeTime"}, "right": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "unstakeDelay"}, "right": {"type": "Identifier", "name": "now"}}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "RelayState"}, "memberName": "Removed"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "RelayRemoved"}, "arguments": [{"type": "Identifier", "name": "relay"}, {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "unstakeTime"}], "names": []}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "unstake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "Identifier", "name": "canUnstake"}, "arguments": [{"type": "Identifier", "name": "relay"}], "names": []}, {"type": "StringLiteral", "value": "canUnstake failed"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "owner"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, {"type": "StringLiteral", "value": "not owner"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "owner", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "amount", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "stake"}}, {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "delete", "subExpression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "isPrefix": true}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "owner"}, "memberName": "transfer"}, "arguments": [{"type": "Identifier", "name": "amount"}], "names": []}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "Unstaked"}, "arguments": [{"type": "Identifier", "name": "relay"}, {"type": "Identifier", "name": "amount"}], "names": []}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getRelay", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "totalStake", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "unstakeDelay", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "unstakeTime", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "UserDefinedTypeName", "namePath": "RelayState"}, "name": "state", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "totalStake"}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "stake"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "unstakeDelay"}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "unstakeDelay"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "unstakeTime"}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "unstakeTime"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "owner"}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "owner"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "state"}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "depositFor", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "target", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "amount", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "amount"}, "right": {"type": "Identifier", "name": "maximumRecipientDeposit"}}, {"type": "StringLiteral", "value": "deposit too big"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "balances"}, "index": {"type": "Identifier", "name": "target"}}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "SafeMath"}, "memberName": "add"}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "balances"}, "index": {"type": "Identifier", "name": "target"}}, {"type": "Identifier", "name": "amount"}], "names": []}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "Deposited"}, "arguments": [{"type": "Identifier", "name": "target"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "amount"}], "names": []}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "balanceOf", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "target", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "balances"}, "index": {"type": "Identifier", "name": "target"}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "withdraw", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "amount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "dest", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "account", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "balances"}, "index": {"type": "Identifier", "name": "account"}}, "right": {"type": "Identifier", "name": "amount"}}, {"type": "StringLiteral", "value": "insufficient funds"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "-=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "balances"}, "index": {"type": "Identifier", "name": "account"}}, "right": {"type": "Identifier", "name": "amount"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "dest"}, "memberName": "transfer"}, "arguments": [{"type": "Identifier", "name": "amount"}], "names": []}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "Withdrawn"}, "arguments": [{"type": "Identifier", "name": "account"}, {"type": "Identifier", "name": "dest"}, {"type": "Identifier", "name": "amount"}], "names": []}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "getNonce", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "nonces"}, "index": {"type": "Identifier", "name": "from"}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "canUnstake", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "unstakeTime"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "<=", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "relays"}, "index": {"type": "Identifier", "name": "relay"}}, "memberName": "unstakeTime"}, "right": {"type": "Identifier", "name": "now"}}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "canRelay", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "relay", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "to", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "encodedFunction", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "transactionFee", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "gasPrice", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "gasLimit", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "nonce", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "signature", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "approvalData", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "status", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "recipientContext", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "packed", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "StringLiteral", "value": "rlx:"}, {"type": "Identifier", "name": "from"}, {"type": "Identifier", "name": "to"}, {"type": "Identifier", "name": "encodedFunction"}, {"type": "Identifier", "name": "transactionFee"}, {"type": "Identifier", "name": "gasPrice"}, {"type": "Identifier", "name": "gasLimit"}, {"type": "Identifier", "name": "nonce"}, {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "Identifier", "name": "this"}], "names": []}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "hashedMessage", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "keccak256"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodePacked"}, "arguments": [{"type": "Identifier", "name": "packed"}, {"type": "Identifier", "name": "relay"}], "names": []}], "names": []}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "hashedMessage"}, "memberName": "toEthSignedMessageHash"}, "arguments": [], "names": []}, "memberName": "recover"}, "arguments": [{"type": "Identifier", "name": "signature"}], "names": []}, "right": {"type": "Identifier", "name": "from"}}, "TrueBody": {"type": "Block", "statements": [{"type": "TupleExpression", "components": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "PreconditionCheck"}, "memberName": "WrongSignature"}], "names": []}, {"type": "StringLiteral", "value": ""}], "isArray": false}]}, "FalseBody": null}]}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "nonces"}, "index": {"type": "Identifier", "name": "from"}}, "right": {"type": "Identifier", "name": "nonce"}}, "TrueBody": {"type": "Block", "statements": [{"type": "TupleExpression", "components": [{"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "PreconditionCheck"}, "memberName": "WrongNonce"}], "names": []}, {"type": "StringLiteral", "value": ""}], "isArray": false}]}, "FalseBody": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "maxCharge", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "maxPossibleCharge"}, "arguments": [{"type": "Identifier", "name": "gasLimit"}, {"type": "Identifier", "name": "gasPrice"}, {"type": "Identifier", "name": "transactionFee"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "encodedTx", "storageLocation": "memory"}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "abi"}, "memberName": "encodeWithSelector"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "IRelayRecipient"}, "arguments": [{"type": "Identifier", "name": "to"}], "names": []}, "memberName": "acceptRelayedCall"}, "memberName": "selector"}, {"type": "Identifier", "name": "relay"}, {"type": "Identifier", "name": "from"}, {"type": "Identifier", "name": "encodedFunction"}, {"type": "Identifier", "name": "transactionFee"}, {"type": "Identifier", "name": "gasPrice"}, {"type": "Identifier", "name": "gasLimit"}, {"type": "Identifier", "name": "nonce"}, {"type": "Identifier", "name": "approvalData"}, {"type": "Identifier", "name": "maxCharge"}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "name": "success", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "isStateVar": false, "isIndexed": false, "decl": 