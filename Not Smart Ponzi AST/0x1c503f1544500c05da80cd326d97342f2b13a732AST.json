{"type": "SourceUnit", "children": [{"type": "PragmaDirective", "name": "solidity", "value": "^0.6.0"}, {"type": "PragmaDirective", "name": "experimental", "value": "ABIEncoderV2"}, {"type": "ContractDefinition", "name": "AccountInterface", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "version", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "enable", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "authority", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "cast", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "address"}, "length": null}, "name": "_targets", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "bytes"}, "length": null}, "name": "_datas", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_origin", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "length": null}, "name": "responses", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}], "kind": "interface"}, {"type": "ContractDefinition", "name": "ListInterface", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "init", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_account", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": [], "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "interface"}, {"type": "ContractDefinition", "name": "AddressIndex", "baseContracts": [], "subNodes": [{"type": "EventDefinition", "name": "LogNewMaster", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "master", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "LogNewCheck", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accountVersion", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "check", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "LogNewAccount", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_newAccount", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_connectors", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_check", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "master", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "list", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "uint"}, "valueType": {"type": "ElementaryTypeName", "name": "address"}}, "name": "connectors", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "uint"}, "valueType": {"type": "ElementaryTypeName", "name": "address"}}, "name": "check", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "uint"}, "valueType": {"type": "ElementaryTypeName", "name": "address"}}, "name": "account", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "versionCount", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "ModifierDefinition", "name": "isMaster", "parameters": {"type": "ParameterList", "parameters": []}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "Identifier", "name": "master"}}, {"type": "StringLiteral", "value": "not-master"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "Identifier", "name": "_"}}]}}, {"type": "FunctionDefinition", "name": "changeMaster", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_newMaster", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "_newMaster"}, "right": {"type": "Identifier", "name": "master"}}, {"type": "StringLiteral", "value": "already-a-master"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "_newMaster"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, {"type": "StringLiteral", "value": "not-valid-address"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "master"}, "right": {"type": "Identifier", "name": "_newMaster"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "LogNewMaster"}, "arguments": [{"type": "Identifier", "name": "_newMaster"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "isMaster", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "changeCheck", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accountVersion", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_newCheck", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "_newCheck"}, "right": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "check"}, "index": {"type": "Identifier", "name": "accountVersion"}}}, {"type": "StringLiteral", "value": "already-a-check"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "_newCheck"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, {"type": "StringLiteral", "value": "not-valid-address"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "check"}, "index": {"type": "Identifier", "name": "accountVersion"}}, "right": {"type": "Identifier", "name": "_newCheck"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "LogNewCheck"}, "arguments": [{"type": "Identifier", "name": "accountVersion"}, {"type": "Identifier", "name": "_newCheck"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "isMaster", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "addNewAccount", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_newAccount", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_connectors", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_check", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "_newAccount"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, {"type": "StringLiteral", "value": "not-valid-address"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "versionCount"}, "isPrefix": false}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "AccountInterface"}, "arguments": [{"type": "Identifier", "name": "_newAccount"}], "names": []}, "memberName": "version"}, "arguments": [], "names": []}, "right": {"type": "Identifier", "name": "versionCount"}}, {"type": "StringLiteral", "value": "not-valid-version"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "account"}, "index": {"type": "Identifier", "name": "versionCount"}}, "right": {"type": "Identifier", "name": "_newAccount"}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "_connectors"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, "TrueBody": {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "connectors"}, "index": {"type": "Identifier", "name": "versionCount"}}, "right": {"type": "Identifier", "name": "_connectors"}}}, "FalseBody": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "_check"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, "TrueBody": {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "check"}, "index": {"type": "Identifier", "name": "versionCount"}}, "right": {"type": "Identifier", "name": "_check"}}}, "FalseBody": null}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "LogNewAccount"}, "arguments": [{"type": "Identifier", "name": "_newAccount"}, {"type": "Identifier", "name": "_connectors"}, {"type": "Identifier", "name": "_check"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "isMaster", "arguments": []}], "isConstructor": false, "stateMutability": null}], "kind": "contract"}, {"type": "ContractDefinition", "name": "CloneFactory", "baseContracts": [{"type": "InheritanceSpecifier", "baseName": {"type": "UserDefinedTypeName", "namePath": "AddressIndex"}, "arguments": []}], "subNodes": [{"type": "FunctionDefinition", "name": "createClone", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "version", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "result", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes20"}, "name": "targetBytes", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes20"}}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "account"}, "index": {"type": "Identifier", "name": "version"}}], "names": []}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "clone"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "HexNumber", "value": "0x40"}]}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "clone", "arguments": []}, {"type": "HexNumber", "value": "0x3d602d80600a3d3981f3363d3d373d3d3d363d73000000000000000000000000"}]}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "clone", "arguments": []}, {"type": "HexNumber", "value": "0x14"}]}, {"type": "AssemblyExpression", "functionName": "targetBytes", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "clone", "arguments": []}, {"type": "HexNumber", "value": "0x28"}]}, {"type": "HexNumber", "value": "0x5af43d82803e903d91602b57fd5bf30000000000000000000000000000000000"}]}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "result"}], "expression": {"type": "AssemblyExpression", "functionName": "create", "arguments": [{"type": "DecimalNumber", "value": "0"}, {"type": "AssemblyExpression", "functionName": "clone", "arguments": []}, {"type": "HexNumber", "value": "0x37"}]}}]}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "isClone", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "version", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "query", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "result", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes20"}, "name": "targetBytes", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "bytes20"}}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "account"}, "index": {"type": "Identifier", "name": "version"}}], "names": []}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "clone"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "HexNumber", "value": "0x40"}]}}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "clone", "arguments": []}, {"type": "HexNumber", "value": "0x363d3d373d3d3d363d7300000000000000000000000000000000000000000000"}]}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "clone", "arguments": []}, {"type": "HexNumber", "value": "0xa"}]}, {"type": "AssemblyExpression", "functionName": "targetBytes", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "mstore", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "clone", "arguments": []}, {"type": "HexNumber", "value": "0x1e"}]}, {"type": "HexNumber", "value": "0x5af43d82803e903d91602b57fd5bf30000000000000000000000000000000000"}]}, {"type": "AssemblyLocalDefinition", "names": [{"type": "Identifier", "name": "other"}], "expression": {"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "clone", "arguments": []}, {"type": "HexNumber", "value": "0x40"}]}}, {"type": "AssemblyExpression", "functionName": "extcodecopy", "arguments": [{"type": "AssemblyExpression", "functionName": "query", "arguments": []}, {"type": "AssemblyExpression", "functionName": "other", "arguments": []}, {"type": "DecimalNumber", "value": "0"}, {"type": "HexNumber", "value": "0x2d"}]}, {"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "result"}], "expression": {"type": "AssemblyExpression", "functionName": "and", "arguments": [{"type": "AssemblyExpression", "functionName": "eq", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "clone", "arguments": []}]}, {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "other", "arguments": []}]}]}, {"type": "AssemblyExpression", "functionName": "eq", "arguments": [{"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "clone", "arguments": []}, {"type": "HexNumber", "value": "0xd"}]}]}, {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "other", "arguments": []}, {"type": "HexNumber", "value": "0xd"}]}]}]}]}}]}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "view"}], "kind": "contract"}, {"type": "ContractDefinition", "name": "InstaIndex", "baseContracts": [{"type": "InheritanceSpecifier", "baseName": {"type": "UserDefinedTypeName", "namePath": "CloneFactory"}, "arguments": []}], "subNodes": [{"type": "EventDefinition", "name": "AccountCreated", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "sender", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "owner", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "account", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "origin", "isStateVar": false, "isIndexed": true}]}, "isAnonymous": false}, {"type": "FunctionDefinition", "name": "buildWithCast", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accountVersion", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "address"}, "length": null}, "name": "_targets", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "bytes"}, "length": null}, "name": "_datas", "storageLocation": "calldata", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_origin", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_account", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "_account"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "build"}, "arguments": [{"type": "Identifier", "name": "_owner"}, {"type": "Identifier", "name": "accountVersion"}, {"type": "Identifier", "name": "_origin"}], "names": []}}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_targets"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "AccountInterface"}, "arguments": [{"type": "Identifier", "name": "_account"}], "names": []}, "memberName": "cast"}, "memberName": "value"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}], "names": []}, "arguments": [{"type": "Identifier", "name": "_targets"}, {"type": "Identifier", "name": "_datas"}, {"type": "Identifier", "name": "_origin"}], "names": []}}, "FalseBody": null}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "build", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_owner", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "accountVersion", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_origin", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_account", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "Identifier", "name": "accountVersion"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "accountVersion"}, "right": {"type": "Identifier", "name": "versionCount"}}}, {"type": "StringLiteral", "value": "not-valid-account"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "_account"}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "createClone"}, "arguments": [{"type": "Identifier", "name": "accountVersion"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ListInterface"}, "arguments": [{"type": "Identifier", "name": "list"}], "names": []}, "memberName": "init"}, "arguments": [{"type": "Identifier", "name": "_account"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "AccountInterface"}, "arguments": [{"type": "Identifier", "name": "_account"}], "names": []}, "memberName": "enable"}, "arguments": [{"type": "Identifier", "name": "_owner"}], "names": []}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "AccountCreated"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "_owner"}, {"type": "Identifier", "name": "_account"}, {"type": "Identifier", "name": "_origin"}], "names": []}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "setBasics", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_master", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_list", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_account", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "_connectors", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "master"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "list"}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "account"}, "index": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "connectors"}, "index": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, "right": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "address"}}, "arguments": [{"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": []}}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "versionCount"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}}, {"type": "StringLiteral", "value": "already-defined"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "master"}, "right": {"type": "Identifier", "name": "_master"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "list"}, "right": {"type": "Identifier", "name": "_list"}}}, {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "versionCount"}, "isPrefix": false}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "account"}, "index": {"type": "Identifier", "name": "versionCount"}}, "right": {"type": "Identifier", "name": "_account"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "connectors"}, "index": {"type": "Identifier", "name": "versionCount"}}, "right": {"type": "Identifier", "name": "_connectors"}}}]}, "visibility": "external", "modifiers": [], "isConstructor": false, "stateMutability": null}], "kind": "contract"}]}