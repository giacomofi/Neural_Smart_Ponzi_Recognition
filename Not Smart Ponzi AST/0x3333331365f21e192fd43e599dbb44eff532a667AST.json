{"type": "SourceUnit", "children": [{"type": "PragmaDirective", "name": "solidity", "value": "0.5.16"}, {"type": "ContractDefinition", "name": "SafeMath", "baseContracts": [], "subNodes": [{"type": "FunctionDefinition", "name": "mul", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "b", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "c", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "Identifier", "name": "b"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "assert"}, "arguments": [{"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "BinaryOperation", "operator": "/", "left": {"type": "Identifier", "name": "c"}, "right": {"type": "Identifier", "name": "a"}}, "right": {"type": "Identifier", "name": "b"}}}], "names": []}}, {"type": "Identifier", "name": "c"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "div", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "b", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "c", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "/", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "Identifier", "name": "b"}}}, {"type": "Identifier", "name": "c"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "sub", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "b", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "assert"}, "arguments": [{"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "b"}, "right": {"type": "Identifier", "name": "a"}}], "names": []}}, {"type": "BinaryOperation", "operator": "-", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "Identifier", "name": "b"}}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}, {"type": "FunctionDefinition", "name": "add", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "a", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "b", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "c", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "+", "left": {"type": "Identifier", "name": "a"}, "right": {"type": "Identifier", "name": "b"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "assert"}, "arguments": [{"type": "BinaryOperation", "operator": ">=", "left": {"type": "Identifier", "name": "c"}, "right": {"type": "Identifier", "name": "a"}}], "names": []}}, {"type": "Identifier", "name": "c"}]}, "visibility": "internal", "modifiers": [], "isConstructor": false, "stateMutability": "pure"}], "kind": "library"}, {"type": "ContractDefinition", "name": "CryptoGames", "baseContracts": [], "subNodes": [{"type": "UsingForDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "libraryName": "SafeMath"}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "owner", "expression": {"type": "NumberLiteral", "number": "0x333333e25F2176e2e165Aeb1b933cE10Cf315b47", "subdenomination": null}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0x333333e25F2176e2e165Aeb1b933cE10Cf315b47", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "CROUPIER_BOB", "expression": {"type": "NumberLiteral", "number": "0xB0B3336c83A4c86FBd4f804BB8D410B23F181b05", "subdenomination": null}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0xB0B3336c83A4c86FBd4f804BB8D410B23F181b05", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "minStake", "expression": {"type": "NumberLiteral", "number": "0.01", "subdenomination": "ether"}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "0.01", "subdenomination": "ether"}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "maxStake", "expression": {"type": "NumberLiteral", "number": "15", "subdenomination": "ether"}, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "15", "subdenomination": "ether"}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "WIN_COEFFICIENT", "expression": {"type": "NumberLiteral", "number": "198", "subdenomination": null}, "visibility": "public", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "198", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "DICE_COEFFICIENT", "expression": {"type": "NumberLiteral", "number": "600", "subdenomination": null}, "visibility": "public", "isStateVar": true, "isDeclaredConst": true, "isIndexed": false}], "initialValue": {"type": "NumberLiteral", "number": "600", "subdenomination": null}}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "ElementaryTypeName", "name": "uint"}}, "name": "deposit", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "address"}, "valueType": {"type": "ElementaryTypeName", "name": "uint"}}, "name": "withdrawal", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "status", "expression": {"type": "BooleanLiteral", "value": true}, "visibility": "default", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": {"type": "BooleanLiteral", "value": true}}, {"type": "EnumDefinition", "name": "GameState", "members": [{"type": "EnumValue", "name": "Pending"}, {"type": "EnumValue", "name": "Win"}, {"type": "EnumValue", "name": "Lose"}, {"type": "EnumValue", "name": "Draw"}]}, {"type": "EnumDefinition", "name": "Games", "members": [{"type": "EnumValue", "name": "CoinFlip"}, {"type": "EnumValue", "name": "KNB"}, {"type": "EnumValue", "name": "Dice"}]}, {"type": "StructDefinition", "name": "Game", "members": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "Games"}, "name": "game_title", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "name": "player", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "bet", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "seed", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "GameState"}, "name": "state", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "result", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "choice", "storageLocation": null}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "profit", "storageLocation": null}]}, {"type": "EventDefinition", "name": "NewGame", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "player", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "seed", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "bet", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "choice", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "game", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "DemoGame", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "player", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "seed", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "bet", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "choice", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "game", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "ConfirmGame", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "player", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "game", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "profit", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "choice", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "game_choice", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "seed", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "status", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bool"}, "name": "draw", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "timestamp", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "Deposit", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "block", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "time", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "EventDefinition", "name": "Withdrawal", "parameters": {"type": "ParameterList", "parameters": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "from", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "block", "isStateVar": false, "isIndexed": true}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "value", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "ident", "isStateVar": false, "isIndexed": false}, {"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "time", "isStateVar": false, "isIndexed": false}]}, "isAnonymous": false}, {"type": "StateVariableDeclaration", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "Mapping", "keyType": {"type": "ElementaryTypeName", "name": "bytes32"}, "valueType": {"type": "UserDefinedTypeName", "namePath": "Game"}}, "name": "listGames", "expression": null, "visibility": "public", "isStateVar": true, "isDeclaredConst": false, "isIndexed": false}], "initialValue": null}, {"type": "ModifierDefinition", "name": "onlyCroupier", "parameters": {"type": "ParameterList", "parameters": []}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "Identifier", "name": "CROUPIER_BOB"}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "Identifier", "name": "_"}}]}}, {"type": "ModifierDefinition", "name": "betInRange", "parameters": {"type": "ParameterList", "parameters": []}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "minStake"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}}, "right": {"type": "BinaryOperation", "operator": "<=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, "right": {"type": "Identifier", "name": "maxStake"}}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "Identifier", "name": "_"}}]}}, {"type": "ModifierDefinition", "name": "onlyOwner", "parameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, "right": {"type": "Identifier", "name": "owner"}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "Identifier", "name": "_"}}]}}, {"type": "ModifierDefinition", "name": "isNotContract", "parameters": {"type": "ParameterList", "parameters": []}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "size", "storageLocation": null}], "initialValue": null}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "address"}, "name": "addr", "storageLocation": null}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "size"}], "expression": {"type": "AssemblyExpression", "functionName": "extcodesize", "arguments": [{"type": "AssemblyExpression", "functionName": "addr", "arguments": []}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "size"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "tx"}, "memberName": "origin"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "Identifier", "name": "_"}}]}}, {"type": "ModifierDefinition", "name": "contractIsOn", "parameters": {"type": "ParameterList", "parameters": []}, "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "Identifier", "name": "status"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "Identifier", "name": "_"}}]}}, {"type": "FunctionDefinition", "name": "game_coin", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "_choice", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "seed", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "game_title", "storageLocation": "memory"}], "initialValue": {"type": "StringLiteral", "value": "CoinFlip"}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "user_choice", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "user_choice"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "HexNumber", "value": "0x1"}, {"type": "AssemblyExpression", "functionName": "_choice", "arguments": []}]}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "listGames"}, "index": {"type": "Identifier", "name": "seed"}}, "memberName": "bet"}, "right": {"type": "NumberLiteral", "number": "0x0", "subdenomination": null}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_choice"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "user_choice"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "user_choice"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "listGames"}, "index": {"type": "Identifier", "name": "seed"}}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "Game"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "Games"}, "memberName": "CoinFlip"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, {"type": "Identifier", "name": "seed"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "GameState"}, "memberName": "Pending"}, {"type": "Identifier", "name": "_choice"}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": ["game_title", "player", "bet", "seed", "state", "choice", "result", "profit"]}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "NewGame"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "seed"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, {"type": "Identifier", "name": "_choice"}, {"type": "Identifier", "name": "game_title"}], "names": []}}, {"type": "Identifier", "name": "user_choice"}]}, "visibility": "public", "modifiers": [{"type": "ModifierInvocation", "name": "betInRange", "arguments": []}], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "game_knb", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "_choice", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "seed", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "game_title", "storageLocation": "memory"}], "initialValue": {"type": "StringLiteral", "value": "KNB"}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "user_choice", "storageLocation": null}], "initialValue": null}, {"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "user_choice"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "HexNumber", "value": "0x1"}, {"type": "AssemblyExpression", "functionName": "_choice", "arguments": []}]}]}}]}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "listGames"}, "index": {"type": "Identifier", "name": "seed"}}, "memberName": "bet"}, "right": {"type": "NumberLiteral", "number": "0x0", "subdenomination": null}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_choice"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": ">=", "left": {"type": "Identifier", "name": "user_choice"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "<=", "left": {"type": "Identifier", "name": "user_choice"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "listGames"}, "index": {"type": "Identifier", "name": "seed"}}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "Game"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "Games"}, "memberName": "KNB"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, {"type": "Identifier", "name": "seed"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "GameState"}, "memberName": "Pending"}, {"type": "Identifier", "name": "_choice"}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": ["game_title", "player", "bet", "seed", "state", "choice", "result", "profit"]}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "NewGame"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "seed"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, {"type": "Identifier", "name": "_choice"}, {"type": "Identifier", "name": "game_title"}], "names": []}}]}, "visibility": "public", "modifiers": [{"type": "ModifierInvocation", "name": "betInRange", "arguments": []}], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "game_dice", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "_choice", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "seed", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "game_title", "storageLocation": "memory"}], "initialValue": {"type": "StringLiteral", "value": "Dice"}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "listGames"}, "index": {"type": "Identifier", "name": "seed"}}, "memberName": "bet"}, "right": {"type": "NumberLiteral", "number": "0x0", "subdenomination": null}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": ">=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_choice"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "<=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "_choice"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "5", "subdenomination": null}}}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "listGames"}, "index": {"type": "Identifier", "name": "seed"}}, "right": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "Game"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "Games"}, "memberName": "Dice"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, {"type": "Identifier", "name": "seed"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "GameState"}, "memberName": "Pending"}, {"type": "Identifier", "name": "_choice"}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}], "names": ["game_title", "player", "bet", "seed", "state", "choice", "result", "profit"]}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "NewGame"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "seed"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, {"type": "Identifier", "name": "_choice"}, {"type": "Identifier", "name": "game_title"}], "names": []}}]}, "visibility": "public", "modifiers": [{"type": "ModifierInvocation", "name": "betInRange", "arguments": []}], "isConstructor": false, "stateMutability": "payable"}, {"type": "FunctionDefinition", "name": "confirm", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "seed", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "_v", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "_r", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "_s", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "require"}, "arguments": [{"type": "BinaryOperation", "operator": "==", "left": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ecrecover"}, "arguments": [{"type": "Identifier", "name": "seed"}, {"type": "Identifier", "name": "_v"}, {"type": "Identifier", "name": "_r"}, {"type": "Identifier", "name": "_s"}], "names": []}, "right": {"type": "Identifier", "name": "CROUPIER_BOB"}}], "names": []}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "Game"}, "name": "game", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "listGames"}, "index": {"type": "Identifier", "name": "seed"}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "choice", "storageLocation": "memory"}], "initialValue": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "choice"}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, "right": {"type": "BinaryOperation", "operator": "%", "left": {"type": "FunctionCall", "expression": {"type": "ElementaryTypeNameExpression", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}}, "arguments": [{"type": "Identifier", "name": "_s"}], "names": []}, "right": {"type": "NumberLiteral", "number": "12", "subdenomination": null}}}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "profit", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "user_choice", "storageLocation": null}], "initialValue": null}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "game_title"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "Games"}, "memberName": "CoinFlip"}}, "TrueBody": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "user_choice"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "HexNumber", "value": "0x1"}, {"type": "AssemblyExpression", "functionName": "choice", "arguments": []}]}]}}]}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, "right": {"type": "Identifier", "name": "user_choice"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "profit"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "bet"}, "memberName": "mul"}, "arguments": [{"type": "Identifier", "name": "WIN_COEFFICIENT"}], "names": []}, "memberName": "div"}, "arguments": [{"type": "NumberLiteral", "number": "100", "subdenomination": null}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "GameState"}, "memberName": "Win"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "profit"}, "right": {"type": "Identifier", "name": "profit"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "player"}, "memberName": "transfer"}, "arguments": [{"type": "Identifier", "name": "profit"}], "names": []}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ConfirmGame"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "player"}, {"type": "StringLiteral", "value": "CoinFlip"}, {"type": "Identifier", "name": "profit"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "choice"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "seed"}, {"type": "BooleanLiteral", "value": true}, {"type": "BooleanLiteral", "value": false}, {"type": "Identifier", "name": "now"}], "names": []}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "GameState"}, "memberName": "Lose"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ConfirmGame"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "player"}, {"type": "StringLiteral", "value": "CoinFlip"}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "choice"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "seed"}, {"type": "BooleanLiteral", "value": false}, {"type": "BooleanLiteral", "value": false}, {"type": "Identifier", "name": "now"}], "names": []}}]}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "game_title"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "Games"}, "memberName": "KNB"}}, "TrueBody": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "user_choice"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "HexNumber", "value": "0x1"}, {"type": "AssemblyExpression", "functionName": "choice", "arguments": []}]}]}}]}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "!=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, "right": {"type": "Identifier", "name": "user_choice"}}, "TrueBody": {"type": "Block", "statements": [{"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": "||", "left": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "user_choice"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}}, "right": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "user_choice"}, "right": {"type": "NumberLiteral", "number": "2", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}}}, "right": {"type": "BinaryOperation", "operator": "&&", "left": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "user_choice"}, "right": {"type": "NumberLiteral", "number": "3", "subdenomination": null}}, "right": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "profit"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "bet"}, "memberName": "mul"}, "arguments": [{"type": "Identifier", "name": "WIN_COEFFICIENT"}], "names": []}, "memberName": "div"}, "arguments": [{"type": "NumberLiteral", "number": "100", "subdenomination": null}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "GameState"}, "memberName": "Win"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "profit"}, "right": {"type": "Identifier", "name": "profit"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "player"}, "memberName": "transfer"}, "arguments": [{"type": "Identifier", "name": "profit"}], "names": []}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ConfirmGame"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "player"}, {"type": "StringLiteral", "value": "KNB"}, {"type": "Identifier", "name": "profit"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "choice"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "seed"}, {"type": "BooleanLiteral", "value": true}, {"type": "BooleanLiteral", "value": false}, {"type": "Identifier", "name": "now"}], "names": []}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "GameState"}, "memberName": "Lose"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ConfirmGame"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "player"}, {"type": "StringLiteral", "value": "KNB"}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "choice"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "seed"}, {"type": "BooleanLiteral", "value": false}, {"type": "BooleanLiteral", "value": false}, {"type": "Identifier", "name": "now"}], "names": []}}]}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "profit"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "bet"}, "memberName": "sub"}, "arguments": [{"type": "NumberLiteral", "number": "0.001", "subdenomination": "ether"}], "names": []}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "player"}, "memberName": "transfer"}, "arguments": [{"type": "Identifier", "name": "profit"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "GameState"}, "memberName": "Draw"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ConfirmGame"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "player"}, {"type": "StringLiteral", "value": "KNB"}, {"type": "Identifier", "name": "profit"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "choice"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "seed"}, {"type": "BooleanLiteral", "value": false}, {"type": "BooleanLiteral", "value": true}, {"type": "Identifier", "name": "now"}], "names": []}}]}}]}, "FalseBody": {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "game_title"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "Games"}, "memberName": "Dice"}}, "TrueBody": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "length", "storageLocation": null}], "initialValue": {"type": "BinaryOperation", "operator": "+", "left": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "choice"}, "memberName": "length"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}, {"type": "ForStatement", "initExpression": {"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint8"}, "name": "i", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}, "conditionExpression": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "i"}, "right": {"type": "Identifier", "name": "length"}}, "loopExpression": {"type": "ExpressionStatement", "expression": {"type": "UnaryOperation", "operator": "++", "subExpression": {"type": "Identifier", "name": "i"}, "isPrefix": false}}, "body": {"type": "Block", "statements": [{"type": "InLineAssemblyStatement", "language": null, "body": {"type": "AssemblyBlock", "operations": [{"type": "AssemblyAssignment", "names": [{"type": "Identifier", "name": "user_choice"}], "expression": {"type": "AssemblyExpression", "functionName": "mload", "arguments": [{"type": "AssemblyExpression", "functionName": "add", "arguments": [{"type": "AssemblyExpression", "functionName": "i", "arguments": []}, {"type": "AssemblyExpression", "functionName": "choice", "arguments": []}]}]}}]}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": "==", "left": {"type": "Identifier", "name": "user_choice"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "profit"}, "right": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "bet"}, "memberName": "mul"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "DICE_COEFFICIENT"}, "memberName": "div"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "choice"}, "memberName": "length"}], "names": []}], "names": []}, "memberName": "div"}, "arguments": [{"type": "NumberLiteral", "number": "100", "subdenomination": null}], "names": []}}}]}, "FalseBody": null}]}}, {"type": "IfStatement", "condition": {"type": "BinaryOperation", "operator": ">", "left": {"type": "Identifier", "name": "profit"}, "right": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, "TrueBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "GameState"}, "memberName": "Win"}}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "profit"}, "right": {"type": "Identifier", "name": "profit"}}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "player"}, "memberName": "transfer"}, "arguments": [{"type": "Identifier", "name": "profit"}], "names": []}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ConfirmGame"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "player"}, {"type": "StringLiteral", "value": "Dice"}, {"type": "Identifier", "name": "profit"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "choice"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "seed"}, {"type": "BooleanLiteral", "value": true}, {"type": "BooleanLiteral", "value": false}, {"type": "Identifier", "name": "now"}], "names": []}}]}, "FalseBody": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "state"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "GameState"}, "memberName": "Lose"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "ConfirmGame"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "player"}, {"type": "StringLiteral", "value": "Dice"}, {"type": "NumberLiteral", "number": "0", "subdenomination": null}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "choice"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "result"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "seed"}, {"type": "BooleanLiteral", "value": false}, {"type": "BooleanLiteral", "value": false}, {"type": "Identifier", "name": "now"}], "names": []}}]}}]}, "FalseBody": null}}}]}, "visibility": "public", "modifiers": [{"type": "ModifierInvocation", "name": "onlyCroupier", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "demo_game", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "string"}, "name": "game", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": "_choice", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "seed", "storageLocation": null, "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "bet", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "DemoGame"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "Identifier", "name": "seed"}, {"type": "Identifier", "name": "bet"}, {"type": "Identifier", "name": "_choice"}, {"type": "Identifier", "name": "game"}], "names": []}}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "get_player_choice", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes32"}, "name": "seed", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "bytes"}, "name": null, "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "UserDefinedTypeName", "namePath": "Game"}, "name": "game", "storageLocation": "storage"}], "initialValue": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "listGames"}, "index": {"type": "Identifier", "name": "seed"}}}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "game"}, "memberName": "choice"}]}, "visibility": "public", "modifiers": [], "isConstructor": false, "stateMutability": "view"}, {"type": "FunctionDefinition", "name": "pay_royalty", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "_value", "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "owner"}, "memberName": "transfer"}, "arguments": [{"type": "BinaryOperation", "operator": "*", "left": {"type": "Identifier", "name": "_value"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": "ether"}}], "names": []}}]}, "visibility": "public", "modifiers": [{"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "multisend", "parameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "address", "stateMutability": "payable"}, "length": null}, "name": "dests", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint256"}, "length": null}, "name": "values", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}, {"type": "Parameter", "typeName": {"type": "ArrayTypeName", "baseTypeName": {"type": "ElementaryTypeName", "name": "uint256"}, "length": null}, "name": "ident", "storageLocation": "memory", "isStateVar": false, "isIndexed": false}]}, "returnParameters": {"type": "ParameterList", "parameters": [{"type": "Parameter", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": null, "storageLocation": null, "isStateVar": false, "isIndexed": false}]}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint256"}, "name": "i", "storageLocation": null}], "initialValue": {"type": "NumberLiteral", "number": "0", "subdenomination": null}}, {"type": "WhileStatement", "condition": {"type": "BinaryOperation", "operator": "<", "left": {"type": "Identifier", "name": "i"}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "dests"}, "memberName": "length"}}, "body": {"type": "Block", "statements": [{"type": "VariableDeclarationStatement", "variables": [{"type": "VariableDeclaration", "typeName": {"type": "ElementaryTypeName", "name": "uint"}, "name": "transfer_value", "storageLocation": null}], "initialValue": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "values"}, "index": {"type": "Identifier", "name": "i"}}, "memberName": "sub"}, "arguments": [{"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "values"}, "index": {"type": "Identifier", "name": "i"}}, "memberName": "mul"}, "arguments": [{"type": "NumberLiteral", "number": "3", "subdenomination": null}], "names": []}, "memberName": "div"}, "arguments": [{"type": "NumberLiteral", "number": "100", "subdenomination": null}], "names": []}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "FunctionCall", "expression": {"type": "MemberAccess", "expression": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "dests"}, "index": {"type": "Identifier", "name": "i"}}, "memberName": "transfer"}, "arguments": [{"type": "Identifier", "name": "transfer_value"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "withdrawal"}, "index": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "dests"}, "index": {"type": "Identifier", "name": "i"}}}, "right": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "values"}, "index": {"type": "Identifier", "name": "i"}}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "Withdrawal"}, "arguments": [{"type": "IndexAccess", "base": {"type": "Identifier", "name": "dests"}, "index": {"type": "Identifier", "name": "i"}}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "block"}, "memberName": "number"}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "values"}, "index": {"type": "Identifier", "name": "i"}}, {"type": "IndexAccess", "base": {"type": "Identifier", "name": "ident"}, "index": {"type": "Identifier", "name": "i"}}, {"type": "Identifier", "name": "now"}], "names": []}}, {"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "Identifier", "name": "i"}, "right": {"type": "NumberLiteral", "number": "1", "subdenomination": null}}}]}}, {"type": "TupleExpression", "components": [{"type": "Identifier", "name": "i"}], "isArray": false}]}, "visibility": "public", "modifiers": [{"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}, {"type": "ModifierInvocation", "name": "contractIsOn", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "startProphylaxy", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "status"}, "right": {"type": "BooleanLiteral", "value": false}}}]}, "visibility": "public", "modifiers": [{"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "stopProphylaxy", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "=", "left": {"type": "Identifier", "name": "status"}, "right": {"type": "BooleanLiteral", "value": true}}}]}, "visibility": "public", "modifiers": [{"type": "ModifierInvocation", "name": "onlyOwner", "arguments": []}], "isConstructor": false, "stateMutability": null}, {"type": "FunctionDefinition", "name": "", "parameters": {"type": "ParameterList", "parameters": []}, "returnParameters": [], "body": {"type": "Block", "statements": [{"type": "ExpressionStatement", "expression": {"type": "BinaryOperation", "operator": "+=", "left": {"type": "IndexAccess", "base": {"type": "Identifier", "name": "deposit"}, "index": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}}, "right": {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}}}, {"type": "EmitStatement", "eventCall": {"type": "FunctionCall", "expression": {"type": "Identifier", "name": "Deposit"}, "arguments": [{"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "sender"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "block"}, "memberName": "number"}, {"type": "MemberAccess", "expression": {"type": "Identifier", "name": "msg"}, "memberName": "value"}, {"type": "Identifier", "name": "now"}], "names": []}}]}, "visibility": "external", "modifiers": [{"type": "ModifierInvocation", "name": "isNotContract", "arguments": []}, {"type": "ModifierInvocation", "name": "contractIsOn", "arguments": []}, {"type": "ModifierInvocation", "name": "betInRange", "arguments": []}], "isConstructor": false, "stateMutability": "payable"}], "kind": "contract"}]}